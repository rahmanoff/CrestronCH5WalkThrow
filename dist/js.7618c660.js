parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"YVpR":[function(require,module,exports) {
var define;
var define;function _regeneratorRuntime(){"use strict";_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,i=t.hasOwnProperty,n=Object.defineProperty||function(e,t,i){e[t]=i.value},s="function"==typeof Symbol?Symbol:{},r=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,i){return e[t]=i}}function u(e,t,i,s){var r=t&&t.prototype instanceof d?t:d,a=Object.create(r.prototype),o=new T(s||[]);return n(a,"_invoke",{value:y(e,i,o)}),a}function c(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var v={};l(v,r,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==t&&i.call(b,r)&&(v=b);var m=p.prototype=d.prototype=Object.create(v);function _(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){var s;n(this,"_invoke",{value:function(n,r){function a(){return new t(function(s,a){!function n(s,r,a,o){var l=c(e[s],e,r);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==_typeof(h)&&i.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,a,o)},function(e){n("throw",e,a,o)}):t.resolve(h).then(function(e){u.value=e,a(u)},function(e){return n("throw",e,a,o)})}o(l.arg)}(n,r,s,a)})}return s=s?s.then(a,a):a()}})}function y(e,t,i){var n="suspendedStart";return function(s,r){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===s)throw r;return k()}for(i.method=s,i.arg=r;;){var a=i.delegate;if(a){var o=C(a,i);if(o){if(o===h)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=c(e,t,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}function C(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=c(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var s=n.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function w(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},_(S.prototype),l(S.prototype,a,function(){return this}),e.AsyncIterator=S,e.async=function(t,i,n,s,r){void 0===r&&(r=Promise);var a=new S(u(t,i,n,s),r);return e.isGeneratorFunction(i)?a:a.next().then(function(e){return e.done?e.value:a.next()})},_(m),l(m,o,"Generator"),l(m,r,function(){return this}),l(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=w,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(i,n){return a.type="throw",a.arg=e,t.next=i,n&&(t.method="next",t.arg=void 0),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var r=this.tryEntries[s],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var o=i.call(r,"catchLoc"),l=i.call(r,"finallyLoc");if(o&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&i.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),A(i),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var s=n.arg;A(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:w(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,s,r=[],a=!0,o=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(l){o=!0,s=l}finally{try{a||null==i.return||i.return()}finally{if(o)throw s}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=_superPropBase(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(arguments.length<3?e:i):s.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(e);if(t){var s=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(i,e)})(e)}function _construct(e,t,i){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,i){var n=[null];n.push.apply(n,t);var s=new(Function.bind.apply(e,n));return i&&_setPrototypeOf(s,i.prototype),s}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}module.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=281)}([function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(280),t),s(i(279),t),s(i(278),t),s(i(30),t),s(i(12),t),s(i(97),t),s(i(277),t),s(i(8),t),s(i(95),t),s(i(276),t),s(i(275),t),s(i(88),t),s(i(41),t),s(i(40),t),s(i(87),t),s(i(274),t),s(i(273),t),s(i(272),t),s(i(92),t),s(i(271),t),s(i(86),t),s(i(270),t),s(i(23),t),s(i(93),t),s(i(29),t),s(i(269),t),s(i(268),t),s(i(267),t),s(i(266),t)},function(e,t,i){(function(e,n){var s;(function(){var r,a=200,o="Expected a function",l="__lodash_hash_undefined__",u="__lodash_placeholder__",c=1,h=2,d=4,f=1,p=2,v=1,g=2,b=4,m=8,_=16,S=32,y=64,C=128,E=256,A=512,T=800,w=16,k=1/0,I=9007199254740991,O=1.7976931348623157e308,P=NaN,L=4294967295,N=L-1,x=L>>>1,R=[["ary",C],["bind",v],["bindKey",g],["curry",m],["curryRight",_],["flip",A],["partial",S],["partialRight",y],["rearg",E]],M="[object Arguments]",V="[object Array]",H="[object AsyncFunction]",D="[object Boolean]",B="[object Date]",F="[object DOMException]",U="[object Error]",j="[object Function]",z="[object GeneratorFunction]",Y="[object Map]",W="[object Number]",G="[object Null]",q="[object Object]",X="[object Proxy]",K="[object RegExp]",J="[object Set]",$="[object String]",Z="[object Symbol]",Q="[object Undefined]",ee="[object WeakMap]",te="[object ArrayBuffer]",ie="[object DataView]",ne="[object Float32Array]",se="[object Float64Array]",re="[object Int8Array]",ae="[object Int16Array]",oe="[object Int32Array]",le="[object Uint8Array]",ue="[object Uint8ClampedArray]",ce="[object Uint16Array]",he="[object Uint32Array]",de=/\b__p \+= '';/g,fe=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39);/g,ge=/[&<>"']/g,be=RegExp(ve.source),me=RegExp(ge.source),_e=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,ye=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ee=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Te=/[\\^$.*+?()[\]{}|]/g,we=RegExp(Te.source),ke=/^\s+/,Ie=/\s/,Oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pe=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,Ne=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xe=/[()=,{}\[\]\/\s]/,Re=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ve=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,De=/^0b[01]+$/i,Be=/^\[object .+?Constructor\]$/,Fe=/^0o[0-7]+$/i,Ue=/^(?:0|[1-9]\d*)$/,je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ze=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,We="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ge="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qe="["+Ge+"]",Xe="["+We+"]",Ke="\\d+",Je="[a-z\\xdf-\\xf6\\xf8-\\xff]",$e="[^\\ud800-\\udfff"+Ge+Ke+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ze="\\ud83c[\\udffb-\\udfff]",Qe="[^\\ud800-\\udfff]",et="(?:\\ud83c[\\udde6-\\uddff]){2}",tt="[\\ud800-\\udbff][\\udc00-\\udfff]",it="[A-Z\\xc0-\\xd6\\xd8-\\xde]",nt="(?:"+Je+"|"+$e+")",st="(?:"+it+"|"+$e+")",rt="(?:"+Xe+"|"+Ze+")?",at="[\\ufe0e\\ufe0f]?"+rt+"(?:\\u200d(?:"+[Qe,et,tt].join("|")+")[\\ufe0e\\ufe0f]?"+rt+")*",ot="(?:"+["[\\u2700-\\u27bf]",et,tt].join("|")+")"+at,lt="(?:"+[Qe+Xe+"?",Xe,et,tt,"[\\ud800-\\udfff]"].join("|")+")",ut=RegExp("['’]","g"),ct=RegExp(Xe,"g"),ht=RegExp(Ze+"(?="+Ze+")|"+lt+at,"g"),dt=RegExp([it+"?"+Je+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[qe,it,"$"].join("|")+")",st+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[qe,it+nt,"$"].join("|")+")",it+"?"+nt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",it+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ke,ot].join("|"),"g"),ft=RegExp("[\\u200d\\ud800-\\udfff"+We+"\\ufe0e\\ufe0f]"),pt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gt=-1,bt={};bt[ne]=bt[se]=bt[re]=bt[ae]=bt[oe]=bt[le]=bt[ue]=bt[ce]=bt[he]=!0,bt[M]=bt[V]=bt[te]=bt[D]=bt[ie]=bt[B]=bt[U]=bt[j]=bt[Y]=bt[W]=bt[q]=bt[K]=bt[J]=bt[$]=bt[ee]=!1;var mt={};mt[M]=mt[V]=mt[te]=mt[ie]=mt[D]=mt[B]=mt[ne]=mt[se]=mt[re]=mt[ae]=mt[oe]=mt[Y]=mt[W]=mt[q]=mt[K]=mt[J]=mt[$]=mt[Z]=mt[le]=mt[ue]=mt[ce]=mt[he]=!0,mt[U]=mt[j]=mt[ee]=!1;var _t={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},St=parseFloat,yt=parseInt,Ct="object"==_typeof(e)&&e&&e.Object===Object&&e,Et="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,At=Ct||Et||Function("return this")(),Tt="object"==_typeof(t)&&t&&!t.nodeType&&t,wt=Tt&&"object"==_typeof(n)&&n&&!n.nodeType&&n,kt=wt&&wt.exports===Tt,It=kt&&Ct.process,Ot=function(){try{return wt&&wt.require&&wt.require("util").types||It&&It.binding&&It.binding("util")}catch(e){}}(),Pt=Ot&&Ot.isArrayBuffer,Lt=Ot&&Ot.isDate,Nt=Ot&&Ot.isMap,xt=Ot&&Ot.isRegExp,Rt=Ot&&Ot.isSet,Mt=Ot&&Ot.isTypedArray;function Vt(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function Ht(e,t,i,n){for(var s=-1,r=null==e?0:e.length;++s<r;){var a=e[s];t(n,a,i(a),e)}return n}function Dt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}function Bt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function Ft(e,t){for(var i=-1,n=null==e?0:e.length,s=0,r=[];++i<n;){var a=e[i];t(a,i,e)&&(r[s++]=a)}return r}function Ut(e,t){return!(null==e||!e.length)&&$t(e,t,0)>-1}function jt(e,t,i){for(var n=-1,s=null==e?0:e.length;++n<s;)if(i(t,e[n]))return!0;return!1}function zt(e,t){for(var i=-1,n=null==e?0:e.length,s=Array(n);++i<n;)s[i]=t(e[i],i,e);return s}function Yt(e,t){for(var i=-1,n=t.length,s=e.length;++i<n;)e[s+i]=t[i];return e}function Wt(e,t,i,n){var s=-1,r=null==e?0:e.length;for(n&&r&&(i=e[++s]);++s<r;)i=t(i,e[s],s,e);return i}function Gt(e,t,i,n){var s=null==e?0:e.length;for(n&&s&&(i=e[--s]);s--;)i=t(i,e[s],s,e);return i}function qt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}var Xt=ti("length");function Kt(e,t,i){var n;return i(e,function(e,i,s){if(t(e,i,s))return n=i,!1}),n}function Jt(e,t,i,n){for(var s=e.length,r=i+(n?1:-1);n?r--:++r<s;)if(t(e[r],r,e))return r;return-1}function $t(e,t,i){return t==t?function(e,t,i){for(var n=i-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}(e,t,i):Jt(e,Qt,i)}function Zt(e,t,i,n){for(var s=i-1,r=e.length;++s<r;)if(n(e[s],t))return s;return-1}function Qt(e){return e!=e}function ei(e,t){var i=null==e?0:e.length;return i?si(e,t)/i:P}function ti(e){return function(t){return null==t?r:t[e]}}function ii(e){return function(t){return null==e?r:e[t]}}function ni(e,t,i,n,s){return s(e,function(e,s,r){i=n?(n=!1,e):t(i,e,s,r)}),i}function si(e,t){for(var i,n=-1,s=e.length;++n<s;){var a=t(e[n]);a!==r&&(i=i===r?a:i+a)}return i}function ri(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function ai(e){return e?e.slice(0,Ci(e)+1).replace(ke,""):e}function oi(e){return function(t){return e(t)}}function li(e,t){return zt(t,function(t){return e[t]})}function ui(e,t){return e.has(t)}function ci(e,t){for(var i=-1,n=e.length;++i<n&&$t(t,e[i],0)>-1;);return i}function hi(e,t){for(var i=e.length;i--&&$t(t,e[i],0)>-1;);return i}var di=ii({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),fi=ii({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function pi(e){return"\\"+_t[e]}function vi(e){return ft.test(e)}function gi(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}function bi(e,t){return function(i){return e(t(i))}}function mi(e,t){for(var i=-1,n=e.length,s=0,r=[];++i<n;){var a=e[i];a!==t&&a!==u||(e[i]=u,r[s++]=i)}return r}function _i(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function Si(e){return vi(e)?function(e){for(var t=ht.lastIndex=0;ht.test(e);)++t;return t}(e):Xt(e)}function yi(e){return vi(e)?function(e){return e.match(ht)||[]}(e):function(e){return e.split("")}(e)}function Ci(e){for(var t=e.length;t--&&Ie.test(e.charAt(t)););return t}var Ei=ii({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ai=function e(t){var i=(t=null==t?At:Ai.defaults(At.Object(),t,Ai.pick(At,vt))).Array,n=t.Date,s=t.Error,Ie=t.Function,We=t.Math,Ge=t.Object,qe=t.RegExp,Xe=t.String,Ke=t.TypeError,Je=i.prototype,$e=Ie.prototype,Ze=Ge.prototype,Qe=t["__core-js_shared__"],et=$e.toString,tt=Ze.hasOwnProperty,it=0,nt=function(){var e=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),st=Ze.toString,rt=et.call(Ge),at=At._,ot=qe("^"+et.call(tt).replace(Te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=kt?t.Buffer:r,ht=t.Symbol,ft=t.Uint8Array,_t=lt?lt.allocUnsafe:r,Ct=bi(Ge.getPrototypeOf,Ge),Et=Ge.create,Tt=Ze.propertyIsEnumerable,wt=Je.splice,It=ht?ht.isConcatSpreadable:r,Ot=ht?ht.iterator:r,Xt=ht?ht.toStringTag:r,ii=function(){try{var e=Er(Ge,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ti=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,wi=n&&n.now!==At.Date.now&&n.now,ki=t.setTimeout!==At.setTimeout&&t.setTimeout,Ii=We.ceil,Oi=We.floor,Pi=Ge.getOwnPropertySymbols,Li=lt?lt.isBuffer:r,Ni=t.isFinite,xi=Je.join,Ri=bi(Ge.keys,Ge),Mi=We.max,Vi=We.min,Hi=n.now,Di=t.parseInt,Bi=We.random,Fi=Je.reverse,Ui=Er(t,"DataView"),ji=Er(t,"Map"),zi=Er(t,"Promise"),Yi=Er(t,"Set"),Wi=Er(t,"WeakMap"),Gi=Er(Ge,"create"),qi=Wi&&new Wi,Xi={},Ki=Kr(Ui),Ji=Kr(ji),$i=Kr(zi),Zi=Kr(Yi),Qi=Kr(Wi),en=ht?ht.prototype:r,tn=en?en.valueOf:r,nn=en?en.toString:r;function sn(e){if(fo(e)&&!to(e)&&!(e instanceof ln)){if(e instanceof on)return e;if(tt.call(e,"__wrapped__"))return Jr(e)}return new on(e)}var rn=function(){function e(){}return function(t){if(!ho(t))return{};if(Et)return Et(t);e.prototype=t;var i=new e;return e.prototype=r,i}}();function an(){}function on(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function ln(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function un(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function cn(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function hn(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function dn(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new hn;++t<i;)this.add(e[t])}function fn(e){var t=this.__data__=new cn(e);this.size=t.size}function pn(e,t){var i=to(e),n=!i&&eo(e),s=!i&&!n&&ro(e),r=!i&&!n&&!s&&yo(e),a=i||n||s||r,o=a?ri(e.length,Xe):[],l=o.length;for(var u in e)!t&&!tt.call(e,u)||a&&("length"==u||s&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pr(u,l))||o.push(u);return o}function vn(e){var t=e.length;return t?e[us(0,t-1)]:r}function gn(e,t,i){(i===r||$a(e[t],i))&&(i!==r||t in e)||yn(e,t,i)}function bn(e,t,i){var n=e[t];tt.call(e,t)&&$a(n,i)&&(i!==r||t in e)||yn(e,t,i)}function mn(e,t){for(var i=e.length;i--;)if($a(e[i][0],t))return i;return-1}function _n(e,t,i,n){return In(e,function(e,s,r){t(n,e,i(e),r)}),n}function Sn(e,t){return e&&js(t,zo(t),e)}function yn(e,t,i){"__proto__"==t&&ii?ii(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Cn(e,t){for(var n=-1,s=t.length,a=i(s),o=null==e;++n<s;)a[n]=o?r:Do(e,t[n]);return a}function En(e,t,i){return e==e&&(i!==r&&(e=e<=i?e:i),t!==r&&(e=e>=t?e:t)),e}function An(e,t,i,n,s,a){var o,l=t&c,u=t&h,f=t&d;if(i&&(o=s?i(e,n,s,a):i(e)),o!==r)return o;if(!ho(e))return e;var p=to(e);if(p){if(o=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&tt.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!l)return Us(e,o)}else{var v=wr(e),g=v==j||v==z;if(ro(e))return Ms(e,l);if(v==q||v==M||g&&!s){if(o=u||g?{}:Ir(e),!l)return u?function(e,t){return js(e,Tr(e),t)}(e,function(e,t){return e&&js(t,Yo(t),e)}(o,e)):function(e,t){return js(e,Ar(e),t)}(e,Sn(o,e))}else{if(!mt[v])return s?e:{};o=function(e,t,i){var n=e.constructor;switch(t){case te:return Vs(e);case D:case B:return new n(+e);case ie:return function(e,t){var i=t?Vs(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case ne:case se:case re:case ae:case oe:case le:case ue:case ce:case he:return Hs(e,i);case Y:return new n;case W:case $:return new n(e);case K:return function(e){var t=new e.constructor(e.source,Ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case J:return new n;case Z:return function(e){return tn?Ge(tn.call(e)):{}}(e)}}(e,v,l)}}a||(a=new fn);var b=a.get(e);if(b)return b;a.set(e,o),mo(e)?e.forEach(function(n){o.add(An(n,t,i,n,e,a))}):po(e)&&e.forEach(function(n,s){o.set(s,An(n,t,i,s,e,a))});var m=p?r:(f?u?gr:vr:u?Yo:zo)(e);return Dt(m||e,function(n,s){m&&(n=e[s=n]),bn(o,s,An(n,t,i,s,e,a))}),o}function Tn(e,t,i){var n=i.length;if(null==e)return!n;for(e=Ge(e);n--;){var s=i[n],a=t[s],o=e[s];if(o===r&&!(s in e)||!a(o))return!1}return!0}function wn(e,t,i){if("function"!=typeof e)throw new Ke(o);return jr(function(){e.apply(r,i)},t)}function kn(e,t,i,n){var s=-1,r=Ut,o=!0,l=e.length,u=[],c=t.length;if(!l)return u;i&&(t=zt(t,oi(i))),n?(r=jt,o=!1):t.length>=a&&(r=ui,o=!1,t=new dn(t));e:for(;++s<l;){var h=e[s],d=null==i?h:i(h);if(h=n||0!==h?h:0,o&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;u.push(h)}else r(t,d,n)||u.push(h)}return u}sn.templateSettings={escape:_e,evaluate:Se,interpolate:ye,variable:"",imports:{_:sn}},sn.prototype=an.prototype,sn.prototype.constructor=sn,on.prototype=rn(an.prototype),on.prototype.constructor=on,ln.prototype=rn(an.prototype),ln.prototype.constructor=ln,un.prototype.clear=function(){this.__data__=Gi?Gi(null):{},this.size=0},un.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},un.prototype.get=function(e){var t=this.__data__;if(Gi){var i=t[e];return i===l?r:i}return tt.call(t,e)?t[e]:r},un.prototype.has=function(e){var t=this.__data__;return Gi?t[e]!==r:tt.call(t,e)},un.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Gi&&t===r?l:t,this},cn.prototype.clear=function(){this.__data__=[],this.size=0},cn.prototype.delete=function(e){var t=this.__data__,i=mn(t,e);return!(i<0||(i==t.length-1?t.pop():wt.call(t,i,1),--this.size,0))},cn.prototype.get=function(e){var t=this.__data__,i=mn(t,e);return i<0?r:t[i][1]},cn.prototype.has=function(e){return mn(this.__data__,e)>-1},cn.prototype.set=function(e,t){var i=this.__data__,n=mn(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},hn.prototype.clear=function(){this.size=0,this.__data__={hash:new un,map:new(ji||cn),string:new un}},hn.prototype.delete=function(e){var t=yr(this,e).delete(e);return this.size-=t?1:0,t},hn.prototype.get=function(e){return yr(this,e).get(e)},hn.prototype.has=function(e){return yr(this,e).has(e)},hn.prototype.set=function(e,t){var i=yr(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},dn.prototype.add=dn.prototype.push=function(e){return this.__data__.set(e,l),this},dn.prototype.has=function(e){return this.__data__.has(e)},fn.prototype.clear=function(){this.__data__=new cn,this.size=0},fn.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},fn.prototype.get=function(e){return this.__data__.get(e)},fn.prototype.has=function(e){return this.__data__.has(e)},fn.prototype.set=function(e,t){var i=this.__data__;if(i instanceof cn){var n=i.__data__;if(!ji||n.length<a-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new hn(n)}return i.set(e,t),this.size=i.size,this};var In=Ws(Vn),On=Ws(Hn,!0);function Pn(e,t){var i=!0;return In(e,function(e,n,s){return i=!!t(e,n,s)}),i}function Ln(e,t,i){for(var n=-1,s=e.length;++n<s;){var a=e[n],o=t(a);if(null!=o&&(l===r?o==o&&!So(o):i(o,l)))var l=o,u=a}return u}function Nn(e,t){var i=[];return In(e,function(e,n,s){t(e,n,s)&&i.push(e)}),i}function xn(e,t,i,n,s){var r=-1,a=e.length;for(i||(i=Or),s||(s=[]);++r<a;){var o=e[r];t>0&&i(o)?t>1?xn(o,t-1,i,n,s):Yt(s,o):n||(s[s.length]=o)}return s}var Rn=Gs(),Mn=Gs(!0);function Vn(e,t){return e&&Rn(e,t,zo)}function Hn(e,t){return e&&Mn(e,t,zo)}function Dn(e,t){return Ft(t,function(t){return lo(e[t])})}function Bn(e,t){for(var i=0,n=(t=Ls(t,e)).length;null!=e&&i<n;)e=e[Xr(t[i++])];return i&&i==n?e:r}function Fn(e,t,i){var n=t(e);return to(e)?n:Yt(n,i(e))}function Un(e){return null==e?e===r?Q:G:Xt&&Xt in Ge(e)?function(e){var t=tt.call(e,Xt),i=e[Xt];try{e[Xt]=r;var n=!0}catch(e){}var s=st.call(e);return n&&(t?e[Xt]=i:delete e[Xt]),s}(e):function(e){return st.call(e)}(e)}function jn(e,t){return e>t}function zn(e,t){return null!=e&&tt.call(e,t)}function Yn(e,t){return null!=e&&t in Ge(e)}function Wn(e,t,n){for(var s=n?jt:Ut,a=e[0].length,o=e.length,l=o,u=i(o),c=1/0,h=[];l--;){var d=e[l];l&&t&&(d=zt(d,oi(t))),c=Vi(d.length,c),u[l]=!n&&(t||a>=120&&d.length>=120)?new dn(l&&d):r}d=e[0];var f=-1,p=u[0];e:for(;++f<a&&h.length<c;){var v=d[f],g=t?t(v):v;if(v=n||0!==v?v:0,!(p?ui(p,g):s(h,g,n))){for(l=o;--l;){var b=u[l];if(!(b?ui(b,g):s(e[l],g,n)))continue e}p&&p.push(g),h.push(v)}}return h}function Gn(e,t,i){var n=null==(e=Br(e,t=Ls(t,e)))?e:e[Xr(oa(t))];return null==n?r:Vt(n,e,i)}function qn(e){return fo(e)&&Un(e)==M}function Xn(e,t,i,n,s){return e===t||(null==e||null==t||!fo(e)&&!fo(t)?e!=e&&t!=t:function(e,t,i,n,s,a){var o=to(e),l=to(t),u=o?V:wr(e),c=l?V:wr(t),h=(u=u==M?q:u)==q,d=(c=c==M?q:c)==q,v=u==c;if(v&&ro(e)){if(!ro(t))return!1;o=!0,h=!1}if(v&&!h)return a||(a=new fn),o||yo(e)?fr(e,t,i,n,s,a):function(e,t,i,n,s,r,a){switch(i){case ie:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case te:return!(e.byteLength!=t.byteLength||!r(new ft(e),new ft(t)));case D:case B:case W:return $a(+e,+t);case U:return e.name==t.name&&e.message==t.message;case K:case $:return e==t+"";case Y:var o=gi;case J:var l=n&f;if(o||(o=_i),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;n|=p,a.set(e,t);var c=fr(o(e),o(t),n,s,r,a);return a.delete(e),c;case Z:if(tn)return tn.call(e)==tn.call(t)}return!1}(e,t,u,i,n,s,a);if(!(i&f)){var g=h&&tt.call(e,"__wrapped__"),b=d&&tt.call(t,"__wrapped__");if(g||b){var m=g?e.value():e,_=b?t.value():t;return a||(a=new fn),s(m,_,i,n,a)}}return!!v&&(a||(a=new fn),function(e,t,i,n,s,a){var o=i&f,l=vr(e),u=l.length;if(u!=vr(t).length&&!o)return!1;for(var c=u;c--;){var h=l[c];if(!(o?h in t:tt.call(t,h)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var v=!0;a.set(e,t),a.set(t,e);for(var g=o;++c<u;){var b=e[h=l[c]],m=t[h];if(n)var _=o?n(m,b,h,t,e,a):n(b,m,h,e,t,a);if(!(_===r?b===m||s(b,m,i,n,a):_)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var S=e.constructor,y=t.constructor;S!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof S&&S instanceof S&&"function"==typeof y&&y instanceof y)&&(v=!1)}return a.delete(e),a.delete(t),v}(e,t,i,n,s,a))}(e,t,i,n,Xn,s))}function Kn(e,t,i,n){var s=i.length,a=s,o=!n;if(null==e)return!a;for(e=Ge(e);s--;){var l=i[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){var u=(l=i[s])[0],c=e[u],h=l[1];if(o&&l[2]){if(c===r&&!(u in e))return!1}else{var d=new fn;if(n)var v=n(c,h,u,e,t,d);if(!(v===r?Xn(h,c,f|p,n,d):v))return!1}}return!0}function Jn(e){return!(!ho(e)||function(e){return!!nt&&nt in e}(e))&&(lo(e)?ot:Be).test(Kr(e))}function $n(e){return"function"==typeof e?e:null==e?vl:"object"==_typeof(e)?to(e)?is(e[0],e[1]):ts(e):Al(e)}function Zn(e){if(!Mr(e))return Ri(e);var t=[];for(var i in Ge(e))tt.call(e,i)&&"constructor"!=i&&t.push(i);return t}function Qn(e,t){return e<t}function es(e,t){var n=-1,s=no(e)?i(e.length):[];return In(e,function(e,i,r){s[++n]=t(e,i,r)}),s}function ts(e){var t=Cr(e);return 1==t.length&&t[0][2]?Hr(t[0][0],t[0][1]):function(i){return i===e||Kn(i,e,t)}}function is(e,t){return Nr(e)&&Vr(t)?Hr(Xr(e),t):function(i){var n=Do(i,e);return n===r&&n===t?Bo(i,e):Xn(t,n,f|p)}}function ns(e,t,i,n,s){e!==t&&Rn(t,function(a,o){if(s||(s=new fn),ho(a))!function(e,t,i,n,s,a,o){var l=Fr(e,i),u=Fr(t,i),c=o.get(u);if(c)gn(e,i,c);else{var h=a?a(l,u,i+"",e,t,o):r,d=h===r;if(d){var f=to(u),p=!f&&ro(u),v=!f&&!p&&yo(u);h=u,f||p||v?to(l)?h=l:so(l)?h=Us(l):p?(d=!1,h=Ms(u,!0)):v?(d=!1,h=Hs(u,!0)):h=[]:go(u)||eo(u)?(h=l,eo(l)?h=Oo(l):ho(l)&&!lo(l)||(h=Ir(u))):d=!1}d&&(o.set(u,h),s(h,u,n,a,o),o.delete(u)),gn(e,i,h)}}(e,t,o,i,ns,n,s);else{var l=n?n(Fr(e,o),a,o+"",e,t,s):r;l===r&&(l=a),gn(e,o,l)}},Yo)}function ss(e,t){var i=e.length;if(i)return Pr(t+=t<0?i:0,i)?e[t]:r}function rs(e,t,i){var n=-1;return t=zt(t=t.length?zt(t,function(e){return to(e)?function(t){return Bn(t,1===e.length?e[0]:e)}:e}):[vl],oi(Sr())),function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}(es(e,function(e,i,s){return{criteria:zt(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,i){for(var n=-1,s=e.criteria,r=t.criteria,a=s.length,o=i.length;++n<a;){var l=Ds(s[n],r[n]);if(l)return n>=o?l:l*("desc"==i[n]?-1:1)}return e.index-t.index}(e,t,i)})}function as(e,t,i){for(var n=-1,s=t.length,r={};++n<s;){var a=t[n],o=Bn(e,a);i(o,a)&&ds(r,Ls(a,e),o)}return r}function os(e,t,i,n){var s=n?Zt:$t,r=-1,a=t.length,o=e;for(e===t&&(t=Us(t)),i&&(o=zt(e,oi(i)));++r<a;)for(var l=0,u=t[r],c=i?i(u):u;(l=s(o,c,l,n))>-1;)o!==e&&wt.call(o,l,1),wt.call(e,l,1);return e}function ls(e,t){for(var i=e?t.length:0,n=i-1;i--;){var s=t[i];if(i==n||s!==r){var r=s;Pr(s)?wt.call(e,s,1):Es(e,s)}}return e}function us(e,t){return e+Oi(Bi()*(t-e+1))}function cs(e,t){var i="";if(!e||t<1||t>I)return i;do{t%2&&(i+=e),(t=Oi(t/2))&&(e+=e)}while(t);return i}function hs(e,t){return zr(Dr(e,t,vl),e+"")}function ds(e,t,i,n){if(!ho(e))return e;for(var s=-1,a=(t=Ls(t,e)).length,o=a-1,l=e;null!=l&&++s<a;){var u=Xr(t[s]),c=i;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(s!=o){var h=l[u];(c=n?n(h,u,l):r)===r&&(c=ho(h)?h:Pr(t[s+1])?[]:{})}bn(l,u,c),l=l[u]}return e}var fs=qi?function(e,t){return qi.set(e,t),e}:vl,ps=ii?function(e,t){return ii(e,"toString",{configurable:!0,enumerable:!1,value:dl(t),writable:!0})}:vl;function vs(e,t,n){var s=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=i(r);++s<r;)a[s]=e[s+t];return a}function gs(e,t){var i;return In(e,function(e,n,s){return!(i=t(e,n,s))}),!!i}function bs(e,t,i){var n=0,s=null==e?n:e.length;if("number"==typeof t&&t==t&&s<=x){for(;n<s;){var r=n+s>>>1,a=e[r];null!==a&&!So(a)&&(i?a<=t:a<t)?n=r+1:s=r}return s}return ms(e,t,vl,i)}function ms(e,t,i,n){var s=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=i(t))!=t,l=null===t,u=So(t),c=t===r;s<a;){var h=Oi((s+a)/2),d=i(e[h]),f=d!==r,p=null===d,v=d==d,g=So(d);if(o)var b=n||v;else b=c?v&&(n||f):l?v&&f&&(n||!p):u?v&&f&&!p&&(n||!g):!p&&!g&&(n?d<=t:d<t);b?s=h+1:a=h}return Vi(a,N)}function _s(e,t){for(var i=-1,n=e.length,s=0,r=[];++i<n;){var a=e[i],o=t?t(a):a;if(!i||!$a(o,l)){var l=o;r[s++]=0===a?0:a}}return r}function Ss(e){return"number"==typeof e?e:So(e)?P:+e}function ys(e){if("string"==typeof e)return e;if(to(e))return zt(e,ys)+"";if(So(e))return nn?nn.call(e):"";var t=e+"";return"0"==t&&1/e==-k?"-0":t}function Cs(e,t,i){var n=-1,s=Ut,r=e.length,o=!0,l=[],u=l;if(i)o=!1,s=jt;else if(r>=a){var c=t?null:or(e);if(c)return _i(c);o=!1,s=ui,u=new dn}else u=t?[]:l;e:for(;++n<r;){var h=e[n],d=t?t(h):h;if(h=i||0!==h?h:0,o&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),l.push(h)}else s(u,d,i)||(u!==l&&u.push(d),l.push(h))}return l}function Es(e,t){return null==(e=Br(e,t=Ls(t,e)))||delete e[Xr(oa(t))]}function As(e,t,i,n){return ds(e,t,i(Bn(e,t)),n)}function Ts(e,t,i,n){for(var s=e.length,r=n?s:-1;(n?r--:++r<s)&&t(e[r],r,e););return i?vs(e,n?0:r,n?r+1:s):vs(e,n?r+1:0,n?s:r)}function ws(e,t){var i=e;return i instanceof ln&&(i=i.value()),Wt(t,function(e,t){return t.func.apply(t.thisArg,Yt([e],t.args))},i)}function ks(e,t,n){var s=e.length;if(s<2)return s?Cs(e[0]):[];for(var r=-1,a=i(s);++r<s;)for(var o=e[r],l=-1;++l<s;)l!=r&&(a[r]=kn(a[r]||o,e[l],t,n));return Cs(xn(a,1),t,n)}function Is(e,t,i){for(var n=-1,s=e.length,a=t.length,o={};++n<s;){var l=n<a?t[n]:r;i(o,e[n],l)}return o}function Os(e){return so(e)?e:[]}function Ps(e){return"function"==typeof e?e:vl}function Ls(e,t){return to(e)?e:Nr(e,t)?[e]:qr(Po(e))}var Ns=hs;function xs(e,t,i){var n=e.length;return i=i===r?n:i,!t&&i>=n?e:vs(e,t,i)}var Rs=Ti||function(e){return At.clearTimeout(e)};function Ms(e,t){if(t)return e.slice();var i=e.length,n=_t?_t(i):new e.constructor(i);return e.copy(n),n}function Vs(e){var t=new e.constructor(e.byteLength);return new ft(t).set(new ft(e)),t}function Hs(e,t){var i=t?Vs(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Ds(e,t){if(e!==t){var i=e!==r,n=null===e,s=e==e,a=So(e),o=t!==r,l=null===t,u=t==t,c=So(t);if(!l&&!c&&!a&&e>t||a&&o&&u&&!l&&!c||n&&o&&u||!i&&u||!s)return 1;if(!n&&!a&&!c&&e<t||c&&i&&s&&!n&&!a||l&&i&&s||!o&&s||!u)return-1}return 0}function Bs(e,t,n,s){for(var r=-1,a=e.length,o=n.length,l=-1,u=t.length,c=Mi(a-o,0),h=i(u+c),d=!s;++l<u;)h[l]=t[l];for(;++r<o;)(d||r<a)&&(h[n[r]]=e[r]);for(;c--;)h[l++]=e[r++];return h}function Fs(e,t,n,s){for(var r=-1,a=e.length,o=-1,l=n.length,u=-1,c=t.length,h=Mi(a-l,0),d=i(h+c),f=!s;++r<h;)d[r]=e[r];for(var p=r;++u<c;)d[p+u]=t[u];for(;++o<l;)(f||r<a)&&(d[p+n[o]]=e[r++]);return d}function Us(e,t){var n=-1,s=e.length;for(t||(t=i(s));++n<s;)t[n]=e[n];return t}function js(e,t,i,n){var s=!i;i||(i={});for(var a=-1,o=t.length;++a<o;){var l=t[a],u=n?n(i[l],e[l],l,i,e):r;u===r&&(u=e[l]),s?yn(i,l,u):bn(i,l,u)}return i}function zs(e,t){return function(i,n){var s=to(i)?Ht:_n,r=t?t():{};return s(i,e,Sr(n,2),r)}}function Ys(e){return hs(function(t,i){var n=-1,s=i.length,a=s>1?i[s-1]:r,o=s>2?i[2]:r;for(a=e.length>3&&"function"==typeof a?(s--,a):r,o&&Lr(i[0],i[1],o)&&(a=s<3?r:a,s=1),t=Ge(t);++n<s;){var l=i[n];l&&e(t,l,n,a)}return t})}function Ws(e,t){return function(i,n){if(null==i)return i;if(!no(i))return e(i,n);for(var s=i.length,r=t?s:-1,a=Ge(i);(t?r--:++r<s)&&!1!==n(a[r],r,a););return i}}function Gs(e){return function(t,i,n){for(var s=-1,r=Ge(t),a=n(t),o=a.length;o--;){var l=a[e?o:++s];if(!1===i(r[l],l,r))break}return t}}function qs(e){return function(t){var i=vi(t=Po(t))?yi(t):r,n=i?i[0]:t.charAt(0),s=i?xs(i,1).join(""):t.slice(1);return n[e]()+s}}function Xs(e){return function(t){return Wt(ul(tl(t).replace(ut,"")),e,"")}}function Ks(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=rn(e.prototype),n=e.apply(i,t);return ho(n)?n:i}}function Js(e){return function(t,i,n){var s=Ge(t);if(!no(t)){var a=Sr(i,3);t=zo(t),i=function(e){return a(s[e],e,s)}}var o=e(t,i,n);return o>-1?s[a?t[o]:o]:r}}function $s(e){return pr(function(t){var i=t.length,n=i,s=on.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new Ke(o);if(s&&!l&&"wrapper"==mr(a))var l=new on([],!0)}for(n=l?n:i;++n<i;){var u=mr(a=t[n]),c="wrapper"==u?br(a):r;l=c&&xr(c[0])&&c[1]==(C|m|S|E)&&!c[4].length&&1==c[9]?l[mr(c[0])].apply(l,c[3]):1==a.length&&xr(a)?l[u]():l.thru(a)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&to(n))return l.plant(n).value();for(var s=0,r=i?t[s].apply(this,e):n;++s<i;)r=t[s].call(this,r);return r}})}function Zs(e,t,n,s,a,o,l,u,c,h){var d=t&C,f=t&v,p=t&g,b=t&(m|_),S=t&A,y=p?r:Ks(e);return function v(){for(var g=arguments.length,m=i(g),_=g;_--;)m[_]=arguments[_];if(b)var C=_r(v),E=function(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&++n;return n}(m,C);if(s&&(m=Bs(m,s,a,b)),o&&(m=Fs(m,o,l,b)),g-=E,b&&g<h){var A=mi(m,C);return rr(e,t,Zs,v.placeholder,n,m,A,u,c,h-g)}var T=f?n:this,w=p?T[e]:e;return g=m.length,u?m=function(e,t){for(var i=e.length,n=Vi(t.length,i),s=Us(e);n--;){var a=t[n];e[n]=Pr(a,i)?s[a]:r}return e}(m,u):S&&g>1&&m.reverse(),d&&c<g&&(m.length=c),this&&this!==At&&this instanceof v&&(w=y||Ks(w)),w.apply(T,m)}}function Qs(e,t){return function(i,n){return function(e,t,i,n){return Vn(e,function(e,s,r){t(n,i(e),s,r)}),n}(i,e,t(n),{})}}function er(e,t){return function(i,n){var s;if(i===r&&n===r)return t;if(i!==r&&(s=i),n!==r){if(s===r)return n;"string"==typeof i||"string"==typeof n?(i=ys(i),n=ys(n)):(i=Ss(i),n=Ss(n)),s=e(i,n)}return s}}function tr(e){return pr(function(t){return t=zt(t,oi(Sr())),hs(function(i){var n=this;return e(t,function(e){return Vt(e,n,i)})})})}function ir(e,t){var i=(t=t===r?" ":ys(t)).length;if(i<2)return i?cs(t,e):t;var n=cs(t,Ii(e/Si(t)));return vi(t)?xs(yi(n),0,e).join(""):n.slice(0,e)}function nr(e){return function(t,n,s){return s&&"number"!=typeof s&&Lr(t,n,s)&&(n=s=r),t=To(t),n===r?(n=t,t=0):n=To(n),function(e,t,n,s){for(var r=-1,a=Mi(Ii((t-e)/(n||1)),0),o=i(a);a--;)o[s?a:++r]=e,e+=n;return o}(t,n,s=s===r?t<n?1:-1:To(s),e)}}function sr(e){return function(t,i){return"string"==typeof t&&"string"==typeof i||(t=Io(t),i=Io(i)),e(t,i)}}function rr(e,t,i,n,s,a,o,l,u,c){var h=t&m;t|=h?S:y,(t&=~(h?y:S))&b||(t&=~(v|g));var d=[e,t,s,h?a:r,h?o:r,h?r:a,h?r:o,l,u,c],f=i.apply(r,d);return xr(e)&&Ur(f,d),f.placeholder=n,Yr(f,e,t)}function ar(e){var t=We[e];return function(e,i){if(e=Io(e),(i=null==i?0:Vi(wo(i),292))&&Ni(e)){var n=(Po(e)+"e").split("e");return+((n=(Po(t(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}var or=Yi&&1/_i(new Yi([,-0]))[1]==k?function(e){return new Yi(e)}:Sl;function lr(e){return function(t){var i=wr(t);return i==Y?gi(t):i==J?function(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=[e,e]}),i}(t):function(e,t){return zt(t,function(t){return[t,e[t]]})}(t,e(t))}}function ur(e,t,n,s,a,l,c,h){var d=t&g;if(!d&&"function"!=typeof e)throw new Ke(o);var f=s?s.length:0;if(f||(t&=~(S|y),s=a=r),c=c===r?c:Mi(wo(c),0),h=h===r?h:wo(h),f-=a?a.length:0,t&y){var p=s,A=a;s=a=r}var T=d?r:br(e),w=[e,t,n,s,a,p,A,l,c,h];if(T&&function(e,t){var i=e[1],n=t[1],s=i|n,r=s<(v|g|C),a=n==C&&i==m||n==C&&i==E&&e[7].length<=t[8]||n==(C|E)&&t[7].length<=t[8]&&i==m;if(!r&&!a)return e;n&v&&(e[2]=t[2],s|=i&v?0:b);var o=t[3];if(o){var l=e[3];e[3]=l?Bs(l,o,t[4]):o,e[4]=l?mi(e[3],u):t[4]}(o=t[5])&&(l=e[5],e[5]=l?Fs(l,o,t[6]):o,e[6]=l?mi(e[5],u):t[6]),(o=t[7])&&(e[7]=o),n&C&&(e[8]=null==e[8]?t[8]:Vi(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s}(w,T),e=w[0],t=w[1],n=w[2],s=w[3],a=w[4],!(h=w[9]=w[9]===r?d?0:e.length:Mi(w[9]-f,0))&&t&(m|_)&&(t&=~(m|_)),t&&t!=v)k=t==m||t==_?function(e,t,n){var s=Ks(e);return function a(){for(var o=arguments.length,l=i(o),u=o,c=_r(a);u--;)l[u]=arguments[u];var h=o<3&&l[0]!==c&&l[o-1]!==c?[]:mi(l,c);return(o-=h.length)<n?rr(e,t,Zs,a.placeholder,r,l,h,r,r,n-o):Vt(this&&this!==At&&this instanceof a?s:e,this,l)}}(e,t,h):t!=S&&t!=(v|S)||a.length?Zs.apply(r,w):function(e,t,n,s){var r=t&v,a=Ks(e);return function t(){for(var o=-1,l=arguments.length,u=-1,c=s.length,h=i(c+l),d=this&&this!==At&&this instanceof t?a:e;++u<c;)h[u]=s[u];for(;l--;)h[u++]=arguments[++o];return Vt(d,r?n:this,h)}}(e,t,n,s);else var k=function(e,t,i){var n=t&v,s=Ks(e);return function t(){return(this&&this!==At&&this instanceof t?s:e).apply(n?i:this,arguments)}}(e,t,n);return Yr((T?fs:Ur)(k,w),e,t)}function cr(e,t,i,n){return e===r||$a(e,Ze[i])&&!tt.call(n,i)?t:e}function hr(e,t,i,n,s,a){return ho(e)&&ho(t)&&(a.set(t,e),ns(e,t,r,hr,a),a.delete(t)),e}function dr(e){return go(e)?r:e}function fr(e,t,i,n,s,a){var o=i&f,l=e.length,u=t.length;if(l!=u&&!(o&&u>l))return!1;var c=a.get(e),h=a.get(t);if(c&&h)return c==t&&h==e;var d=-1,v=!0,g=i&p?new dn:r;for(a.set(e,t),a.set(t,e);++d<l;){var b=e[d],m=t[d];if(n)var _=o?n(m,b,d,t,e,a):n(b,m,d,e,t,a);if(_!==r){if(_)continue;v=!1;break}if(g){if(!qt(t,function(e,t){if(!ui(g,t)&&(b===e||s(b,e,i,n,a)))return g.push(t)})){v=!1;break}}else if(b!==m&&!s(b,m,i,n,a)){v=!1;break}}return a.delete(e),a.delete(t),v}function pr(e){return zr(Dr(e,r,ia),e+"")}function vr(e){return Fn(e,zo,Ar)}function gr(e){return Fn(e,Yo,Tr)}var br=qi?function(e){return qi.get(e)}:Sl;function mr(e){for(var t=e.name+"",i=Xi[t],n=tt.call(Xi,t)?i.length:0;n--;){var s=i[n],r=s.func;if(null==r||r==e)return s.name}return t}function _r(e){return(tt.call(sn,"placeholder")?sn:e).placeholder}function Sr(){var e=sn.iteratee||gl;return e=e===gl?$n:e,arguments.length?e(arguments[0],arguments[1]):e}function yr(e,t){var i=e.__data__;return function(e){var t=_typeof(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map}function Cr(e){for(var t=zo(e),i=t.length;i--;){var n=t[i],s=e[n];t[i]=[n,s,Vr(s)]}return t}function Er(e,t){var i=function(e,t){return null==e?r:e[t]}(e,t);return Jn(i)?i:r}var Ar=Pi?function(e){return null==e?[]:(e=Ge(e),Ft(Pi(e),function(t){return Tt.call(e,t)}))}:kl,Tr=Pi?function(e){for(var t=[];e;)Yt(t,Ar(e)),e=Ct(e);return t}:kl,wr=Un;function kr(e,t,i){for(var n=-1,s=(t=Ls(t,e)).length,r=!1;++n<s;){var a=Xr(t[n]);if(!(r=null!=e&&i(e,a)))break;e=e[a]}return r||++n!=s?r:!!(s=null==e?0:e.length)&&co(s)&&Pr(a,s)&&(to(e)||eo(e))}function Ir(e){return"function"!=typeof e.constructor||Mr(e)?{}:rn(Ct(e))}function Or(e){return to(e)||eo(e)||!!(It&&e&&e[It])}function Pr(e,t){var i=_typeof(e);return!!(t=null==t?I:t)&&("number"==i||"symbol"!=i&&Ue.test(e))&&e>-1&&e%1==0&&e<t}function Lr(e,t,i){if(!ho(i))return!1;var n=_typeof(t);return!!("number"==n?no(i)&&Pr(t,i.length):"string"==n&&t in i)&&$a(i[t],e)}function Nr(e,t){if(to(e))return!1;var i=_typeof(e);return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!So(e))||Ee.test(e)||!Ce.test(e)||null!=t&&e in Ge(t)}function xr(e){var t=mr(e),i=sn[t];if("function"!=typeof i||!(t in ln.prototype))return!1;if(e===i)return!0;var n=br(i);return!!n&&e===n[0]}(Ui&&wr(new Ui(new ArrayBuffer(1)))!=ie||ji&&wr(new ji)!=Y||zi&&"[object Promise]"!=wr(zi.resolve())||Yi&&wr(new Yi)!=J||Wi&&wr(new Wi)!=ee)&&(wr=function(e){var t=Un(e),i=t==q?e.constructor:r,n=i?Kr(i):"";if(n)switch(n){case Ki:return ie;case Ji:return Y;case $i:return"[object Promise]";case Zi:return J;case Qi:return ee}return t});var Rr=Qe?lo:Il;function Mr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ze)}function Vr(e){return e==e&&!ho(e)}function Hr(e,t){return function(i){return null!=i&&i[e]===t&&(t!==r||e in Ge(i))}}function Dr(e,t,n){return t=Mi(t===r?e.length-1:t,0),function(){for(var s=arguments,r=-1,a=Mi(s.length-t,0),o=i(a);++r<a;)o[r]=s[t+r];r=-1;for(var l=i(t+1);++r<t;)l[r]=s[r];return l[t]=n(o),Vt(e,this,l)}}function Br(e,t){return t.length<2?e:Bn(e,vs(t,0,-1))}function Fr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ur=Wr(fs),jr=ki||function(e,t){return At.setTimeout(e,t)},zr=Wr(ps);function Yr(e,t,i){var n=t+"";return zr(e,function(e,t){var i=t.length;if(!i)return e;var n=i-1;return t[n]=(i>1?"& ":"")+t[n],t=t.join(i>2?", ":" "),e.replace(Oe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Dt(R,function(i){var n="_."+i[0];t&i[1]&&!Ut(e,n)&&e.push(n)}),e.sort()}(function(e){var t=n.match(Pe);return t?t[1].split(Le):[]}(),i)))}function Wr(e){var t=0,i=0;return function(){var n=Hi(),s=w-(n-i);if(i=n,s>0){if(++t>=T)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Gr(e,t){var i=-1,n=e.length,s=n-1;for(t=t===r?n:t;++i<t;){var a=us(i,s),o=e[a];e[a]=e[i],e[i]=o}return e.length=t,e}var qr=function(e){var t=Wa(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ae,function(e,i,n,s){t.push(n?s.replace(Re,"$1"):i||e)}),t},function(e){return 500===i.size&&i.clear(),e}),i=t.cache;return t}();function Xr(e){if("string"==typeof e||So(e))return e;var t=e+"";return"0"==t&&1/e==-k?"-0":t}function Kr(e){if(null!=e){try{return et.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Jr(e){if(e instanceof ln)return e.clone();var t=new on(e.__wrapped__,e.__chain__);return t.__actions__=Us(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $r=hs(function(e,t){return so(e)?kn(e,xn(t,1,so,!0)):[]}),Zr=hs(function(e,t){var i=oa(t);return so(i)&&(i=r),so(e)?kn(e,xn(t,1,so,!0),Sr(i,2)):[]}),Qr=hs(function(e,t){var i=oa(t);return so(i)&&(i=r),so(e)?kn(e,xn(t,1,so,!0),r,i):[]});function ea(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var s=null==i?0:wo(i);return s<0&&(s=Mi(n+s,0)),Jt(e,Sr(t,3),s)}function ta(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var s=n-1;return i!==r&&(s=wo(i),s=i<0?Mi(n+s,0):Vi(s,n-1)),Jt(e,Sr(t,3),s,!0)}function ia(e){return null!=e&&e.length?xn(e,1):[]}function na(e){return e&&e.length?e[0]:r}var sa=hs(function(e){var t=zt(e,Os);return t.length&&t[0]===e[0]?Wn(t):[]}),ra=hs(function(e){var t=oa(e),i=zt(e,Os);return t===oa(i)?t=r:i.pop(),i.length&&i[0]===e[0]?Wn(i,Sr(t,2)):[]}),aa=hs(function(e){var t=oa(e),i=zt(e,Os);return(t="function"==typeof t?t:r)&&i.pop(),i.length&&i[0]===e[0]?Wn(i,r,t):[]});function oa(e){var t=null==e?0:e.length;return t?e[t-1]:r}var la=hs(ua);function ua(e,t){return e&&e.length&&t&&t.length?os(e,t):e}var ca=pr(function(e,t){var i=null==e?0:e.length,n=Cn(e,t);return ls(e,zt(t,function(e){return Pr(e,i)?+e:e}).sort(Ds)),n});function ha(e){return null==e?e:Fi.call(e)}var da=hs(function(e){return Cs(xn(e,1,so,!0))}),fa=hs(function(e){var t=oa(e);return so(t)&&(t=r),Cs(xn(e,1,so,!0),Sr(t,2))}),pa=hs(function(e){var t=oa(e);return t="function"==typeof t?t:r,Cs(xn(e,1,so,!0),r,t)});function va(e){if(!e||!e.length)return[];var t=0;return e=Ft(e,function(e){if(so(e))return t=Mi(e.length,t),!0}),ri(t,function(t){return zt(e,ti(t))})}function ga(e,t){if(!e||!e.length)return[];var i=va(e);return null==t?i:zt(i,function(e){return Vt(t,r,e)})}var ba=hs(function(e,t){return so(e)?kn(e,t):[]}),ma=hs(function(e){return ks(Ft(e,so))}),_a=hs(function(e){var t=oa(e);return so(t)&&(t=r),ks(Ft(e,so),Sr(t,2))}),Sa=hs(function(e){var t=oa(e);return t="function"==typeof t?t:r,ks(Ft(e,so),r,t)}),ya=hs(va),Ca=hs(function(e){var t=e.length,i=t>1?e[t-1]:r;return ga(e,i="function"==typeof i?(e.pop(),i):r)});function Ea(e){var t=sn(e);return t.__chain__=!0,t}function Aa(e,t){return t(e)}var Ta=pr(function(e){var t=e.length,i=t?e[0]:0,n=this.__wrapped__,s=function(t){return Cn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof ln&&Pr(i)?((n=n.slice(i,+i+(t?1:0))).__actions__.push({func:Aa,args:[s],thisArg:r}),new on(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(s)}),wa=zs(function(e,t,i){tt.call(e,i)?++e[i]:yn(e,i,1)}),ka=Js(ea),Ia=Js(ta);function Oa(e,t){return(to(e)?Dt:In)(e,Sr(t,3))}function Pa(e,t){return(to(e)?function(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}:On)(e,Sr(t,3))}var La=zs(function(e,t,i){tt.call(e,i)?e[i].push(t):yn(e,i,[t])}),Na=hs(function(e,t,n){var s=-1,r="function"==typeof t,a=no(e)?i(e.length):[];return In(e,function(e){a[++s]=r?Vt(t,e,n):Gn(e,t,n)}),a}),xa=zs(function(e,t,i){yn(e,i,t)});function Ra(e,t){return(to(e)?zt:es)(e,Sr(t,3))}var Ma=zs(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]}),Va=hs(function(e,t){if(null==e)return[];var i=t.length;return i>1&&Lr(e,t[0],t[1])?t=[]:i>2&&Lr(t[0],t[1],t[2])&&(t=[t[0]]),rs(e,xn(t,1),[])}),Ha=wi||function(){return At.Date.now()};function Da(e,t,i){return t=i?r:t,t=e&&null==t?e.length:t,ur(e,C,r,r,r,r,t)}function Ba(e,t){var i;if("function"!=typeof t)throw new Ke(o);return e=wo(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var Fa=hs(function(e,t,i){var n=v;if(i.length){var s=mi(i,_r(Fa));n|=S}return ur(e,n,t,i,s)}),Ua=hs(function(e,t,i){var n=v|g;if(i.length){var s=mi(i,_r(Ua));n|=S}return ur(t,n,e,i,s)});function ja(e,t,i){var n,s,a,l,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ke(o);function v(t){var i=n,a=s;return n=s=r,h=t,l=e.apply(a,i)}function g(e){var i=e-c;return c===r||i>=t||i<0||f&&e-h>=a}function b(){var e=Ha();if(g(e))return m(e);u=jr(b,function(e){var i=t-(e-c);return f?Vi(i,a-(e-h)):i}(e))}function m(e){return u=r,p&&n?v(e):(n=s=r,l)}function _(){var e=Ha(),i=g(e);if(n=arguments,s=this,c=e,i){if(u===r)return function(e){return h=e,u=jr(b,t),d?v(e):l}(c);if(f)return Rs(u),u=jr(b,t),v(c)}return u===r&&(u=jr(b,t)),l}return t=Io(t)||0,ho(i)&&(d=!!i.leading,a=(f="maxWait"in i)?Mi(Io(i.maxWait)||0,t):a,p="trailing"in i?!!i.trailing:p),_.cancel=function(){u!==r&&Rs(u),h=0,n=c=s=u=r},_.flush=function(){return u===r?l:m(Ha())},_}var za=hs(function(e,t){return wn(e,1,t)}),Ya=hs(function(e,t,i){return wn(e,Io(t)||0,i)});function Wa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ke(o);var i=function i(){var n=arguments,s=t?t.apply(this,n):n[0],r=i.cache;if(r.has(s))return r.get(s);var a=e.apply(this,n);return i.cache=r.set(s,a)||r,a};return i.cache=new(Wa.Cache||hn),i}function Ga(e){if("function"!=typeof e)throw new Ke(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Wa.Cache=hn;var qa=Ns(function(e,t){var i=(t=1==t.length&&to(t[0])?zt(t[0],oi(Sr())):zt(xn(t,1),oi(Sr()))).length;return hs(function(n){for(var s=-1,r=Vi(n.length,i);++s<r;)n[s]=t[s].call(this,n[s]);return Vt(e,this,n)})}),Xa=hs(function(e,t){var i=mi(t,_r(Xa));return ur(e,S,r,t,i)}),Ka=hs(function(e,t){var i=mi(t,_r(Ka));return ur(e,y,r,t,i)}),Ja=pr(function(e,t){return ur(e,E,r,r,r,t)});function $a(e,t){return e===t||e!=e&&t!=t}var Za=sr(jn),Qa=sr(function(e,t){return e>=t}),eo=qn(function(){return arguments}())?qn:function(e){return fo(e)&&tt.call(e,"callee")&&!Tt.call(e,"callee")},to=i.isArray,io=Pt?oi(Pt):function(e){return fo(e)&&Un(e)==te};function no(e){return null!=e&&co(e.length)&&!lo(e)}function so(e){return fo(e)&&no(e)}var ro=Li||Il,ao=Lt?oi(Lt):function(e){return fo(e)&&Un(e)==B};function oo(e){if(!fo(e))return!1;var t=Un(e);return t==U||t==F||"string"==typeof e.message&&"string"==typeof e.name&&!go(e)}function lo(e){if(!ho(e))return!1;var t=Un(e);return t==j||t==z||t==H||t==X}function uo(e){return"number"==typeof e&&e==wo(e)}function co(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=I}function ho(e){var t=_typeof(e);return null!=e&&("object"==t||"function"==t)}function fo(e){return null!=e&&"object"==_typeof(e)}var po=Nt?oi(Nt):function(e){return fo(e)&&wr(e)==Y};function vo(e){return"number"==typeof e||fo(e)&&Un(e)==W}function go(e){if(!fo(e)||Un(e)!=q)return!1;var t=Ct(e);if(null===t)return!0;var i=tt.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&et.call(i)==rt}var bo=xt?oi(xt):function(e){return fo(e)&&Un(e)==K},mo=Rt?oi(Rt):function(e){return fo(e)&&wr(e)==J};function _o(e){return"string"==typeof e||!to(e)&&fo(e)&&Un(e)==$}function So(e){return"symbol"==_typeof(e)||fo(e)&&Un(e)==Z}var yo=Mt?oi(Mt):function(e){return fo(e)&&co(e.length)&&!!bt[Un(e)]},Co=sr(Qn),Eo=sr(function(e,t){return e<=t});function Ao(e){if(!e)return[];if(no(e))return _o(e)?yi(e):Us(e);if(Ot&&e[Ot])return function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}(e[Ot]());var t=wr(e);return(t==Y?gi:t==J?_i:Zo)(e)}function To(e){return e?(e=Io(e))===k||e===-k?(e<0?-1:1)*O:e==e?e:0:0===e?e:0}function wo(e){var t=To(e),i=t%1;return t==t?i?t-i:t:0}function ko(e){return e?En(wo(e),0,L):0}function Io(e){if("number"==typeof e)return e;if(So(e))return P;if(ho(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ho(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ai(e);var i=De.test(e);return i||Fe.test(e)?yt(e.slice(2),i?2:8):He.test(e)?P:+e}function Oo(e){return js(e,Yo(e))}function Po(e){return null==e?"":ys(e)}var Lo=Ys(function(e,t){if(Mr(t)||no(t))js(t,zo(t),e);else for(var i in t)tt.call(t,i)&&bn(e,i,t[i])}),No=Ys(function(e,t){js(t,Yo(t),e)}),xo=Ys(function(e,t,i,n){js(t,Yo(t),e,n)}),Ro=Ys(function(e,t,i,n){js(t,zo(t),e,n)}),Mo=pr(Cn),Vo=hs(function(e,t){e=Ge(e);var i=-1,n=t.length,s=n>2?t[2]:r;for(s&&Lr(t[0],t[1],s)&&(n=1);++i<n;)for(var a=t[i],o=Yo(a),l=-1,u=o.length;++l<u;){var c=o[l],h=e[c];(h===r||$a(h,Ze[c])&&!tt.call(e,c))&&(e[c]=a[c])}return e}),Ho=hs(function(e){return e.push(r,hr),Vt(Go,r,e)});function Do(e,t,i){var n=null==e?r:Bn(e,t);return n===r?i:n}function Bo(e,t){return null!=e&&kr(e,t,Yn)}var Fo=Qs(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=st.call(t)),e[t]=i},dl(vl)),Uo=Qs(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=st.call(t)),tt.call(e,t)?e[t].push(i):e[t]=[i]},Sr),jo=hs(Gn);function zo(e){return no(e)?pn(e):Zn(e)}function Yo(e){return no(e)?pn(e,!0):function(e){if(!ho(e))return function(e){var t=[];if(null!=e)for(var i in Ge(e))t.push(i);return t}(e);var t=Mr(e),i=[];for(var n in e)("constructor"!=n||!t&&tt.call(e,n))&&i.push(n);return i}(e)}var Wo=Ys(function(e,t,i){ns(e,t,i)}),Go=Ys(function(e,t,i,n){ns(e,t,i,n)}),qo=pr(function(e,t){var i={};if(null==e)return i;var n=!1;t=zt(t,function(t){return t=Ls(t,e),n||(n=t.length>1),t}),js(e,gr(e),i),n&&(i=An(i,c|h|d,dr));for(var s=t.length;s--;)Es(i,t[s]);return i}),Xo=pr(function(e,t){return null==e?{}:function(e,t){return as(e,t,function(t,i){return Bo(e,i)})}(e,t)});function Ko(e,t){if(null==e)return{};var i=zt(gr(e),function(e){return[e]});return t=Sr(t),as(e,i,function(e,i){return t(e,i[0])})}var Jo=lr(zo),$o=lr(Yo);function Zo(e){return null==e?[]:li(e,zo(e))}var Qo=Xs(function(e,t,i){return t=t.toLowerCase(),e+(i?el(t):t)});function el(e){return ll(Po(e).toLowerCase())}function tl(e){return(e=Po(e))&&e.replace(je,di).replace(ct,"")}var il=Xs(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),nl=Xs(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),sl=qs("toLowerCase"),rl=Xs(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),al=Xs(function(e,t,i){return e+(i?" ":"")+ll(t)}),ol=Xs(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),ll=qs("toUpperCase");function ul(e,t,i){return e=Po(e),(t=i?r:t)===r?function(e){return pt.test(e)}(e)?function(e){return e.match(dt)||[]}(e):function(e){return e.match(Ne)||[]}(e):e.match(t)||[]}var cl=hs(function(e,t){try{return Vt(e,r,t)}catch(e){return oo(e)?e:new s(e)}}),hl=pr(function(e,t){return Dt(t,function(t){t=Xr(t),yn(e,t,Fa(e[t],e))}),e});function dl(e){return function(){return e}}var fl=$s(),pl=$s(!0);function vl(e){return e}function gl(e){return $n("function"==typeof e?e:An(e,c))}var bl=hs(function(e,t){return function(i){return Gn(i,e,t)}}),ml=hs(function(e,t){return function(i){return Gn(e,i,t)}});function _l(e,t,i){var n=zo(t),s=Dn(t,n);null!=i||ho(t)&&(s.length||!n.length)||(i=t,t=e,e=this,s=Dn(t,zo(t)));var r=!(ho(i)&&"chain"in i&&!i.chain),a=lo(e);return Dt(s,function(i){var n=t[i];e[i]=n,a&&(e.prototype[i]=function(){var t=this.__chain__;if(r||t){var i=e(this.__wrapped__);return(i.__actions__=Us(this.__actions__)).push({func:n,args:arguments,thisArg:e}),i.__chain__=t,i}return n.apply(e,Yt([this.value()],arguments))})}),e}function Sl(){}var yl=tr(zt),Cl=tr(Bt),El=tr(qt);function Al(e){return Nr(e)?ti(Xr(e)):function(e){return function(t){return Bn(t,e)}}(e)}var Tl=nr(),wl=nr(!0);function kl(){return[]}function Il(){return!1}var Ol=er(function(e,t){return e+t},0),Pl=ar("ceil"),Ll=er(function(e,t){return e/t},1),Nl=ar("floor"),xl=er(function(e,t){return e*t},1),Rl=ar("round"),Ml=er(function(e,t){return e-t},0);return sn.after=function(e,t){if("function"!=typeof t)throw new Ke(o);return e=wo(e),function(){if(--e<1)return t.apply(this,arguments)}},sn.ary=Da,sn.assign=Lo,sn.assignIn=No,sn.assignInWith=xo,sn.assignWith=Ro,sn.at=Mo,sn.before=Ba,sn.bind=Fa,sn.bindAll=hl,sn.bindKey=Ua,sn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return to(e)?e:[e]},sn.chain=Ea,sn.chunk=function(e,t,n){t=(n?Lr(e,t,n):t===r)?1:Mi(wo(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var a=0,o=0,l=i(Ii(s/t));a<s;)l[o++]=vs(e,a,a+=t);return l},sn.compact=function(e){for(var t=-1,i=null==e?0:e.length,n=0,s=[];++t<i;){var r=e[t];r&&(s[n++]=r)}return s},sn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return Yt(to(n)?Us(n):[n],xn(t,1))},sn.cond=function(e){var t=null==e?0:e.length,i=Sr();return e=t?zt(e,function(e){if("function"!=typeof e[1])throw new Ke(o);return[i(e[0]),e[1]]}):[],hs(function(i){for(var n=-1;++n<t;){var s=e[n];if(Vt(s[0],this,i))return Vt(s[1],this,i)}})},sn.conforms=function(e){return function(e){var t=zo(e);return function(i){return Tn(i,e,t)}}(An(e,c))},sn.constant=dl,sn.countBy=wa,sn.create=function(e,t){var i=rn(e);return null==t?i:Sn(i,t)},sn.curry=function e(t,i,n){var s=ur(t,m,r,r,r,r,r,i=n?r:i);return s.placeholder=e.placeholder,s},sn.curryRight=function e(t,i,n){var s=ur(t,_,r,r,r,r,r,i=n?r:i);return s.placeholder=e.placeholder,s},sn.debounce=ja,sn.defaults=Vo,sn.defaultsDeep=Ho,sn.defer=za,sn.delay=Ya,sn.difference=$r,sn.differenceBy=Zr,sn.differenceWith=Qr,sn.drop=function(e,t,i){var n=null==e?0:e.length;return n?vs(e,(t=i||t===r?1:wo(t))<0?0:t,n):[]},sn.dropRight=function(e,t,i){var n=null==e?0:e.length;return n?vs(e,0,(t=n-(t=i||t===r?1:wo(t)))<0?0:t):[]},sn.dropRightWhile=function(e,t){return e&&e.length?Ts(e,Sr(t,3),!0,!0):[]},sn.dropWhile=function(e,t){return e&&e.length?Ts(e,Sr(t,3),!0):[]},sn.fill=function(e,t,i,n){var s=null==e?0:e.length;return s?(i&&"number"!=typeof i&&Lr(e,t,i)&&(i=0,n=s),function(e,t,i,n){var s=e.length;for((i=wo(i))<0&&(i=-i>s?0:s+i),(n=n===r||n>s?s:wo(n))<0&&(n+=s),n=i>n?0:ko(n);i<n;)e[i++]=t;return e}(e,t,i,n)):[]},sn.filter=function(e,t){return(to(e)?Ft:Nn)(e,Sr(t,3))},sn.flatMap=function(e,t){return xn(Ra(e,t),1)},sn.flatMapDeep=function(e,t){return xn(Ra(e,t),k)},sn.flatMapDepth=function(e,t,i){return i=i===r?1:wo(i),xn(Ra(e,t),i)},sn.flatten=ia,sn.flattenDeep=function(e){return null!=e&&e.length?xn(e,k):[]},sn.flattenDepth=function(e,t){return null!=e&&e.length?xn(e,t=t===r?1:wo(t)):[]},sn.flip=function(e){return ur(e,A)},sn.flow=fl,sn.flowRight=pl,sn.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var s=e[t];n[s[0]]=s[1]}return n},sn.functions=function(e){return null==e?[]:Dn(e,zo(e))},sn.functionsIn=function(e){return null==e?[]:Dn(e,Yo(e))},sn.groupBy=La,sn.initial=function(e){return null!=e&&e.length?vs(e,0,-1):[]},sn.intersection=sa,sn.intersectionBy=ra,sn.intersectionWith=aa,sn.invert=Fo,sn.invertBy=Uo,sn.invokeMap=Na,sn.iteratee=gl,sn.keyBy=xa,sn.keys=zo,sn.keysIn=Yo,sn.map=Ra,sn.mapKeys=function(e,t){var i={};return t=Sr(t,3),Vn(e,function(e,n,s){yn(i,t(e,n,s),e)}),i},sn.mapValues=function(e,t){var i={};return t=Sr(t,3),Vn(e,function(e,n,s){yn(i,n,t(e,n,s))}),i},sn.matches=function(e){return ts(An(e,c))},sn.matchesProperty=function(e,t){return is(e,An(t,c))},sn.memoize=Wa,sn.merge=Wo,sn.mergeWith=Go,sn.method=bl,sn.methodOf=ml,sn.mixin=_l,sn.negate=Ga,sn.nthArg=function(e){return e=wo(e),hs(function(t){return ss(t,e)})},sn.omit=qo,sn.omitBy=function(e,t){return Ko(e,Ga(Sr(t)))},sn.once=function(e){return Ba(2,e)},sn.orderBy=function(e,t,i,n){return null==e?[]:(to(t)||(t=null==t?[]:[t]),to(i=n?r:i)||(i=null==i?[]:[i]),rs(e,t,i))},sn.over=yl,sn.overArgs=qa,sn.overEvery=Cl,sn.overSome=El,sn.partial=Xa,sn.partialRight=Ka,sn.partition=Ma,sn.pick=Xo,sn.pickBy=Ko,sn.property=Al,sn.propertyOf=function(e){return function(t){return null==e?r:Bn(e,t)}},sn.pull=la,sn.pullAll=ua,sn.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?os(e,t,Sr(i,2)):e},sn.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?os(e,t,r,i):e},sn.pullAt=ca,sn.range=Tl,sn.rangeRight=wl,sn.rearg=Ja,sn.reject=function(e,t){return(to(e)?Ft:Nn)(e,Ga(Sr(t,3)))},sn.remove=function(e,t){var i=[];if(!e||!e.length)return i;var n=-1,s=[],r=e.length;for(t=Sr(t,3);++n<r;){var a=e[n];t(a,n,e)&&(i.push(a),s.push(n))}return ls(e,s),i},sn.rest=function(e,t){if("function"!=typeof e)throw new Ke(o);return hs(e,t=t===r?t:wo(t))},sn.reverse=ha,sn.sampleSize=function(e,t,i){return t=(i?Lr(e,t,i):t===r)?1:wo(t),(to(e)?function(e,t){return Gr(Us(e),En(t,0,e.length))}:function(e,t){var i=Zo(e);return Gr(i,En(t,0,i.length))})(e,t)},sn.set=function(e,t,i){return null==e?e:ds(e,t,i)},sn.setWith=function(e,t,i,n){return n="function"==typeof n?n:r,null==e?e:ds(e,t,i,n)},sn.shuffle=function(e){return(to(e)?function(e){return Gr(Us(e))}:function(e){return Gr(Zo(e))})(e)},sn.slice=function(e,t,i){var n=null==e?0:e.length;return n?(i&&"number"!=typeof i&&Lr(e,t,i)?(t=0,i=n):(t=null==t?0:wo(t),i=i===r?n:wo(i)),vs(e,t,i)):[]},sn.sortBy=Va,sn.sortedUniq=function(e){return e&&e.length?_s(e):[]},sn.sortedUniqBy=function(e,t){return e&&e.length?_s(e,Sr(t,2)):[]},sn.split=function(e,t,i){return i&&"number"!=typeof i&&Lr(e,t,i)&&(t=i=r),(i=i===r?L:i>>>0)?(e=Po(e))&&("string"==typeof t||null!=t&&!bo(t))&&!(t=ys(t))&&vi(e)?xs(yi(e),0,i):e.split(t,i):[]},sn.spread=function(e,t){if("function"!=typeof e)throw new Ke(o);return t=null==t?0:Mi(wo(t),0),hs(function(i){var n=i[t],s=xs(i,0,t);return n&&Yt(s,n),Vt(e,this,s)})},sn.tail=function(e){var t=null==e?0:e.length;return t?vs(e,1,t):[]},sn.take=function(e,t,i){return e&&e.length?vs(e,0,(t=i||t===r?1:wo(t))<0?0:t):[]},sn.takeRight=function(e,t,i){var n=null==e?0:e.length;return n?vs(e,(t=n-(t=i||t===r?1:wo(t)))<0?0:t,n):[]},sn.takeRightWhile=function(e,t){return e&&e.length?Ts(e,Sr(t,3),!1,!0):[]},sn.takeWhile=function(e,t){return e&&e.length?Ts(e,Sr(t,3)):[]},sn.tap=function(e,t){return t(e),e},sn.throttle=function(e,t,i){var n=!0,s=!0;if("function"!=typeof e)throw new Ke(o);return ho(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),ja(e,t,{leading:n,maxWait:t,trailing:s})},sn.thru=Aa,sn.toArray=Ao,sn.toPairs=Jo,sn.toPairsIn=$o,sn.toPath=function(e){return to(e)?zt(e,Xr):So(e)?[e]:Us(qr(Po(e)))},sn.toPlainObject=Oo,sn.transform=function(e,t,i){var n=to(e),s=n||ro(e)||yo(e);if(t=Sr(t,4),null==i){var r=e&&e.constructor;i=s?n?new r:[]:ho(e)&&lo(r)?rn(Ct(e)):{}}return(s?Dt:Vn)(e,function(e,n,s){return t(i,e,n,s)}),i},sn.unary=function(e){return Da(e,1)},sn.union=da,sn.unionBy=fa,sn.unionWith=pa,sn.uniq=function(e){return e&&e.length?Cs(e):[]},sn.uniqBy=function(e,t){return e&&e.length?Cs(e,Sr(t,2)):[]},sn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?Cs(e,r,t):[]},sn.unset=function(e,t){return null==e||Es(e,t)},sn.unzip=va,sn.unzipWith=ga,sn.update=function(e,t,i){return null==e?e:As(e,t,Ps(i))},sn.updateWith=function(e,t,i,n){return n="function"==typeof n?n:r,null==e?e:As(e,t,Ps(i),n)},sn.values=Zo,sn.valuesIn=function(e){return null==e?[]:li(e,Yo(e))},sn.without=ba,sn.words=ul,sn.wrap=function(e,t){return Xa(Ps(t),e)},sn.xor=ma,sn.xorBy=_a,sn.xorWith=Sa,sn.zip=ya,sn.zipObject=function(e,t){return Is(e||[],t||[],bn)},sn.zipObjectDeep=function(e,t){return Is(e||[],t||[],ds)},sn.zipWith=Ca,sn.entries=Jo,sn.entriesIn=$o,sn.extend=No,sn.extendWith=xo,_l(sn,sn),sn.add=Ol,sn.attempt=cl,sn.camelCase=Qo,sn.capitalize=el,sn.ceil=Pl,sn.clamp=function(e,t,i){return i===r&&(i=t,t=r),i!==r&&(i=(i=Io(i))==i?i:0),t!==r&&(t=(t=Io(t))==t?t:0),En(Io(e),t,i)},sn.clone=function(e){return An(e,d)},sn.cloneDeep=function(e){return An(e,c|d)},sn.cloneDeepWith=function(e,t){return An(e,c|d,t="function"==typeof t?t:r)},sn.cloneWith=function(e,t){return An(e,d,t="function"==typeof t?t:r)},sn.conformsTo=function(e,t){return null==t||Tn(e,t,zo(t))},sn.deburr=tl,sn.defaultTo=function(e,t){return null==e||e!=e?t:e},sn.divide=Ll,sn.endsWith=function(e,t,i){e=Po(e),t=ys(t);var n=e.length,s=i=i===r?n:En(wo(i),0,n);return(i-=t.length)>=0&&e.slice(i,s)==t},sn.eq=$a,sn.escape=function(e){return(e=Po(e))&&me.test(e)?e.replace(ge,fi):e},sn.escapeRegExp=function(e){return(e=Po(e))&&we.test(e)?e.replace(Te,"\\$&"):e},sn.every=function(e,t,i){var n=to(e)?Bt:Pn;return i&&Lr(e,t,i)&&(t=r),n(e,Sr(t,3))},sn.find=ka,sn.findIndex=ea,sn.findKey=function(e,t){return Kt(e,Sr(t,3),Vn)},sn.findLast=Ia,sn.findLastIndex=ta,sn.findLastKey=function(e,t){return Kt(e,Sr(t,3),Hn)},sn.floor=Nl,sn.forEach=Oa,sn.forEachRight=Pa,sn.forIn=function(e,t){return null==e?e:Rn(e,Sr(t,3),Yo)},sn.forInRight=function(e,t){return null==e?e:Mn(e,Sr(t,3),Yo)},sn.forOwn=function(e,t){return e&&Vn(e,Sr(t,3))},sn.forOwnRight=function(e,t){return e&&Hn(e,Sr(t,3))},sn.get=Do,sn.gt=Za,sn.gte=Qa,sn.has=function(e,t){return null!=e&&kr(e,t,zn)},sn.hasIn=Bo,sn.head=na,sn.identity=vl,sn.includes=function(e,t,i,n){e=no(e)?e:Zo(e),i=i&&!n?wo(i):0;var s=e.length;return i<0&&(i=Mi(s+i,0)),_o(e)?i<=s&&e.indexOf(t,i)>-1:!!s&&$t(e,t,i)>-1},sn.indexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var s=null==i?0:wo(i);return s<0&&(s=Mi(n+s,0)),$t(e,t,s)},sn.inRange=function(e,t,i){return t=To(t),i===r?(i=t,t=0):i=To(i),function(e,t,i){return e>=Vi(t,i)&&e<Mi(t,i)}(e=Io(e),t,i)},sn.invoke=jo,sn.isArguments=eo,sn.isArray=to,sn.isArrayBuffer=io,sn.isArrayLike=no,sn.isArrayLikeObject=so,sn.isBoolean=function(e){return!0===e||!1===e||fo(e)&&Un(e)==D},sn.isBuffer=ro,sn.isDate=ao,sn.isElement=function(e){return fo(e)&&1===e.nodeType&&!go(e)},sn.isEmpty=function(e){if(null==e)return!0;if(no(e)&&(to(e)||"string"==typeof e||"function"==typeof e.splice||ro(e)||yo(e)||eo(e)))return!e.length;var t=wr(e);if(t==Y||t==J)return!e.size;if(Mr(e))return!Zn(e).length;for(var i in e)if(tt.call(e,i))return!1;return!0},sn.isEqual=function(e,t){return Xn(e,t)},sn.isEqualWith=function(e,t,i){var n=(i="function"==typeof i?i:r)?i(e,t):r;return n===r?Xn(e,t,r,i):!!n},sn.isError=oo,sn.isFinite=function(e){return"number"==typeof e&&Ni(e)},sn.isFunction=lo,sn.isInteger=uo,sn.isLength=co,sn.isMap=po,sn.isMatch=function(e,t){return e===t||Kn(e,t,Cr(t))},sn.isMatchWith=function(e,t,i){return i="function"==typeof i?i:r,Kn(e,t,Cr(t),i)},sn.isNaN=function(e){return vo(e)&&e!=+e},sn.isNative=function(e){if(Rr(e))throw new s("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Jn(e)},sn.isNil=function(e){return null==e},sn.isNull=function(e){return null===e},sn.isNumber=vo,sn.isObject=ho,sn.isObjectLike=fo,sn.isPlainObject=go,sn.isRegExp=bo,sn.isSafeInteger=function(e){return uo(e)&&e>=-I&&e<=I},sn.isSet=mo,sn.isString=_o,sn.isSymbol=So,sn.isTypedArray=yo,sn.isUndefined=function(e){return e===r},sn.isWeakMap=function(e){return fo(e)&&wr(e)==ee},sn.isWeakSet=function(e){return fo(e)&&"[object WeakSet]"==Un(e)},sn.join=function(e,t){return null==e?"":xi.call(e,t)},sn.kebabCase=il,sn.last=oa,sn.lastIndexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var s=n;return i!==r&&(s=(s=wo(i))<0?Mi(n+s,0):Vi(s,n-1)),t==t?function(e,t,i){for(var n=s+1;n--;)if(e[n]===t)return n;return n}(e,t):Jt(e,Qt,s,!0)},sn.lowerCase=nl,sn.lowerFirst=sl,sn.lt=Co,sn.lte=Eo,sn.max=function(e){return e&&e.length?Ln(e,vl,jn):r},sn.maxBy=function(e,t){return e&&e.length?Ln(e,Sr(t,2),jn):r},sn.mean=function(e){return ei(e,vl)},sn.meanBy=function(e,t){return ei(e,Sr(t,2))},sn.min=function(e){return e&&e.length?Ln(e,vl,Qn):r},sn.minBy=function(e,t){return e&&e.length?Ln(e,Sr(t,2),Qn):r},sn.stubArray=kl,sn.stubFalse=Il,sn.stubObject=function(){return{}},sn.stubString=function(){return""},sn.stubTrue=function(){return!0},sn.multiply=xl,sn.nth=function(e,t){return e&&e.length?ss(e,wo(t)):r},sn.noConflict=function(){return At._===this&&(At._=at),this},sn.noop=Sl,sn.now=Ha,sn.pad=function(e,t,i){e=Po(e);var n=(t=wo(t))?Si(e):0;if(!t||n>=t)return e;var s=(t-n)/2;return ir(Oi(s),i)+e+ir(Ii(s),i)},sn.padEnd=function(e,t,i){e=Po(e);var n=(t=wo(t))?Si(e):0;return t&&n<t?e+ir(t-n,i):e},sn.padStart=function(e,t,i){e=Po(e);var n=(t=wo(t))?Si(e):0;return t&&n<t?ir(t-n,i)+e:e},sn.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t=+t),Di(Po(e).replace(ke,""),t||0)},sn.random=function(e,t,i){if(i&&"boolean"!=typeof i&&Lr(e,t,i)&&(t=i=r),i===r&&("boolean"==typeof t?(i=t,t=r):"boolean"==typeof e&&(i=e,e=r)),e===r&&t===r?(e=0,t=1):(e=To(e),t===r?(t=e,e=0):t=To(t)),e>t){var n=e;e=t,t=n}if(i||e%1||t%1){var s=Bi();return Vi(e+s*(t-e+St("1e-"+((s+"").length-1))),t)}return us(e,t)},sn.reduce=function(e,t,i){var n=to(e)?Wt:ni,s=arguments.length<3;return n(e,Sr(t,4),i,s,In)},sn.reduceRight=function(e,t,i){var n=to(e)?Gt:ni,s=arguments.length<3;return n(e,Sr(t,4),i,s,On)},sn.repeat=function(e,t,i){return t=(i?Lr(e,t,i):t===r)?1:wo(t),cs(Po(e),t)},sn.replace=function(){var e=arguments,t=Po(e[0]);return e.length<3?t:t.replace(e[1],e[2])},sn.result=function(e,t,i){var n=-1,s=(t=Ls(t,e)).length;for(s||(s=1,e=r);++n<s;){var a=null==e?r:e[Xr(t[n])];a===r&&(n=s,a=i),e=lo(a)?a.call(e):a}return e},sn.round=Rl,sn.runInContext=e,sn.sample=function(e){return(to(e)?vn:function(e){return vn(Zo(e))})(e)},sn.size=function(e){if(null==e)return 0;if(no(e))return _o(e)?Si(e):e.length;var t=wr(e);return t==Y||t==J?e.size:Zn(e).length},sn.snakeCase=rl,sn.some=function(e,t,i){var n=to(e)?qt:gs;return i&&Lr(e,t,i)&&(t=r),n(e,Sr(t,3))},sn.sortedIndex=function(e,t){return bs(e,t)},sn.sortedIndexBy=function(e,t,i){return ms(e,t,Sr(i,2))},sn.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var n=bs(e,t);if(n<i&&$a(e[n],t))return n}return-1},sn.sortedLastIndex=function(e,t){return bs(e,t,!0)},sn.sortedLastIndexBy=function(e,t,i){return ms(e,t,Sr(i,2),!0)},sn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var i=bs(e,t,!0)-1;if($a(e[i],t))return i}return-1},sn.startCase=al,sn.startsWith=function(e,t,i){return e=Po(e),i=null==i?0:En(wo(i),0,e.length),t=ys(t),e.slice(i,i+t.length)==t},sn.subtract=Ml,sn.sum=function(e){return e&&e.length?si(e,vl):0},sn.sumBy=function(e,t){return e&&e.length?si(e,Sr(t,2)):0},sn.template=function(e,t,i){var n=sn.templateSettings;i&&Lr(e,t,i)&&(t=r),e=Po(e),t=xo({},t,n,cr);var a,o,l=xo({},t.imports,n.imports,cr),u=zo(l),c=li(l,u),h=0,d=t.interpolate||ze,f="__p += '",p=qe((t.escape||ze).source+"|"+d.source+"|"+(d===ye?Me:ze).source+"|"+(t.evaluate||ze).source+"|$","g"),v="//# sourceURL="+(tt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gt+"]")+"\n";e.replace(p,function(t,i,n,s,r,l){return n||(n=s),f+=e.slice(h,l).replace(Ye,pi),i&&(a=!0,f+="' +\n__e("+i+") +\n'"),r&&(o=!0,f+="';\n"+r+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),h=l+t.length,t}),f+="';\n";var g=tt.call(t,"variable")&&t.variable;if(g){if(xe.test(g))throw new s("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(de,""):f).replace(fe,"$1").replace(pe,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var b=cl(function(){return Ie(u,v+"return "+f).apply(r,c)});if(b.source=f,oo(b))throw b;return b},sn.times=function(e,t){if((e=wo(e))<1||e>I)return[];var i=L,n=Vi(e,L);t=Sr(t),e-=L;for(var s=ri(n,t);++i<e;)t(i);return s},sn.toFinite=To,sn.toInteger=wo,sn.toLength=ko,sn.toLower=function(e){return Po(e).toLowerCase()},sn.toNumber=Io,sn.toSafeInteger=function(e){return e?En(wo(e),-I,I):0===e?e:0},sn.toString=Po,sn.toUpper=function(e){return Po(e).toUpperCase()},sn.trim=function(e,t,i){if((e=Po(e))&&(i||t===r))return ai(e);if(!e||!(t=ys(t)))return e;var n=yi(e),s=yi(t);return xs(n,ci(n,s),hi(n,s)+1).join("")},sn.trimEnd=function(e,t,i){if((e=Po(e))&&(i||t===r))return e.slice(0,Ci(e)+1);if(!e||!(t=ys(t)))return e;var n=yi(e);return xs(n,0,hi(n,yi(t))+1).join("")},sn.trimStart=function(e,t,i){if((e=Po(e))&&(i||t===r))return e.replace(ke,"");if(!e||!(t=ys(t)))return e;var n=yi(e);return xs(n,ci(n,yi(t))).join("")},sn.truncate=function(e,t){var i=30,n="...";if(ho(t)){var s="separator"in t?t.separator:s;i="length"in t?wo(t.length):i,n="omission"in t?ys(t.omission):n}var a=(e=Po(e)).length;if(vi(e)){var o=yi(e);a=o.length}if(i>=a)return e;var l=i-Si(n);if(l<1)return n;var u=o?xs(o,0,l).join(""):e.slice(0,l);if(s===r)return u+n;if(o&&(l+=u.length-l),bo(s)){if(e.slice(l).search(s)){var c,h=u;for(s.global||(s=qe(s.source,Po(Ve.exec(s))+"g")),s.lastIndex=0;c=s.exec(h);)var d=c.index;u=u.slice(0,d===r?l:d)}}else if(e.indexOf(ys(s),l)!=l){var f=u.lastIndexOf(s);f>-1&&(u=u.slice(0,f))}return u+n},sn.unescape=function(e){return(e=Po(e))&&be.test(e)?e.replace(ve,Ei):e},sn.uniqueId=function(e){var t=++it;return Po(e)+t},sn.upperCase=ol,sn.upperFirst=ll,sn.each=Oa,sn.eachRight=Pa,sn.first=na,_l(sn,function(){var e={};return Vn(sn,function(t,i){tt.call(sn.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),sn.VERSION="4.17.21",Dt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){sn[e].placeholder=sn}),Dt(["drop","take"],function(e,t){ln.prototype[e]=function(i){i=i===r?1:Mi(wo(i),0);var n=this.__filtered__&&!t?new ln(this):this.clone();return n.__filtered__?n.__takeCount__=Vi(i,n.__takeCount__):n.__views__.push({size:Vi(i,L),type:e+(n.__dir__<0?"Right":"")}),n},ln.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Dt(["filter","map","takeWhile"],function(e,t){var i=t+1,n=1==i||3==i;ln.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Sr(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}}),Dt(["head","last"],function(e,t){var i="take"+(t?"Right":"");ln.prototype[e]=function(){return this[i](1).value()[0]}}),Dt(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");ln.prototype[e]=function(){return this.__filtered__?new ln(this):this[i](1)}}),ln.prototype.compact=function(){return this.filter(vl)},ln.prototype.find=function(e){return this.filter(e).head()},ln.prototype.findLast=function(e){return this.reverse().find(e)},ln.prototype.invokeMap=hs(function(e,t){return"function"==typeof e?new ln(this):this.map(function(i){return Gn(i,e,t)})}),ln.prototype.reject=function(e){return this.filter(Ga(Sr(e)))},ln.prototype.slice=function(e,t){e=wo(e);var i=this;return i.__filtered__&&(e>0||t<0)?new ln(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==r&&(i=(t=wo(t))<0?i.dropRight(-t):i.take(t-e)),i)},ln.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ln.prototype.toArray=function(){return this.take(L)},Vn(ln.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),s=sn[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);s&&(sn.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,l=t instanceof ln,u=o[0],c=l||to(t),h=function(e){var t=s.apply(sn,Yt([e],o));return n&&d?t[0]:t};c&&i&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=a&&!d,v=l&&!f;if(!a&&c){t=v?t:new ln(this);var g=e.apply(t,o);return g.__actions__.push({func:Aa,args:[h],thisArg:r}),new on(g,d)}return p&&v?e.apply(this,o):(g=this.thru(h),p?n?g.value()[0]:g.value():g)})}),Dt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Je[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);sn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var s=this.value();return t.apply(to(s)?s:[],e)}return this[i](function(i){return t.apply(to(i)?i:[],e)})}}),Vn(ln.prototype,function(e,t){var i=sn[t];if(i){var n=i.name+"";tt.call(Xi,n)||(Xi[n]=[]),Xi[n].push({name:t,func:i})}}),Xi[Zs(r,g).name]=[{name:"wrapper",func:r}],ln.prototype.clone=function(){var e=new ln(this.__wrapped__);return e.__actions__=Us(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Us(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Us(this.__views__),e},ln.prototype.reverse=function(){if(this.__filtered__){var e=new ln(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},ln.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=to(e),n=t<0,s=i?e.length:0,r=function(e,t,i){for(var n=-1,s=i.length;++n<s;){var r=i[n],a=r.size;switch(r.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Vi(t,e+a);break;case"takeRight":e=Mi(e,t-a)}}return{start:e,end:t}}(0,s,this.__views__),a=r.start,o=r.end,l=o-a,u=n?o:a-1,c=this.__iteratees__,h=c.length,d=0,f=Vi(l,this.__takeCount__);if(!i||!n&&s==l&&f==l)return ws(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var v=-1,g=e[u+=t];++v<h;){var b=c[v],m=b.iteratee,_=b.type,S=m(g);if(2==_)g=S;else if(!S){if(1==_)continue e;break e}}p[d++]=g}return p},sn.prototype.at=Ta,sn.prototype.chain=function(){return Ea(this)},sn.prototype.commit=function(){return new on(this.value(),this.__chain__)},sn.prototype.next=function(){this.__values__===r&&(this.__values__=Ao(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},sn.prototype.plant=function(e){for(var t,i=this;i instanceof an;){var n=Jr(i);n.__index__=0,n.__values__=r,t?s.__wrapped__=n:t=n;var s=n;i=i.__wrapped__}return s.__wrapped__=e,t},sn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof ln){var t=e;return this.__actions__.length&&(t=new ln(this)),(t=t.reverse()).__actions__.push({func:Aa,args:[ha],thisArg:r}),new on(t,this.__chain__)}return this.thru(ha)},sn.prototype.toJSON=sn.prototype.valueOf=sn.prototype.value=function(){return ws(this.__wrapped__,this.__actions__)},sn.prototype.first=sn.prototype.head,Ot&&(sn.prototype[Ot]=function(){return this}),sn}();At._=Ai,(s=function(){return Ai}.call(t,i,t,n))===r||(n.exports=s)}).call(this)}).call(this,i(96),i(42)(e))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5SignalAttributeRegistry=void 0;var n=function(){function e(){_classCallCheck(this,e),this._registry={}}return _createClass(e,[{key:"addElementAttributeEntries",value:function(e,t){this._registry[e.toUpperCase()]?this._registry[e.toUpperCase()].attributes=t:this._registry[e.toUpperCase()]={attributes:t}}},{key:"addCustomAttributeEntry",value:function(t,i){this._registry[e.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME]||(this._registry[e.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME]={attributes:{}}),this._registry[e.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME].attributes[t]=i}},{key:"addElementDefaultAttributeEntries",value:function(e,t){this._registry[e.toUpperCase()]||(this._registry[e.toUpperCase()]={attributes:{}}),this._registry[e.toUpperCase()].addAttributeWhen=t}},{key:"getElementAttributeEntry",value:function(t,i){return void 0!==this._registry[t]?this._registry[t].attributes[i]:void 0!==this._registry[e.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME]?this._registry[e.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME].attributes[i]:void 0}},{key:"getElementDefaultAttributeEntries",value:function(e){if(void 0!==this._registry[e])return this._registry[e].addAttributeWhen}}],[{key:"instance",get:function(){return void 0===e._instance&&(e._instance=new e),e._instance}}]),e}();t.Ch5SignalAttributeRegistry=n,n.BOOLEAN_JOIN="booleanJoin",n.NUMERIC_JOIN="numericJoin",n.STRING_JOIN="stringJoin",n.CONTRACT_NAME="contractName",n.CUSTOM_ATTRIBUTE_PSUEDO_ELEMENT_NAME="*"},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Common=void 0;var s=i(0),r=i(15),a=i(39),o=i(264),l=i(83),u=n(i(82)),c=n(i(5)),h=i(74),d=n(i(1)),f=function(t){_inherits(n,_wrapNativeSuper(HTMLElement));var i=_createSuper(n);function n(){var e;_classCallCheck(this,n),(e=i.call(this)).COMMON_PROPERTIES={SHOW:{default:!0,valueOnAttributeEmpty:!0,variableName:"_show",attributeName:"show",propertyName:"show",type:"boolean",removeAttributeOnNull:!0,enumeratedValues:["true","false","",!0,!1],componentReference:_assertThisInitialized(e),callback:e.updateForChangeInShowStatus.bind(_assertThisInitialized(e))},DISABLED:{default:!1,valueOnAttributeEmpty:!0,variableName:"_disabled",attributeName:"disabled",propertyName:"disabled",type:"boolean",removeAttributeOnNull:!0,enumeratedValues:["true","false","",!0,!1],componentReference:_assertThisInitialized(e),callback:e.updateForChangeInDisabledStatus.bind(_assertThisInitialized(e))}},e.showTypes=["display","visibility","remove"],e.primaryCssClass="ch5-common",e.cssClassPrefix="ch5-common",e.currentLanguage="",e.translatableObjects={},e.childrenOfCurrentNode=null,e._class="",e._style="",e._id="",e._customClass="",e._prevAddedCustomClasses=[],e._customStyle="",e._prevAddedStyle="",e._show=!0,e._noshowType="display",e._disabled=!1,e._gestureable=!1,e._receiveStateCustomClass="",e._subKeySigReceiveCustomClass="",e._receiveStateCustomStyle="",e._subKeySigReceiveCustomStyle="",e._receiveStateShow="",e._subKeySigReceiveShow="",e._receiveStateShowPulse="",e._subKeySigReceiveShowPulse="",e._receiveStateHidePulse="",e._nextSiblingIndexInParentChildNodes=0,e._subKeySigReceiveHidePulse="",e._receiveStateEnable="",e._subKeySigReceiveEnable="",e._sigNameSendOnShow="",e._sigSendOnShow=null,e._onrelease={},e._onpress={},e._isDebugEnabled=!1,e._isTraceEnabled=!1,e._listOfAllPossibleComponentCssClasses=[],e._crId="",e._ch5Id=0,e._visibilityCssClassPrefix="ch5",e._cssClassHideVisibility=e._visibilityCssClassPrefix+"-hide-vis",e._cssClassHideDisplay=e._visibilityCssClassPrefix+"-hide-dis",e._cachedParentEl=null,e._cachedNextSibling=null,e._isDetachedFromDom=!1,e._keepListeningOnSignalsAfterRemoval=!1,e._targetElementForCssClassesAndStyle=null,e._wasInstatiated=!1,e.wasInstantiatedInViewport=!1,e._appendClassWhenInViewPort="",e.elementIsInViewPort=!0,e.elementIntersectionEntry={},e.elementIsVisible=!0,e._commonMutationObserver={},e.debounce=function(e,t){var i;return function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];window.clearTimeout(i),i=window.setTimeout(function(){window.clearTimeout(i),e.apply(void 0,s)},t)}},e._crId=s.Ch5Uid.getUid(),e.logger=new h.Ch5CommonLog(!1,!1,e._crId);var t=[];t.push(e.cssClassPrefix+"--disabled"),e._listOfAllPossibleComponentCssClasses=t,e.observableGestureableProperty=new r.Subject;var a=s.Ch5SignalFactory.getInstance().getStringSignal(s.languageChangedSignalName);return null!==a&&a.subscribe(function(t){""!==t&&t!==e.currentLanguage&&(e.currentLanguage=t,Object.keys(e.translatableObjects).forEach(function(t){var i=_assertThisInitialized(e);void 0===i[t]&&void 0!==i.attrModel&&(i=i.attrModel),void 0!==i[t.toString()]&&void 0!==e.translatableObjects[t.toString()]&&(i[t.toString()]=e.translatableObjects[t],e.translateCallback(t.toString()))}))}),e}return _createClass(n,[{key:"customClass",get:function(){return this._customClass},set:function(e){this.logger.log("set customClass('"+e+"')"),(e=this._checkAndSetStringValue(e))!==this._customClass&&(this._customClass=e,this.setAttribute("customclass",e))}},{key:"customStyle",get:function(){return this._customStyle},set:function(e){this.logger.log("set customStyle('"+e+"')"),(e=this._checkAndSetStringValue(e))!==this._customStyle&&(this._prevAddedStyle=this._customStyle,this._customStyle=e,this.setAttribute("customstyle",e))}},{key:"show",get:function(){return this._show},set:function(e){this.logger.log("set show('"+e+"')"),(d.default.isNil(this.receiveStateShow)||""===this.receiveStateShow)&&this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,e)}},{key:"noshowType",get:function(){return this._noshowType},set:function(e){this.logger.log("set noshowType('"+e+"')"),(e=this._checkAndSetStringValue(e,"none"))!==this._noshowType&&(this.showTypes.indexOf(e)>0?this._noshowType=e:this._noshowType=this.showTypes[0],this.setAttribute("noshowtype",this._noshowType))}},{key:"disabled",get:function(){return this._disabled},set:function(e){this.logger.log("set disabled('"+e+"')"),(d.default.isNil(this.receiveStateEnable)||""===this.receiveStateEnable)&&this.setAttributeAndProperty(this.COMMON_PROPERTIES.DISABLED,e)}},{key:"gestureable",get:function(){return this._gestureable},set:function(e){this.logger.log("set gestureable('"+e+"')");var t=this.toBoolean(e);e!==this._gestureable&&(this.observableGestureableProperty.next(t),this._gestureable=t,this.setAttribute("gestureable",t.toString()))}},{key:"receiveStateCustomClass",get:function(){return this._attributeValueAsString("receivestatecustomclass")},set:function(e){var t=this;if(this.logger.log("set receiveStateCustomClass('"+e+"')"),""!==(e=this._checkAndSetStringValue(e))&&e!==this._receiveStateCustomClass){this.clearStringSignalSubscription(this._receiveStateCustomClass,this._subKeySigReceiveCustomClass),this._receiveStateCustomClass=e,this.setAttribute("receivestatecustomclass",e);var i=s.Ch5Signal.getSubscriptionSignalName(this._receiveStateCustomClass),n=s.Ch5SignalFactory.getInstance().getStringSignal(i);if(null!==n){var r=!1;this._subKeySigReceiveCustomClass=n.subscribe(function(e){t.logger.log("subs callback for signalReceiveCustomClass: ",t._receiveStateCustomClass," Signal has value ",e),""!==e&&(r=!0),e!==t.customClass&&r&&(t.customClass=e)})}}}},{key:"receiveStateCustomStyle",get:function(){return this._attributeValueAsString("receivestatecustomstyle")},set:function(e){var t=this;if(this.logger.log("set receiveStateCustomStyle('"+e+"')"),""!==(e=this._checkAndSetStringValue(e))&&e!==this._receiveStateCustomStyle){this.clearStringSignalSubscription(this._receiveStateCustomStyle,this._subKeySigReceiveCustomStyle),this._receiveStateCustomStyle=e,this.setAttribute("receivestatecustomstyle",e);var i=s.Ch5Signal.getSubscriptionSignalName(this._receiveStateCustomStyle),n=s.Ch5SignalFactory.getInstance().getStringSignal(i);if(null!==n){var r=!1;this._subKeySigReceiveCustomStyle=n.subscribe(function(e){t.logger.log(" subs callback for signalReceiveCustomStyle: ",t._subKeySigReceiveCustomStyle," Signal has value ",e),""!==e&&(r=!0),e!==t.customStyle&&r&&t.setAttribute("customStyle",e)})}}}},{key:"receiveStateEnable",get:function(){return this._attributeValueAsString("receivestateenable")},set:function(e){var t=this;if(this.logger.log("set receiveStateEnable('"+e+"')"),""!==(e=this._checkAndSetStringValue(e))&&e!==this._receiveStateEnable){this.clearBooleanSignalSubscription(this._receiveStateEnable,this._subKeySigReceiveEnable),this._receiveStateEnable=e,this.setAttribute("receivestateenable",e);var i=s.Ch5Signal.getSubscriptionSignalName(this._receiveStateEnable),n=s.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&(this._subKeySigReceiveEnable=n.subscribe(function(e){t.logger.log(" subs callback for signalReceiveEnable: ",t._subKeySigReceiveEnable," Signal has value ",e),!t.disabled!==e&&t.setAttributeAndProperty(t.COMMON_PROPERTIES.DISABLED,!e,!0)}))}}},{key:"receiveStateHidePulse",get:function(){return this._attributeValueAsString("receivestatehidepulse")},set:function(e){var t=this;if(this.logger.log("set receiveStateHidePulse('"+e+"')"),""!==(e=this._checkAndSetStringValue(e))&&e!==this._receiveStateHidePulse){this.clearBooleanSignalSubscription(this._receiveStateHidePulse,this._subKeySigReceiveHidePulse),this._receiveStateHidePulse=e,this.setAttribute("receivestatehidepulse",e);var i=s.Ch5Signal.getSubscriptionSignalName(this._receiveStateHidePulse),n=s.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&(this._subKeySigReceiveHidePulse=n.subscribe(function(e){t.logger.log(" subs callback for signalReceiveHidePulse: ",t._subKeySigReceiveHidePulse," Signal has value ",e),null!==n?!1===n.prevValue&&!0===e&&t.setAttribute("show","false"):t.logger.log(" subs callback for signalReceiveHidePulse: ",t._subKeySigReceiveHidePulse," recSig is null")}))}}},{key:"receiveStateShowPulse",get:function(){return this._attributeValueAsString("receivestateshowpulse")},set:function(e){var t=this;if(this.logger.log("set receiveStateShowPulse('"+e+"')"),""!==(e=this._checkAndSetStringValue(e))&&e!==this._receiveStateShowPulse){this.clearBooleanSignalSubscription(this._receiveStateShowPulse,this._subKeySigReceiveShowPulse),this._receiveStateShowPulse=e,this.setAttribute("receivestateshowpulse",e);var i=s.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowPulse),n=s.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&(this._subKeySigReceiveShowPulse=n.subscribe(function(e){if(t.logger.log(" subs callback for signalReceiveShowPulse: ",t._subKeySigReceiveShowPulse," Signal has value ",e),null!==n){var i=void 0!==e.repeatdigital?e.repeatdigital:e;if(void 0!==n.prevValue.repeatdigital)return void(!1===n.prevValue.repeatdigital&&!0===i&&t.setAttribute("show","true"));!1===n.prevValue&&!0===i&&t.setAttribute("show","true")}}))}}},{key:"receiveStateShow",get:function(){return this._attributeValueAsString("receivestateshow")},set:function(e){var t=this;if(this.logger.log("set receiveStateShow('"+e+"')"),""!==(e=this._checkAndSetStringValue(e))&&e!==this._receiveStateShow){this.clearBooleanSignalSubscription(this._receiveStateShow,this._subKeySigReceiveShow),this._receiveStateShow=e,this.setAttribute("receivestateshow",e);var i=s.Ch5Signal.getSubscriptionSignalName(this._receiveStateShow),n=s.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n?this._subKeySigReceiveShow=n.subscribe(function(e){t.logger.log("subs callback for signalReceiveShow: ",t._subKeySigReceiveShow," Signal has value ",e," this.show",t.show),e!==t.show&&t.setAttributeAndProperty(t.COMMON_PROPERTIES.SHOW,e,!0)}):this.logger.log("recSig for signalReceiveShow is null")}}},{key:"sendEventOnShow",get:function(){return this.sigNameSendOnShow},set:function(e){this.sigNameSendOnShow=e}},{key:"sigNameSendOnShow",get:function(){return this._sigNameSendOnShow},set:function(e){this.logger.log("set sigNameSendOnShow('"+e+"')"),""!==(e=this._checkAndSetStringValue(e))&&e!==this._sigNameSendOnShow&&(this._sigNameSendOnShow=e,this.setAttribute("sendeventonshow",e),this._sigSendOnShow=s.Ch5SignalFactory.getInstance().getBooleanSignal(this._sigNameSendOnShow))}},{key:"onrelease",get:function(){return this._onrelease},set:function(e){this._onrelease=e}},{key:"onpress",get:function(){return this.logger.log("get onpress"),this._onpress},set:function(e){this.logger.log("set onpress"),this._onpress=e}},{key:"appendClassWhenInViewPort",set:function(e){e!==this._appendClassWhenInViewPort&&(this._appendClassWhenInViewPort=e,this.setAttribute("appendClassWhenInViewPort",e.toString()))}},{key:"appendClassWhenInViewport",get:function(){return this._appendClassWhenInViewPort}},{key:"_t",value:function(e){var t=e,i=s.Ch5TranslationUtility.getInstance(),n=i.valuesToTranslation(e);return n&&n.length>0&&n.forEach(function(e){if(i.isTranslationIdentifier(e)){var n=i.stripDownTranslationCharacters(e);if(i.getTranslator().exists(n)){var s=i.getTranslator().t(n);t=t.replace(e,s)}}}),t}},{key:"resolveTemplateChildren",value:function(e){e&&!(0,c.default)(e.content)&&0===e.content.childElementCount&&e.children.length>0&&Array.from(e.children).forEach(function(t){e.content.appendChild(t)})}},{key:"_getTranslatedValue",value:function(e,t){var i=s.Ch5TranslationUtility.getInstance(),n=t,r=t,a=this.translatableObjects[e];return a===t&&(n=a),i.isTranslationIdentifier(n)?(void 0===a?(a=t,r=this._t(t)):i.isTranslationIdentifier(a)?(this._t(a)!==t&&i.hasMultipleIdentifiers(a)&&(a=t),r=this._t(a)):(a!==t&&(a=t),r=this._t(t)),this.translatableObjects[e]=a,r):t}},{key:"getCrId",value:function(){return this._crId}},{key:"info",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.logger.info(e,i)}},{key:"error",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.logger.error(e,i)}},{key:"isDebug",value:function(){return this._isDebugEnabled}},{key:"isTrace",value:function(){return this._isTraceEnabled}},{key:"attributeChangedCallback",value:function(e,t,i){if(t!==i)switch(this.logger.log('ch5-common attributeChangedCallback("'+e+'","'+t+'","'+i+')"'),e){case"customclass":this.logger.log("CustomClass Set in Common"),this.hasAttribute("customclass")?this.customClass=this.getAttribute("customclass"):this.customClass="",this.updateForChangeInCustomCssClass();break;case"customstyle":this.hasAttribute("customstyle")?this.customStyle=this.getAttribute("customstyle"):this.customStyle="",this.updateForChangeInStyleCss();break;case"show":this.show=i;break;case"noshowtype":this.updateForChangeInShowStatus();break;case"receivestatecustomclass":this.hasAttribute("receivestatecustomclass")?this.receiveStateCustomClass=this.getAttribute("receivestatecustomclass"):(this.clearStringSignalSubscription(this._receiveStateCustomClass,this._subKeySigReceiveCustomClass),this._receiveStateCustomClass="");break;case"receivestatecustomstyle":this.hasAttribute("receivestatecustomstyle")?this.receiveStateCustomStyle=this.getAttribute("receivestatecustomstyle"):(this.clearStringSignalSubscription(this._receiveStateCustomStyle,this._subKeySigReceiveCustomStyle),this._receiveStateCustomStyle="");break;case"receivestateshow":this.hasAttribute("receivestateshow")?this.receiveStateShow=this.getAttribute("receivestateshow"):(this.clearBooleanSignalSubscription(this._receiveStateShow,this._subKeySigReceiveShow),this._sigNameSendOnShow="");break;case"receivestateshowpulse":this.hasAttribute("receivestateshowpulse")?this.receiveStateShowPulse=this.getAttribute("receivestateshowpulse"):(this.clearBooleanSignalSubscription(this._receiveStateShowPulse,this._subKeySigReceiveShowPulse),this._receiveStateShowPulse="");break;case"receivestatehidepulse":this.hasAttribute("receivestatehidepulse")?this.receiveStateHidePulse=this.getAttribute("receivestatehidepulse"):(this.clearBooleanSignalSubscription(this._receiveStateHidePulse,this._subKeySigReceiveHidePulse),this._receiveStateHidePulse="");break;case"receivestateenable":this.hasAttribute("receivestateenable")?this.receiveStateEnable=this.getAttribute("receivestateenable"):(this.clearBooleanSignalSubscription(this._receiveStateEnable,this._subKeySigReceiveEnable),this._receiveStateEnable="");break;case"sendeventonshow":this.hasAttribute("sendeventonshow")?this.sigNameSendOnShow=this.getAttribute("sendeventonshow"):(this._sigSendOnShow=null,this._sigNameSendOnShow="");break;case"disabled":this.hasAttribute("customclassdisabled")||(this.disabled=i);break;case"gestureable":this.hasAttribute("gestureable")?this.gestureable=this.toBoolean(i):this.gestureable=!1;break;case"debug":this.hasAttribute("debug")?this._isDebugEnabled=!0:this._isDebugEnabled=!1,this.logger.isDebugEnabled=this._isDebugEnabled;break;case"trace":var n;n=!!this.hasAttribute("trace"),this.logger.isTraceEnabled=n;break;case"dir":var s=this.getAttribute("dir")||"";s!==this.dir&&(this.dir=s);break;case"appendclasswheninviewport":this.hasAttribute("appendclasswheninviewport")&&(this.appendClassWhenInViewPort=this.getAttribute("appendClassWhenInViewport"))}}},{key:"cacheComponentChildrens",value:function(){this.childrenOfCurrentNode=Array.from(this.children).filter(function(e){return e.isConnected})}},{key:"repaint",value:function(){var t=this;try{var i=this.parentNode;if(this._wasInstatiated=!1,!0===this.hasChildNodes()){for(var n=function(e){var i=!0;t.childrenOfCurrentNode&&t.childrenOfCurrentNode.length>0&&Array.from(t.childrenOfCurrentNode).filter(function(n){null!==n&&Object.is(n,t.childNodes[e])&&(i=!1)}),!0===i&&t.removeChild(t.childNodes[e])},s=this.childNodes.length;s--;)n(s);var r=document.createElement("div");null!==i&&(i.insertBefore(r,this.nextSibling),this.remove(),r.parentNode.insertBefore(this,r.nextSibling),r.remove())}}catch(e){console.log("Error encountered during repaint  crId: "+this.getCrId()+" error ",e)}}},{key:"updateCssClasses",value:function(e){this.logger.log("from common - updateCssClasses()")}},{key:"updateForChangeInCustomCssClass",value:function(){var e=this,t=this.getTargetElementForCssClassesAndStyle();this.logger.start("updateForChangeInCustomCssClass()"),this.logger.log("updateForChangeInCustomCssClass()",this._prevAddedCustomClasses),this.logger.log("from common - updateForChangeInCustomCssClass()",this.customClass),this._prevAddedCustomClasses.forEach(function(e){""!==e&&t.classList.remove(e)}),this._prevAddedCustomClasses=[],this.customClass.split(" ").forEach(function(i){""!==i&&(e._prevAddedCustomClasses.push(i),t.classList.add(i))}),this.logger.stop()}},{key:"updateForChangeInStyleCss",value:function(){var e=this.getTargetElementForCssClassesAndStyle();this.logger.log("from common - updateForChangeInStyleCss()"),e.style.cssText=this.customStyle}},{key:"updateForChangeInShowStatusOld",value:function(){this.logger.log("from common - updateForChangeInShowStatus()"),!1===this._show?this.handleHide(this):this.handleShow(this)}},{key:"updateForChangeInShowStatus",value:function(){this.logger.log("from common - updateForChangeInShowStatus()"),this.hasAttribute("noshowtype")?this.noshowType=this.getAttribute("noshowtype"):this.noshowType="display",!1===this._show?this.handleHide(this):this.handleShow(this)}},{key:"handleHide",value:function(e){var t=this;switch(this.beforeHandlingHide(),this.logger.log("handleHide"),this.sendShowSignal(!1),this._noshowType){case"visibility":e.classList.add(this._cssClassHideVisibility),e.classList.remove(this._cssClassHideDisplay);break;case"display":e.classList.add(this._cssClassHideDisplay),e.classList.remove(this._cssClassHideVisibility);break;case"remove":e.classList.remove(this._cssClassHideDisplay),e.classList.remove(this._cssClassHideVisibility),null!==this.parentElement&&void 0!==this.parentElement&&(this._cachedParentEl=this.parentElement,this.logger.log(" removes element from DOM due to change in show signal, cached parent element"),null!==this.nextElementSibling&&void 0!==this.nextElementSibling&&(this._nextSiblingIndexInParentChildNodes=Array.from(this.parentElement.childNodes).findIndex(function(e){return e===t.nextElementSibling}),this._cachedNextSibling=this.nextElementSibling,this.logger.log(" cached sibling element")),this._keepListeningOnSignalsAfterRemoval=!0,this._isDetachedFromDom=!0,this.parentElement.removeChild(this))}this.afterHandlingHide()}},{key:"handleShow",value:function(e){if(this.beforeHandlingShow(),this.logger.log("handleShow"),e.classList.remove(this._cssClassHideDisplay),e.classList.remove(this._cssClassHideVisibility),null!==this._cachedParentEl&&void 0!==this._cachedParentEl){var t=this._cachedParentEl;if(this._cachedParentEl=null,null!==this._cachedNextSibling&&void 0!==this._cachedNextSibling&&t===this._cachedNextSibling.parentElement){var i=this._cachedNextSibling;this._cachedNextSibling=null,t.insertBefore(this,i),this.logger.log(" inserted element before cached sibling due to change in show signal"),this._keepListeningOnSignalsAfterRemoval=!1}else{if(this._nextSiblingIndexInParentChildNodes){var n=t.childNodes[this._nextSiblingIndexInParentChildNodes];t.insertBefore(this,n)}else t.appendChild(this);this.logger.log(" appended element to parent due to change in show signal"),this._keepListeningOnSignalsAfterRemoval=!1}this._isDetachedFromDom=!1}this.sendShowSignal(!0),this.afterHandlingShow()}},{key:"beforeHandlingShow",value:function(){}},{key:"afterHandlingShow",value:function(){}},{key:"beforeHandlingHide",value:function(){}},{key:"afterHandlingHide",value:function(){}},{key:"updateForChangeInDisabledStatus",value:function(){var e=this.getTargetElementForCssClassesAndStyle();this.logger.log("from common - updateForChangeInDisabledStatus()"),!0===this._disabled?e.classList.add(this.getCssClassDisabled()):e.classList.remove(this.getCssClassDisabled())}},{key:"getTargetElementForCssClassesAndStyle",value:function(){return this}},{key:"initAttributes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.applyPreConfiguredAttributes(),this.hasAttribute("disabled")&&!this.hasAttribute("customclassdisabled")&&!1===t.includes("disabled")&&(this.disabled=this.getAttribute("disabled")),this.hasAttribute("debug")&&!1===t.includes("debug")&&(this._isDebugEnabled=!0),this.hasAttribute("show")&&!1===t.includes("show")&&(this.show=this.getAttribute("show")),this.hasAttribute("customclass")&&!1===t.includes("customclass")&&(this.customClass=this.getAttribute("customclass"),this.updateForChangeInCustomCssClass()),this.hasAttribute("customstyle")&&!1===t.includes("customstyle")&&(this.customStyle=this.getAttribute("customstyle"),this.updateForChangeInStyleCss()),this.hasAttribute("noshowtype")&&!1===t.includes("noshowtype")&&(this.noshowType=this.getAttribute("noshowtype")),this.hasAttribute("receivestatecustomclass")&&!1===t.includes("receivestatecustomclass")&&(this.receiveStateCustomClass=this.getAttribute("receivestatecustomclass")),this.hasAttribute("receivestatecustomstyle")&&!1===t.includes("receivestatecustomstyle")&&(this.receiveStateCustomStyle=this.getAttribute("receivestatecustomstyle")),this.hasAttribute("receivestateshow")&&!1===t.includes("receivestateshow")&&(this.receiveStateShow=this.getAttribute("receivestateshow")),this.hasAttribute("receivestateshowpulse")&&!1===t.includes("receivestateshowpulse")&&(this.receiveStateShowPulse=this.getAttribute("receivestateshowpulse")),this.hasAttribute("receivestatehidepulse")&&!1===t.includes("receivestatehidepulse")&&(this.receiveStateHidePulse=this.getAttribute("receivestatehidepulse")),this.hasAttribute("receivestateenable")&&!1===t.includes("receivestateenable")&&(this.receiveStateEnable=this.getAttribute("receivestateenable")),this.hasAttribute("sendeventonshow")&&!1===t.includes("sendeventonshow")&&(this.sigNameSendOnShow=this.getAttribute("sendeventonshow")),this.hasAttribute("gestureable")&&!1===t.includes("gestureable")&&(this.gestureable=this.toBoolean(this.getAttribute("gestureable"))),this.dir=this.getAttribute("dir")||n.DIRECTION[0],this.hasAttribute("appendclasswheninviewport")&&!1===t.includes("appendclasswheninviewport")&&(this.appendClassWhenInViewPort=this.getAttribute("appendclasswheninviewport"),(0,s.subscribeInViewPortChange)(this,function(t){e.updateElementVisibility(t),e.updateInViewPortClass()}))}},{key:"attachEventListeners",value:function(){}},{key:"removeEventListeners",value:function(){}},{key:"_checkAndSetStringValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,c.default)(e)&&(e=t),e}},{key:"clearStringSignalSubscription",value:function(e,t){var i=null;if(e){var n=s.Ch5Signal.getSubscriptionSignalName(e);i=s.Ch5SignalFactory.getInstance().getStringSignal(n)}null!==i&&""!==t&&i.unsubscribe(t)}},{key:"clearBooleanSignalSubscription",value:function(e,t){var i=null;if(e){var n=s.Ch5Signal.getSubscriptionSignalName(e);i=s.Ch5SignalFactory.getInstance().getBooleanSignal(n)}null!==i&&""!==t&&i.unsubscribe(t)}},{key:"clearNumberSignalSubscription",value:function(e,t){var i=null;if(""!==e&&null!=e){var n=s.Ch5Signal.getSubscriptionSignalName(e);i=s.Ch5SignalFactory.getInstance().getNumberSignal(n)}null!==i&&""!==t&&i.unsubscribe(t)}},{key:"sendShowSignal",value:function(e){if(this.logger.log("sendShowSignal "+e+" "+this._sigNameSendOnShow),""!==this._sigNameSendOnShow){var t=s.Ch5SignalFactory.getInstance().getBooleanSignal(this._sigNameSendOnShow);null!==t&&t.publish(e)}}},{key:"attributeChangeHandler",value:function(e,t,i){var n="";return this.hasAttribute(e)&&(n=t!==i?i:t),n}},{key:"applyPreConfiguredAttributes",value:function(){var e=a.Ch5Config.getAttributesForElement(this);for(var t in e)e.hasOwnProperty(t)&&(this.hasAttribute(t)||this.setAttribute(t,e[t]))}},{key:"_attributeValueAsString",value:function(e){var t="";return e=e.toLowerCase(),this.hasAttribute(e)&&(t=""+this.getAttribute(e)),t}},{key:"contentCleanUp",value:function(){this.children.length&&Array.from(this.children).forEach(function(e){return"TEMPLATE"!==e.nodeName&&e.remove()})}},{key:"getCssClassDisabled",value:function(){return"ch5-disabled"}},{key:"unsubscribeFromSignals",value:function(){!1===this._keepListeningOnSignalsAfterRemoval&&(this.clearBooleanSignalSubscription(this._receiveStateEnable,this._subKeySigReceiveEnable),this._receiveStateEnable="",this.clearBooleanSignalSubscription(this._receiveStateShow,this._subKeySigReceiveShow),this._receiveStateShow="",this.clearBooleanSignalSubscription(this._receiveStateShowPulse,this._subKeySigReceiveShowPulse),this._receiveStateShowPulse="",this.clearBooleanSignalSubscription(this._receiveStateHidePulse,this._subKeySigReceiveHidePulse),this._receiveStateHidePulse="",this.clearStringSignalSubscription(this._receiveStateCustomStyle,this._subKeySigReceiveCustomStyle),this._receiveStateCustomStyle="",this.clearStringSignalSubscription(this._receiveStateCustomClass,this._subKeySigReceiveCustomClass),this._receiveStateCustomClass="")}},{key:"invokePropIncompatibility",value:function(e){switch(e){case"pagedSwipe":console.warn(this.definePropIncompatibilityInfo(e,["size","endless"]))}}},{key:"toBoolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(String(e).toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1;case"":case null:case void 0:case"null":case"undefined":return!0===t;default:return!1}}},{key:"translateCallback",value:function(e){}},{key:"componentLoadedEvent",value:function(e,t){(0,s.publishEvent)("object",e,{loaded:!0,id:t})}},{key:"updateInViewPortClass",value:function(){var e=this.getTargetElementForCssClassesAndStyle();this.logger.log("from common - updateInViewPortClass()"),""!==this._appendClassWhenInViewPort&&(this.elementIsInViewPort?e.classList.add(this._appendClassWhenInViewPort):e.classList.remove(this._appendClassWhenInViewPort))}},{key:"definePropIncompatibilityInfo",value:function(e,t){var i=t.join(",");return"For element #".concat(this.id," - ").concat(e," doesn't work as expected. See(").concat(i,")")}},{key:"updateElementVisibility",value:function(e){this.elementIsVisible=e}},{key:"initCommonMutationObserver",value:function(e){this._commonMutationObserver=new o.Ch5MutationObserver(this),this._commonMutationObserver.isConnected=!0;for(var t=e;o.Ch5MutationObserver.checkElementValidity(t);)this._commonMutationObserver.observe(t),t=t.parentNode}},{key:"updateElementVisibilityInViewport",value:function(e){this.elementIsInViewPort=e,this.updateInViewPortClass()}},{key:"disconnectCommonMutationObserver",value:function(){(0,c.default)(this._commonMutationObserver)||(0,u.default)(this._commonMutationObserver)||this._commonMutationObserver.disconnectObserver()}},{key:"checkIfValueIsTruey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e&&e.length>0&&"false"!==e&&"0"!==e&&null!==e}},{key:"setValueForReceiveStateString",value:function(e){var t=e.caller,i=e.attrKey,n=e.value,r=e.callbackOnSignalReceived;this.logger.log("set ".concat(i,"('' + ").concat(n," + ')"));var a="_"+i,o="_"+i+"SignalValue";if(n&&t[a]!==n){this.clearStringSignalSubscription(t[a],t[o]),t[a]=n;var l=s.Ch5Signal.getSubscriptionSignalName(t[a]),u=s.Ch5SignalFactory.getInstance().getStringSignal(l);null!==u&&(t[o]=u.subscribe(function(e){null!==r&&r(e)}))}}},{key:"setValueForReceiveStateBoolean",value:function(e){var t=e.caller,i=e.attrKey,n=e.value,r=e.callbackOnSignalReceived;this.logger.log("set ".concat(i,"('' + ").concat(n," + ')"));var a="_"+i,o="_"+i+"SignalValue";if(n&&t[a]!==n){this.clearBooleanSignalSubscription(t[a],t[o]),t[a]=n;var l=s.Ch5Signal.getSubscriptionSignalName(t[a]),u=s.Ch5SignalFactory.getInstance().getBooleanSignal(l);null!==u&&(t[o]=u.subscribe(function(e){null!==r&&r(e)}))}}},{key:"setAttributeAndProperty",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.logger.log("setAttributeAndProperty: "+e.attributeName+' - "'+t+'"');var n=e.attributeName.toLowerCase(),s=e.componentReference;if("boolean"===e.type){var r=!1;if(_typeof(t)===e.type)r=t;else if(this.hasAttribute(n)){var a=t;[!0,!1,"true","false","0","1",0,1,"",null].indexOf(a)<0&&(a=e.default),r=this.toBoolean(a,e.valueOnAttributeEmpty)}else r=e.default;s[e.propertyName]===r&&!0!==i&&!0===s[e.variableName+"Initialized"]&&String(t)===String(r)||(s[e.variableName]=r,s[e.variableName+"Initialized"]=!0,e.enumeratedValues&&e.enumeratedValues.length>0&&e.enumeratedValues.indexOf(String(s.getAttribute(t)))<0&&!0===e.removeAttributeOnNull?this.hasAttribute(n)?s.setAttribute(n,r.toString()):!0===i?s.setAttribute(n,r.toString()):s.removeAttribute(n):s.setAttribute(n,r.toString()),d.default.isNil(e.callback)||e.callback())}else"enum"===e.type?s[n]!==t&&(e.enumeratedValues.indexOf(t)>=0?(s.setAttribute(n,String(t)),s[e.variableName]=String(t)):d.default.isNil(e.default)?(s.removeAttribute(n),s[e.variableName]=String(e.default)):(s.setAttribute(n,String(e.default)),s[e.variableName]=String(e.default)),d.default.isNil(e.callback)||e.callback()):"string"===e.type&&s[n]!==t&&(d.default.isNil(t)||""===String(t).trim()?(s.removeAttribute(n),s[e.variableName]=String(e.default)):(s.setAttribute(n,String(t)),s[e.variableName]=String(t)),d.default.isNil(e.callback)||e.callback())}}],[{key:"getMeasurementUnitFromSizeValue",value:function(e){var t=new RegExp("^(?:[0-9]+)(\\w*|%)$"),i="px";if(null!=e){var n=e.match(t);null!==n&&void 0!==n[1]&&""!==n[1]&&(i=n[1])}return i}},{key:"extractMeasurementNumber",value:function(e){var t=new RegExp("^-?\\d+\\.?\\d*"),i=0;if(null!=e){var n=e.match(t);null!==n&&void 0!==n[0]&&(i=Number(n[0]))}return i}},{key:"getMeasurementPxNumber",value:function(e){return"px"!==n.getMeasurementUnitFromSizeValue(e)?n.convertAltUnitsToPx(e):Math.round(n.extractMeasurementNumber(e))}},{key:"convertAltUnitsToPx",value:function(e){var t=n.getMeasurementUnitFromSizeValue(e),i=parseFloat(e),s=i;switch(t){case"vh":s=n.convertVhUnitsToPx(i);break;case"vw":s=n.convertVwUnitsToPx(i)}return Math.round(s)}},{key:"convertPxUnitToAlt",value:function(e,t){var i=e;switch(t){case"vw":i=n.convertPxUnitToVw(e);break;case"vh":i=n.convertPxUnitToVh(e)}return Math.ceil(i)}},{key:"convertVhUnitsToPx",value:function(e){return e*(window.innerHeight||document.documentElement.clientHeight)/100}},{key:"convertVwUnitsToPx",value:function(e){return e*(window.innerWidth||document.documentElement.clientWidth)/100}},{key:"convertPxUnitToVh",value:function(e){return e/(window.innerHeight||document.documentElement.clientHeight)*100}},{key:"convertPxUnitToVw",value:function(e){return e/(window.innerWidth||document.documentElement.clientWidth)*100}},{key:"handlingTextTransformValue",value:function(e,t){var i=e;if(null==e)return"";switch(t){case"capitalize":i=i.replace(/\b\w/g,function(e){return e.toUpperCase()});break;case"uppercase":i=i.toUpperCase();break;case"lowercase":i=i.toLowerCase();break;default:i=i}return i}},{key:"processUri",value:function(e){var t="";return s.Ch5Platform.getInstance().registerUpdateCallback(function(i){if(!e.protocol){var n=i.capabilities.supportCredentialIntercept,s=n.http,r=n.https,a={http:s,https:r};if(s||r){e.protocol=r||s;var o=new l.Ch5ImageUriModel(a,e.user,e.password,e.url);o.isValidAuthenticationUri()&&(t=o.toString())}}}),t}},{key:"observedAttributes",get:function(){return["customclass","customstyle","show","noshowtype","disabled","gestureable","receivestatecustomclass","receivestatecustomstyle","receivestateshow","receivestateshowpulse","receivestatehidepulse","receivestateenable","sendeventonshow","debug","trace","dir","appendclasswheninviewport"]}}]),n}();t.Ch5Common=f,f.DIRECTION=["ltr","rtl"],f.ELEMENTS_MO_EXCEPTION=["swiper-wrapper"],f.SIGNAL_ATTRIBUTE_TYPES={receivestatecustomclass:{direction:"state",stringJoin:1,contractName:!0},receivestatecustomstyle:{direction:"state",stringJoin:1,contractName:!0},receivestateshow:{direction:"state",booleanJoin:1,contractName:!0},receivestateshowpulse:{direction:"state",booleanJoin:1,contractName:!0},receivestatehidepulse:{direction:"state",booleanJoin:1,contractName:!0},receivestateenable:{direction:"state",booleanJoin:1,contractName:!0},sendeventonshow:{direction:"event",booleanJoin:1,contractName:!0}}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(10),t)},function(e,t){e.exports=function(e){return null==e}},function(e,t,i){"use strict";var n=i(52),s=Object.prototype.toString;function r(e){return"[object Array]"===s.call(e)}function a(e){return void 0===e}function o(e){return null!==e&&"object"==_typeof(e)}function l(e){if("[object Object]"!==s.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===s.call(e)}function c(e,t){if(null!=e)if("object"!=_typeof(e)&&(e=[e]),r(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:l,isUndefined:a,isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:u,isStream:function(e){return o(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function i(i,n){l(t[n])&&l(i)?t[n]=e(t[n],i):l(i)?t[n]=e({},i):r(i)?t[n]=i.slice():t[n]=i}for(var n=0,s=arguments.length;n<s;n++)c(arguments[n],i);return t},extend:function(e,t,i){return c(t,function(t,s){e[s]=i&&"function"==typeof t?n(t,i):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AttrsLog=void 0,t.Ch5AttrsLog=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"info",value:function(e,t){for(var i=(new Date).toISOString(),n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];e&&console.info(i,"Ch5CustomAttributes",":",t,s)}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5SignalFactory=void 0;var n=i(12),s=function(){function e(){_classCallCheck(this,e),this._signals={boolean:{},number:{},string:{},object:{}}}return _createClass(e,[{key:"clearSignals",value:function(e){this._signals&&(this._signals=e?{boolean:{},number:{},string:{},object:this._signals.object}:{boolean:{},number:{},string:{},object:{}})}},{key:"getStates",value:function(){return this._signals}},{key:"getBooleanSignal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getState(e,!1,t)}},{key:"getObjectAsBooleanSignal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getState(e,!1,t)}},{key:"getNumberSignal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getState(e,0,t)}},{key:"getStringSignal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getState(e,"",t)}},{key:"getObjectSignal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getState(e,{},t)}},{key:"getState",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e||void 0===this._signals)return null;var s=_typeof(t);if(void 0===this._signals[s])return null;if(void 0===this._signals[s][e]){if(!i)return null;var r=new n.Ch5Signal(e,t);return this._signals[s][e]=r,r}var a=this._signals[s][e];return a.type===_typeof(t)?a:null}}],[{key:"getInstance",value:function(){return void 0===e._instance&&(e._instance=new e),e._instance}},{key:"clear",value:function(){void 0!==e._instance&&(e._instance._signals=void 0,e._instance=void 0)}}]),e}();t.Ch5SignalFactory=s},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(219),t),s(i(218),t),s(i(217),t),s(i(216),t),s(i(215),t),s(i(214),t),s(i(213),t),s(i(212),t),s(i(211),t),s(i(210),t),s(i(209),t),s(i(208),t),s(i(207),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5RoleAttributeMapping=void 0;var n=_createClass(function e(){_classCallCheck(this,e)});t.Ch5RoleAttributeMapping=n,n.ch5Button="button",n.ch5List="list",n.ch5Form="form",n.ch5Image="img",n.ch5ModalDialog="dialog",n.ch5OverlayPanel="dialog",n.ch5Select="listbox",n.ch5SelectOption="option",n.ch5Slider="slider",n.ch5Spinner="listbox",n.ch5TextInput="textbox",n.ch5Toggle="switch",n.ch5TriggerView="listbox",n.ch5TriggerViewChild="listbox",n.ch5Background="region",n.ch5Template="template",n.ch5Video="video",n.ch5ImportHtmlSnippet="template",n.ch5ButtonLabel="label",n.ch5ButtonMode="template",n.ch5ButtonModeState="template",n.ch5Dpad="dpad",n.ch5DpadChild="dpad-child",n.ch5Keypad="keypad",n.ch5KeypadChild="keypad-child"},function(e,t,i){var n=i(78),s="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,r=n||s||Function("return this")();e.exports=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Signal=void 0;var n=i(97),s=i(95),r=i(91),a=i(0),o=i(89),l=i(90),u=function(){function e(t,i){_classCallCheck(this,e),this._hasChangedSinceInit=!1,this._receivedFromSignalBridge=!1,this._name=t,this._uninitializedValue=this.uninitializedCreate(i),this._subject=new s.Ch5SignalBehaviorSubject(this._uninitializedValue,this._uninitializedValue),this._lastSubId=0,this._subscriptions={},this._signalBridge=new n.Ch5SignalBridge,this._ch5Resync=r.Ch5Resync.Instance,e._resetEventsInitialization(),this.subscribeToStates()}return _createClass(e,[{key:"subscribeToStates",value:function(){var e=this;this._subscriptions.stateSubscription=this._subject.subscribe(function(){e._ch5Resync.onReceiveUpdatedState(e._name,e.value,e.type)})}},{key:"uninitializedCreate",value:function(e){switch(_typeof(e)){case"boolean":return!1;case"number":return 0;case"string":return"";case"object":default:return{}}}},{key:"name",get:function(){return this._name}},{key:"type",get:function(){return _typeof(this._uninitializedValue)}},{key:"value",get:function(){return this._subject.value}},{key:"prevValue",get:function(){return this._subject.prevValue}},{key:"hasChangedSinceInit",value:function(){return this._hasChangedSinceInit}},{key:"receivedFromSignalBridge",get:function(){return this._receivedFromSignalBridge}},{key:"publish",value:function(e){this._hasChangedSinceInit=!0,this._subject.next(e),this._signalBridge.publish(this._name,e)}},{key:"fromSignalBridge",value:function(e){this._receivedFromSignalBridge=!0,this._hasChangedSinceInit=!0,this._subject.getValue()!==e?this._subject.next(e):this._ch5Resync.onReceiveUpdatedState(this._name,this.value,this.type)}},{key:"subscribe",value:function(e,t){this._lastSubId++;var i,n=this._name+"-"+("00000"+this._lastSubId).slice(-5);return i=null!=t?this._subject.subscribe(e,t):this._subject.subscribe(e),this._subscriptions[n]=i,1===Object.keys(this._subscriptions).length&&this._signalBridge.subscribe(this._name,_typeof(this._uninitializedValue)),n}},{key:"unsubscribe",value:function(e){var t=this._subscriptions[e];void 0!==t&&(t.unsubscribe(),delete this._subscriptions[e],1===Object.keys(this._subscriptions).length&&this._signalBridge.unsubscribe(this._name,_typeof(this._uninitializedValue)))}}],[{key:"isIntegerSignalName",value:function(e){var t=parseInt(e,10);return!isNaN(t)&&t.toString()===e}},{key:"getJoinNumberSignalName",value:function(e){return l.Ch5ResyncConstants.JOIN_NUMBER_SIGNAL_NAME_PREFIX+e}},{key:"getSubscriptionSignalName",value:function(t){return e.isIntegerSignalName(t)?e.getJoinNumberSignalName(t):t}},{key:"_resetEventsInitialization",value:function(){if(!e._resetEventsInitialized){e._resetEventsInitialized=!0;var t=r.Ch5Resync.Instance;(0,a.subscribeState)("object","Csig.State_Synchronization",function(i){if(e._initialSubscriptionToResyncEvents)e._initialSubscriptionToResyncEvents=!1;else if(i.state===o.ResetEventNames.startOfUpdate){if(void 0===i.value||void 0===i.value.excludePrefixes)throw new Error("Invalid resyncRequest object");var n={excludePrefixes:i.value.excludePrefixes};t.onReceiveStartOfUpdate(n)}else if(i.state===o.ResetEventNames.startOfUpdateRange||i.state===o.ResetEventNames.startOfUpdateRangeSO){if(void 0===i.value||void 0===i.value.range||void 0===i.value.excludePrefixes)throw new Error("Invalid resyncRequest object");t.onReceiveStartOfUpdateRange(i.state,i.value.range,i.value.excludePrefixes)}else i.state===o.ResetEventNames.endOfUpdate&&t.onReceiveEndOfUpdate()})}}}]),e}();t.Ch5Signal=u,u._resetEventsInitialized=!1,u._initialSubscriptionToResyncEvents=!0},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumericFormat=void 0,t.NumericFormat=function(){return _createClass(function e(){_classCallCheck(this,e)})}()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(i(1));t.default=function(){function e(t,i){_classCallCheck(this,e),this._pattern=new RegExp("([\\w\\.]*)\\((.*)\\)","i"),this._callbacks=[],this._context={},this.context=t,this.prepareCallbacks(i)}return _createClass(e,[{key:"run",value:function(e){var t=this;this._callbacks.forEach(function(i){var n=t.getNestedMethod(i.reference);if(!s.default.isNil(n))if(t.isNativeMethod(n))n.apply(null,i.arguments);else{var r=i.arguments;s.default.isNil(e)?r=i.arguments:r[0]=e,n.apply(t.context,r)}})}},{key:"callbacks",get:function(){return this._callbacks},set:function(e){this._callbacks=e}},{key:"context",get:function(){return this._context},set:function(e){this._context=e}},{key:"prepareCallbacks",value:function(e){var t=this;if(!s.default.isNil(e)){var i=window,n=e.split(";");this._callbacks=n.filter(function(e){if(t._pattern.test(e)){var i=e.match(t._pattern),n=s.default.isNil(i)?"":i[1];if(!s.default.isUndefined(t.getNestedMethod(n)))return!0;console.warn("Undefined method "+e)}return!1}).map(function(e){var n=e.match(t._pattern),r=s.default.isNil(n)?"":n[1],a=(s.default.isNil(n)||s.default.isNil(n[2])?"":n[2]).split(",");return{reference:r,arguments:a=a.map(function(e){var t=e.replace(/['"]/g,"");return e.indexOf("'")>-1?t:s.default.isNaN(parseFloat(e))?"true"===t||"false"===t?"true"===t:i[t]:parseFloat(t)})}})}}},{key:"getNestedMethod",value:function(e,t){var i=window;if(!s.default.isNil(e)){var n=e.split("."),r=null;return r=s.default.isUndefined(t)?i[n[0]]:t[n[0]],s.default.isObject(r)&&!s.default.isFunction(r)&&(r=this.getNestedMethod(n[1],r)),r}}},{key:"isNativeMethod",value:function(e){return-1!==e.toString().indexOf("[native code]")}}]),e}()},function(e,t,i){"use strict";i.r(t);var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function r(e,t){var i,n,s,r,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){a.label=r[1];break}if(6===r[0]&&a.label<s[1]){a.label=s[1],s=r;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(r);break}s[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,s,r=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(s)throw s.error}}return a}function l(e,t,i){if(i||2===arguments.length)for(var n,s=0,r=t.length;s<r;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function c(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=a(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise(function(n,s){!function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)}(n,s,(t=e[i](t)).done,t.value)})}}}function h(e){return"function"==typeof e}function d(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create;var f=d(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function p(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var v=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,i,n,s;if(!this.closed){this.closed=!0;var r=this._parentage;if(r)if(this._parentage=null,Array.isArray(r))try{for(var u=a(r),c=u.next();!c.done;c=u.next())c.value.remove(this)}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else r.remove(this);var d=this.initialTeardown;if(h(d))try{d()}catch(e){s=e instanceof f?e.errors:[e]}var p=this._teardowns;if(p){this._teardowns=null;try{for(var v=a(p),g=v.next();!g.done;g=v.next()){var b=g.value;try{m(b)}catch(e){s=null!=s?s:[],e instanceof f?s=l(l([],o(s)),o(e.errors)):s.push(e)}}}catch(e){i={error:e}}finally{try{g&&!g.done&&(n=v.return)&&n.call(v)}finally{if(i)throw i.error}}}if(s)throw new f(s)}},e.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)m(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(i=this._teardowns)&&void 0!==i?i:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&p(t,e)},e.prototype.remove=function(t){var i=this._teardowns;i&&p(i,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),g=v.EMPTY;function b(e){return e instanceof v||e&&"closed"in e&&h(e.remove)&&h(e.add)&&h(e.unsubscribe)}function m(e){h(e)?e():e.unsubscribe()}var _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},S={setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=S.delegate;return((null==i?void 0:i.setTimeout)||setTimeout).apply(void 0,l([],o(e)))}),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=S.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)}),delegate:void 0};function y(e){S.setTimeout(function(){var t=_.onUnhandledError;if(!t)throw e;t(e)})}function C(){}var E=A("C",void 0,void 0);function A(e,t,i){return{kind:e,value:t,error:i}}var T=null;function w(e){if(_.useDeprecatedSynchronousErrorHandling){var t=!T;if(t&&(T={errorThrown:!1,error:null}),e(),t){var i=T,n=i.errorThrown,s=i.error;if(T=null,n)throw s}}else e()}var k=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,b(t)&&t.add(i)):i.destination=N,i}return s(t,e),t.create=function(e,t,i){return new I(e,t,i)},t.prototype.next=function(e){this.isStopped?L(function(e){return A("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?L(function(e){return A("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?L(E,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(v),I=function(e){function t(t,i,n){var s,r=e.call(this)||this;if(h(t))s=t;else if(t){var a;s=t.next,i=t.error,n=t.complete,r&&_.useDeprecatedNextContext?(a=Object.create(t)).unsubscribe=function(){return r.unsubscribe()}:a=t,s=null==s?void 0:s.bind(a),i=null==i?void 0:i.bind(a),n=null==n?void 0:n.bind(a)}return r.destination={next:s?O(s,r):C,error:O(null!=i?i:P,r),complete:n?O(n,r):C},r}return s(t,e),t}(k);function O(e,t){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{e.apply(void 0,l([],o(t)))}catch(e){_.useDeprecatedSynchronousErrorHandling?function(e){_.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=e)}(e):y(e)}}}function P(e){throw e}function L(e,t){var i=_.onStoppedNotification;i&&S.setTimeout(function(){return i(e,t)})}var N={closed:!0,next:C,error:P,complete:C},x="function"==typeof Symbol&&Symbol.observable||"@@observable";function R(e){return e}function M(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return V(e)}function V(e){return 0===e.length?R:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var H=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var n=this,s=function(e){return e&&e instanceof k||function(e){return e&&h(e.next)&&h(e.error)&&h(e.complete)}(e)&&b(e)}(e)?e:new I(e,t,i);return w(function(){var e=n,t=e.operator,i=e.source;s.add(t?t.call(s,i):i?n._subscribe(s):n._trySubscribe(s))}),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var i=this;return new(t=D(t))(function(t,n){var s=new I({next:function(t){try{e(t)}catch(e){n(e),s.unsubscribe()}},error:n,complete:t});i.subscribe(s)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[x]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return V(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=D(e))(function(e,i){var n;t.subscribe(function(e){return n=e},function(e){return i(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function D(e){var t;return null!==(t=null!=e?e:_.Promise)&&void 0!==t?t:Promise}function B(e){return h(null==e?void 0:e.lift)}function F(e){return function(t){if(B(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}var U=function(e){function t(t,i,n,s,r){var a=e.call(this,t)||this;return a.onFinalize=r,a._next=i?function(e){try{i(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=s?function(e){try{s(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return s(t,e),t.prototype.unsubscribe=function(){var t,i=this.closed;e.prototype.unsubscribe.call(this),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(k);function j(){return F(function(e,t){var i=null;e._refCount++;var n=new U(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)i=null;else{var n=e._connection,s=i;i=null,!n||s&&n!==s||n.unsubscribe(),t.unsubscribe()}});e.subscribe(n),n.closed||(i=e.connect())})}var z=function(e){function t(t,i){var n=e.call(this)||this;return n.source=t,n.subjectFactory=i,n._subject=null,n._refCount=0,n._connection=null,B(t)&&(n.lift=t.lift),n}return s(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new v;var i=this.getSubject();t.add(this.source.subscribe(new U(i,void 0,function(){e._teardown(),i.complete()},function(t){e._teardown(),i.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=v.EMPTY)}return t},t.prototype.refCount=function(){return j()(this)},t}(H),Y={now:function(){return(Y.delegate||performance).now()},delegate:void 0},W={schedule:function(e){var t=requestAnimationFrame,i=cancelAnimationFrame,n=W.delegate;n&&(t=n.requestAnimationFrame,i=n.cancelAnimationFrame);var s=t(function(t){i=void 0,e(t)});return new v(function(){return null==i?void 0:i(s)})},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=W.delegate;return((null==i?void 0:i.requestAnimationFrame)||requestAnimationFrame).apply(void 0,l([],o(e)))}),cancelAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=W.delegate;return((null==i?void 0:i.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,l([],o(e)))}),delegate:void 0};function G(e){return e?q(e):K}function q(e){var t=W.schedule;return new H(function(i){var n=new v,s=e||Y,r=s.now();return n.add(t(function a(o){var l=s.now();i.next({timestamp:e?l:o,elapsed:l-r}),i.closed||n.add(t(a))})),n})}var X,K=q(),J=d(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),$=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return s(t,e),t.prototype.lift=function(e){var t=new Z(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new J},t.prototype.next=function(e){var t=this;w(function(){var i,n;if(t._throwIfClosed(),!t.isStopped){var s=t.observers.slice();try{for(var r=a(s),o=r.next();!o.done;o=r.next())o.value.next(e)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}}})},t.prototype.error=function(e){var t=this;w(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var i=t.observers;i.length;)i.shift().error(e)}})},t.prototype.complete=function(){var e=this;w(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this.hasError,i=this.isStopped,n=this.observers;return t||i?g:(n.push(e),new v(function(){return p(n,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,i=this.thrownError,n=this.isStopped;t?e.error(i):n&&e.complete()},t.prototype.asObservable=function(){var e=new H;return e.source=this,e},t.create=function(e,t){return new Z(e,t)},t}(H),Z=function(e){function t(t,i){var n=e.call(this)||this;return n.destination=t,n.source=i,n}return s(t,e),t.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},t.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:g},t}($),Q=function(e){function t(t){var i=e.call(this)||this;return i._value=t,i}return s(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var i=e.prototype._subscribe.call(this,t);return!i.closed&&t.next(this._value),i},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,i=this._value;if(e)throw t;return this._throwIfClosed(),i},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}($),ee={now:function(){return(ee.delegate||Date).now()},delegate:void 0},te=function(e){function t(t,i,n){void 0===t&&(t=1/0),void 0===i&&(i=1/0),void 0===n&&(n=ee);var s=e.call(this)||this;return s._bufferSize=t,s._windowTime=i,s._timestampProvider=n,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=i===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,i),s}return s(t,e),t.prototype.next=function(t){var i=this,n=i.isStopped,s=i._buffer,r=i._infiniteTimeWindow,a=i._timestampProvider,o=i._windowTime;n||(s.push(t),!r&&s.push(a.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),i=this._infiniteTimeWindow,n=this._buffer.slice(),s=0;s<n.length&&!e.closed;s+=i?1:2)e.next(n[s]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,i=this._buffer,n=this._infiniteTimeWindow,s=(n?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!n){for(var r=t.now(),a=0,o=1;o<i.length&&i[o]<=r;o+=2)a=o;a&&i.splice(0,a+1)}},t}($),ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return s(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,i=t.hasError,n=t._hasValue,s=t._value,r=t.thrownError,a=t.isStopped,o=t._isComplete;i?e.error(r):(a||o)&&(n&&e.next(s),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this._hasValue,i=this._value;this._isComplete||(this._isComplete=!0,t&&e.prototype.next.call(this,i),e.prototype.complete.call(this))},t}($),ne={setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=ne.delegate;return((null==i?void 0:i.setInterval)||setInterval).apply(void 0,l([],o(e)))}),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=ne.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)}),delegate:void 0},se=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.scheduler=t,n.work=i,n.pending=!1,n}return s(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),ne.setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;ne.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var i,n=!1;try{this.work(e)}catch(e){n=!0,i=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,n=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,p(n,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(function(e){function t(t,i){return e.call(this)||this}return s(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(v)),re=1,ae={};function oe(e){return e in ae&&(delete ae[e],!0)}var le={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=le.delegate;return((null==i?void 0:i.setImmediate)||function(e){var t=re++;return ae[t]=!0,X||(X=Promise.resolve()),X.then(function(){return oe(t)&&e()}),t}).apply(void 0,l([],o(e)))},clearImmediate:function(e){var t=le.delegate;return((null==t?void 0:t.clearImmediate)||function(e){oe(e)})(e)},delegate:void 0},ue=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.scheduler=t,n.work=i,n}return s(t,e),t.prototype.requestAsyncId=function(t,i,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=le.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,i,n){if(void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,i,n);t.actions.some(function(e){return e.id===i})||(le.clearImmediate(i),t._scheduled=void 0)},t}(se),ce=function(){function e(t,i){void 0===i&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},e.now=ee.now,e}(),he=function(e){function t(t,i){void 0===i&&(i=ce.now);var n=e.call(this,t,i)||this;return n.actions=[],n._active=!1,n._scheduled=void 0,n}return s(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}},t}(ce),de=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var i,n=this.actions;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw i}},t}(he))(ue),fe=de,pe=new he(se),ve=pe,ge=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.scheduler=t,n.work=i,n}return s(t,e),t.prototype.schedule=function(t,i){return void 0===i&&(i=0),i>0?e.prototype.schedule.call(this,t,i):(this.delay=i,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,i){return i>0||this.closed?e.prototype.execute.call(this,t,i):this._execute(t,i)},t.prototype.requestAsyncId=function(t,i,n){return void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,i,n):t.flush(this)},t}(se),be=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(he))(ge),me=be,_e=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.scheduler=t,n.work=i,n}return s(t,e),t.prototype.requestAsyncId=function(t,i,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=W.requestAnimationFrame(function(){return t.flush(void 0)})))},t.prototype.recycleAsyncId=function(t,i,n){if(void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,i,n);t.actions.some(function(e){return e.id===i})||(W.cancelAnimationFrame(i),t._scheduled=void 0)},t}(se),Se=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var i,n=this.actions;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw i}},t}(he))(_e),ye=Se,Ce=function(e){function t(t,i){void 0===t&&(t=Ee),void 0===i&&(i=1/0);var n=e.call(this,t,function(){return n.frame})||this;return n.maxFrames=i,n.frame=0,n.index=-1,n}return s(t,e),t.prototype.flush=function(){for(var e,t,i=this.actions,n=this.maxFrames;(t=i[0])&&t.delay<=n&&(i.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=i.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(he),Ee=function(e){function t(t,i,n){void 0===n&&(n=t.index+=1);var s=e.call(this,t,i)||this;return s.scheduler=t,s.work=i,s.index=n,s.active=!0,s.index=t.index=n,s}return s(t,e),t.prototype.schedule=function(i,n){if(void 0===n&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,i,n);this.active=!1;var s=new t(this.scheduler,this.work);return this.add(s),s.schedule(i,n)}return v.EMPTY},t.prototype.requestAsyncId=function(e,i,n){void 0===n&&(n=0),this.delay=e.frame+n;var s=e.actions;return s.push(this),s.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,i){void 0===i&&(i=0)},t.prototype._execute=function(t,i){if(!0===this.active)return e.prototype._execute.call(this,t,i)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(se),Ae=new H(function(e){return e.complete()});function Te(e){return e?function(e){return new H(function(t){return e.schedule(function(){return t.complete()})})}(e):Ae}function we(e){return e&&h(e.schedule)}function ke(e){return e[e.length-1]}function Ie(e){return h(ke(e))?e.pop():void 0}function Oe(e){return we(ke(e))?e.pop():void 0}function Pe(e,t){return"number"==typeof ke(e)?e.pop():t}var Le=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Ne(e){return h(null==e?void 0:e.then)}function xe(e){return h(e[x])}function Re(e){return Symbol.asyncIterator&&h(null==e?void 0:e[Symbol.asyncIterator])}function Me(e){return new TypeError("You provided "+(null!==e&&"object"==_typeof(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Ve,He="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function De(e){return h(null==e?void 0:e[He])}function Be(e){return function(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=i.apply(e,t||[]),r=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){s[e]&&(n[e]=function(t){return new Promise(function(i,n){r.push([e,t,i,n])>1||o(e,t)})})}function o(e,t){try{!function(e){e.value instanceof u?Promise.resolve(e.value.v).then(l,c):h(r[0][2],e)}(s[e](t))}catch(e){h(r[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function h(e,t){e(t),r.shift(),r.length&&o(r[0][0],r[0][1])}}(this,arguments,function(){var t,i,n;return r(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,u(t.read())];case 3:return i=s.sent(),n=i.value,i.done?[4,u(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,u(n)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Fe(e){return h(null==e?void 0:e.getReader)}function Ue(e){if(e instanceof H)return e;if(null!=e){if(xe(e))return function(e){return new H(function(t){var i=e[x]();if(h(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Le(e))return function(e){return new H(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}(e);if(Ne(e))return function(e){return new H(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,y)})}(e);if(Re(e))return je(e);if(De(e))return function(e){return new H(function(t){var i,n;try{for(var s=a(e),r=s.next();!r.done;r=s.next()){var o=r.value;if(t.next(o),t.closed)return}}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}t.complete()})}(e);if(Fe(e))return function(e){return je(Be(e))}(e)}throw Me(e)}function je(e){return new H(function(t){(function(e,t){var i,n,s,a;return function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(a,o)}l((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var o,l;return r(this,function(r){switch(r.label){case 0:r.trys.push([0,5,6,11]),i=c(e),r.label=1;case 1:return[4,i.next()];case 2:if((n=r.sent()).done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];r.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=r.sent(),s={error:l},[3,11];case 6:return r.trys.push([6,,9,10]),n&&!n.done&&(a=i.return)?[4,a.call(i)]:[3,8];case 7:r.sent(),r.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function ze(e,t,i,n,s){void 0===n&&(n=0),void 0===s&&(s=!1);var r=t.schedule(function(){i(),s?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(r),!s)return r}function Ye(e,t){return void 0===t&&(t=0),F(function(i,n){i.subscribe(new U(n,function(i){return ze(n,e,function(){return n.next(i)},t)},function(){return ze(n,e,function(){return n.complete()},t)},function(i){return ze(n,e,function(){return n.error(i)},t)}))})}function We(e,t){return void 0===t&&(t=0),F(function(i,n){n.add(e.schedule(function(){return i.subscribe(n)},t))})}function Ge(e,t){return new H(function(i){var n;return ze(i,t,function(){n=e[He](),ze(i,t,function(){var e,t,s;try{t=(e=n.next()).value,s=e.done}catch(e){return void i.error(e)}s?i.complete():i.next(t)},0,!0)}),function(){return h(null==n?void 0:n.return)&&n.return()}})}function qe(e,t){if(!e)throw new Error("Iterable cannot be null");return new H(function(i){ze(i,t,function(){var n=e[Symbol.asyncIterator]();ze(i,t,function(){n.next().then(function(e){e.done?i.complete():i.next(e.value)})},0,!0)})})}function Xe(e,t){if(null!=e){if(xe(e))return function(e,t){return Ue(e).pipe(We(t),Ye(t))}(e,t);if(Le(e))return function(e,t){return new H(function(i){var n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})})}(e,t);if(Ne(e))return function(e,t){return Ue(e).pipe(We(t),Ye(t))}(e,t);if(Re(e))return qe(e,t);if(De(e))return Ge(e,t);if(Fe(e))return function(e,t){return qe(Be(e),t)}(e,t)}throw Me(e)}function Ke(e,t){return t?Xe(e,t):Ue(e)}function Je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ke(e,Oe(e))}function $e(e,t){var i=h(e)?e:function(){return e},n=function(e){return e.error(i())};return new H(t?function(e){return t.schedule(n,0,e)}:n)}!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(Ve||(Ve={}));var Ze=function(){function e(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}return e.prototype.observe=function(e){return Qe(this,e)},e.prototype.do=function(e,t,i){var n=this.kind,s=this.value,r=this.error;return"N"===n?null==e?void 0:e(s):"E"===n?null==t?void 0:t(r):null==i?void 0:i()},e.prototype.accept=function(e,t,i){var n;return h(null===(n=e)||void 0===n?void 0:n.next)?this.observe(e):this.do(e,t,i)},e.prototype.toObservable=function(){var e=this.kind,t=this.value,i=this.error,n="N"===e?Je(t):"E"===e?$e(function(){return i}):"C"===e?Ae:0;if(!n)throw new TypeError("Unexpected notification kind "+e);return n},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function Qe(e,t){var i,n,s,r=e,a=r.kind,o=r.value,l=r.error;if("string"!=typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(i=t.next)||void 0===i||i.call(t,o):"E"===a?null===(n=t.error)||void 0===n||n.call(t,l):null===(s=t.complete)||void 0===s||s.call(t)}function et(e){return!!e&&(e instanceof H||h(e.lift)&&h(e.subscribe))}var tt=d(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function it(e,t){var i="object"==_typeof(t);return new Promise(function(n,s){var r,a=!1;e.subscribe({next:function(e){r=e,a=!0},error:s,complete:function(){a?n(r):i?n(t.defaultValue):s(new tt)}})})}function nt(e,t){var i="object"==_typeof(t);return new Promise(function(n,s){var r=new I({next:function(e){n(e),r.unsubscribe()},error:s,complete:function(){i?n(t.defaultValue):s(new tt)}});e.subscribe(r)})}var st=d(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),rt=d(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}),at=d(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}});function ot(e){return e instanceof Date&&!isNaN(e)}var lt=d(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function ut(e,t){var i=ot(e)?{first:e}:"number"==typeof e?{each:e}:e,n=i.first,s=i.each,r=i.with,a=void 0===r?ct:r,o=i.scheduler,l=void 0===o?null!=t?t:pe:o,u=i.meta,c=void 0===u?null:u;if(null==n&&null==s)throw new TypeError("No timeout provided.");return F(function(e,t){var i,r,o=null,u=0,h=function(e){r=ze(t,l,function(){try{i.unsubscribe(),Ue(a({meta:c,lastValue:o,seen:u})).subscribe(t)}catch(e){t.error(e)}},e)};i=e.subscribe(new U(t,function(e){null==r||r.unsubscribe(),u++,t.next(o=e),s>0&&h(s)},void 0,void 0,function(){(null==r?void 0:r.closed)||null==r||r.unsubscribe(),o=null})),h(null!=n?"number"==typeof n?n:+n-l.now():s)})}function ct(e){throw new lt(e)}function ht(e,t){return F(function(i,n){var s=0;i.subscribe(new U(n,function(i){n.next(e.call(t,i,s++))}))})}var dt=Array.isArray;function ft(e){return ht(function(t){return function(e,t){return dt(t)?e.apply(void 0,l([],o(t))):e(t)}(e,t)})}function pt(e,t,i,n){if(i){if(!we(i))return function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];return pt(e,t,n).apply(this,s).pipe(ft(i))};n=i}return n?function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return pt(e,t).apply(this,i).pipe(We(n),Ye(n))}:function(){for(var i=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var r=new ie,a=!0;return new H(function(s){var u=r.subscribe(s);if(a){a=!1;var c=!1,h=!1;t.apply(i,l(l([],o(n)),[function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(e){var n=t.shift();if(null!=n)return void r.error(n)}r.next(1<t.length?t:t[0]),h=!0,c&&r.complete()}])),h&&r.complete(),c=!0}return u})}}function vt(e,t,i){return pt(!1,e,t,i)}function gt(e,t,i){return pt(!0,e,t,i)}var bt=Array.isArray,mt=Object.getPrototypeOf,_t=Object.prototype,St=Object.keys;function yt(e){if(1===e.length){var t=e[0];if(bt(t))return{args:t,keys:null};if(function(e){return e&&"object"==_typeof(e)&&mt(e)===_t}(t)){var i=St(t);return{args:i.map(function(e){return t[e]}),keys:i}}}return{args:e,keys:null}}function Ct(e,t){return e.reduce(function(e,i,n){return e[i]=t[n],e},{})}function Et(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Oe(e),n=Ie(e),s=yt(e),r=s.args,a=s.keys;if(0===r.length)return Ke([],i);var o=new H(At(r,i,a?function(e){return Ct(a,e)}:R));return n?o.pipe(ft(n)):o}function At(e,t,i){return void 0===i&&(i=R),function(n){Tt(t,function(){for(var s=e.length,r=new Array(s),a=s,o=s,l=function(s){Tt(t,function(){var l=!1;Ke(e[s],t).subscribe(new U(n,function(e){r[s]=e,l||(l=!0,o--),o||n.next(i(r.slice()))},function(){--a||n.complete()}))},n)},u=0;u<s;u++)l(u)},n)}}function Tt(e,t,i){e?ze(i,e,t):t()}function wt(e,t,i,n,s,r,a,o){var l=[],u=0,c=0,h=!1,d=function(){!h||l.length||u||t.complete()},f=function(e){return u<n?p(e):l.push(e)},p=function e(o){r&&t.next(o),u++;var h=!1;Ue(i(o,c++)).subscribe(new U(t,function(e){null==s||s(e),r?f(e):t.next(e)},function(){h=!0},void 0,function(){if(h)try{u--;for(var i=function(){var i=l.shift();a?ze(t,a,function(){return e(i)}):e(i)};l.length&&u<n;)i();d()}catch(i){t.error(i)}}))};return e.subscribe(new U(t,f,function(){h=!0,d()})),function(){null==o||o()}}function kt(e,t,i){return void 0===i&&(i=1/0),h(t)?kt(function(i,n){return ht(function(e,s){return t(i,e,n,s)})(Ue(e(i,n)))},i):("number"==typeof t&&(i=t),F(function(t,n){return wt(t,n,e,i)}))}function It(e){return void 0===e&&(e=1/0),kt(R,e)}function Ot(){return It(1)}function Pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ot()(Ke(e,Oe(e)))}function Lt(e){return new H(function(t){Ue(e()).subscribe(t)})}var Nt={connector:function(){return new $},resetOnDisconnect:!0};function xt(e,t){void 0===t&&(t=Nt);var i=null,n=t.connector,s=t.resetOnDisconnect,r=void 0===s||s,a=n(),o=new H(function(e){return a.subscribe(e)});return o.connect=function(){return i&&!i.closed||(i=Lt(function(){return e}).subscribe(a),r&&i.add(function(){return a=n()})),i},o}function Rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Ie(e),n=yt(e),s=n.args,r=n.keys,a=new H(function(e){var t=s.length;if(t)for(var i=new Array(t),n=t,a=t,o=function(t){var o=!1;Ue(s[t]).subscribe(new U(e,function(e){o||(o=!0,a--),i[t]=e},function(){return n--},void 0,function(){n&&o||(a||e.next(r?Ct(r,i):i),e.complete())}))},l=0;l<t;l++)o(l);else e.complete()});return i?a.pipe(ft(i)):a}var Mt=["addListener","removeListener"],Vt=["addEventListener","removeEventListener"],Ht=["on","off"];function Dt(e,t,i,n){if(h(i)&&(n=i,i=void 0),n)return Dt(e,t,i).pipe(ft(n));var s=o(function(e){return h(e.addEventListener)&&h(e.removeEventListener)}(e)?Vt.map(function(n){return function(s){return e[n](t,s,i)}}):function(e){return h(e.addListener)&&h(e.removeListener)}(e)?Mt.map(Bt(e,t)):function(e){return h(e.on)&&h(e.off)}(e)?Ht.map(Bt(e,t)):[],2),r=s[0],a=s[1];if(!r&&Le(e))return kt(function(e){return Dt(e,t,i)})(Ue(e));if(!r)throw new TypeError("Invalid event target");return new H(function(e){var t=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.next(1<t.length?t:t[0])};return r(t),function(){return a(t)}})}function Bt(e,t){return function(i){return function(n){return e[i](t,n)}}}function Ft(e,t,i){return i?Ft(e,t).pipe(ft(i)):new H(function(i){var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.next(1===e.length?e[0]:e)},s=e(n);return h(t)?function(){return t(n,s)}:void 0})}function Ut(e,t,i,n,s){var a,o,l,u;function c(){var e;return r(this,function(n){switch(n.label){case 0:e=u,n.label=1;case 1:return t&&!t(e)?[3,4]:[4,l(e)];case 2:n.sent(),n.label=3;case 3:return e=i(e),[3,1];case 4:return[2]}})}return 1===arguments.length?(u=(a=e).initialState,t=a.condition,i=a.iterate,o=a.resultSelector,l=void 0===o?R:o,s=a.scheduler):(u=e,!n||we(n)?(l=R,s=n):l=n),Lt(s?function(){return Ge(c(),s)}:c)}function jt(e,t,i){return Lt(function(){return e()?t:i})}function zt(e,t,i){void 0===e&&(e=0),void 0===i&&(i=ve);var n=-1;return null!=t&&(we(t)?i=t:n=t),new H(function(t){var s=ot(e)?+e-i.now():e;s<0&&(s=0);var r=0;return i.schedule(function(){t.closed||(t.next(r++),0<=n?this.schedule(void 0,n):t.complete())},s)})}function Yt(e,t){return void 0===e&&(e=0),void 0===t&&(t=pe),e<0&&(e=0),zt(e,e,t)}function Wt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Oe(e),n=Pe(e,1/0),s=e;return s.length?1===s.length?Ue(s[0]):It(n)(Ke(s,i)):Ae}var Gt=new H(C);function qt(){return Gt}var Xt=Array.isArray;function Kt(e){return 1===e.length&&Xt(e[0])?e[0]:e}function Jt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Kt(e);return F(function(e,t){var n=l([e],o(i));!function e(){if(!t.closed)if(n.length>0){var i=void 0;try{i=Ue(n.shift())}catch(i){return void e()}var s=new U(t,void 0,C,C);t.add(i.subscribe(s)),s.add(e)}else t.complete()}()})}(Kt(e))(Ae)}function $t(e,t){return Ke(Object.entries(e),t)}function Zt(e,t){return F(function(i,n){var s=0;i.subscribe(new U(n,function(i){return e.call(t,i,s++)&&n.next(i)}))})}function Qt(e,t,i){return[Zt(t,i)(Ue(e)),Zt(function(e,t){return function(i,n){return!e.call(t,i,n)}}(t,i))(Ue(e))]}function ei(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=Kt(e)).length?Ue(e[0]):new H(ti(e))}function ti(e){return function(t){for(var i=[],n=function(n){i.push(Ue(e[n]).subscribe(new U(t,function(e){if(i){for(var s=0;s<i.length;s++)s!==n&&i[s].unsubscribe();i=null}t.next(e)})))},s=0;i&&!t.closed&&s<e.length;s++)n(s)}}function ii(e,t,i){if(null==t&&(t=e,e=0),t<=0)return Ae;var n=t+e;return new H(i?function(t){var s=e;return i.schedule(function(){s<n?(t.next(s++),this.schedule()):t.complete()})}:function(t){for(var i=e;i<n&&!t.closed;)t.next(i++);t.complete()})}function ni(e,t){return new H(function(i){var n=e(),s=t(n);return(s?Ue(s):Ae).subscribe(i),function(){n&&n.unsubscribe()}})}function si(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Ie(e),n=Kt(e);return n.length?new H(function(e){var t=n.map(function(){return[]}),s=n.map(function(){return!1});e.add(function(){t=s=null});for(var r=function(r){Ue(n[r]).subscribe(new U(e,function(n){if(t[r].push(n),t.every(function(e){return e.length})){var a=t.map(function(e){return e.shift()});e.next(i?i.apply(void 0,l([],o(a))):a),t.some(function(e,t){return!e.length&&s[t]})&&e.complete()}},function(){s[r]=!0,!t[r].length&&e.complete()}))},a=0;!e.closed&&a<n.length;a++)r(a);return function(){t=s=null}}):Ae}function ri(e){return F(function(t,i){var n=!1,s=null,r=null,a=!1,o=function(){if(null==r||r.unsubscribe(),r=null,n){n=!1;var e=s;s=null,i.next(e)}a&&i.complete()},l=function(){r=null,a&&i.complete()};t.subscribe(new U(i,function(t){n=!0,s=t,r||Ue(e(t)).subscribe(r=new U(i,o,l))},function(){a=!0,(!n||!r||r.closed)&&i.complete()}))})}function ai(e,t){return void 0===t&&(t=pe),ri(function(){return zt(e,t)})}function oi(e){return F(function(t,i){var n=[];return t.subscribe(new U(i,function(e){return n.push(e)},function(){i.next(n),i.complete()})),e.subscribe(new U(i,function(){var e=n;n=[],i.next(e)},C)),function(){n=null}})}function li(e,t){return void 0===t&&(t=null),t=null!=t?t:e,F(function(i,n){var s=[],r=0;i.subscribe(new U(n,function(i){var o,l,u,c,h=null;r++%t==0&&s.push([]);try{for(var d=a(s),f=d.next();!f.done;f=d.next())(b=f.value).push(i),e<=b.length&&(h=null!=h?h:[]).push(b)}catch(e){o={error:e}}finally{try{f&&!f.done&&(l=d.return)&&l.call(d)}finally{if(o)throw o.error}}if(h)try{for(var v=a(h),g=v.next();!g.done;g=v.next()){var b=g.value;p(s,b),n.next(b)}}catch(e){u={error:e}}finally{try{g&&!g.done&&(c=v.return)&&c.call(v)}finally{if(u)throw u.error}}},function(){var e,t;try{for(var i=a(s),r=i.next();!r.done;r=i.next()){var o=r.value;n.next(o)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}n.complete()},void 0,function(){s=null}))})}function ui(e){for(var t,i,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var r=null!==(t=Oe(n))&&void 0!==t?t:pe,o=null!==(i=n[0])&&void 0!==i?i:null,l=n[1]||1/0;return F(function(t,i){var n=[],s=!1,u=function(e){var t=e.buffer;e.subs.unsubscribe(),p(n,e),i.next(t),s&&c()},c=function(){if(n){var t=new v;i.add(t);var s={buffer:[],subs:t};n.push(s),ze(t,r,function(){return u(s)},e)}};null!==o&&o>=0?ze(i,r,c,o,!0):s=!0,c();var h=new U(i,function(e){var t,i,s=n.slice();try{for(var r=a(s),o=r.next();!o.done;o=r.next()){var c=o.value,h=c.buffer;h.push(e),l<=h.length&&u(c)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}},function(){for(;null==n?void 0:n.length;)i.next(n.shift().buffer);null==h||h.unsubscribe(),i.complete(),i.unsubscribe()},void 0,function(){return n=null});t.subscribe(h)})}function ci(e,t){return F(function(i,n){var s=[];Ue(e).subscribe(new U(n,function(e){var i=[];s.push(i);var r=new v;r.add(Ue(t(e)).subscribe(new U(n,function(){p(s,i),n.next(i),r.unsubscribe()},C)))},C)),i.subscribe(new U(n,function(e){var t,i;try{for(var n=a(s),r=n.next();!r.done;r=n.next())r.value.push(e)}catch(e){t={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},function(){for(;s.length>0;)n.next(s.shift());n.complete()}))})}function hi(e){return F(function(t,i){var n=null,s=null;(function t(){null==s||s.unsubscribe();var r=n;n=[],r&&i.next(r),Ue(e()).subscribe(s=new U(i,t,C))})(),t.subscribe(new U(i,function(e){return null==n?void 0:n.push(e)},function(){n&&i.next(n),i.complete()},void 0,function(){return n=s=null}))})}function di(e){return F(function(t,i){var n,s=null,r=!1;s=t.subscribe(new U(i,void 0,void 0,function(a){n=Ue(e(a,di(e)(t))),s?(s.unsubscribe(),s=null,n.subscribe(i)):r=!0})),r&&(s.unsubscribe(),s=null,n.subscribe(i))})}function fi(e,t,i,n,s){return function(r,a){var o=i,l=t,u=0;r.subscribe(new U(a,function(t){var i=u++;l=o?e(l,t,i):(o=!0,t),n&&a.next(l)},s&&function(){o&&a.next(l),a.complete()}))}}function pi(e,t){return F(fi(e,t,arguments.length>=2,!1,!0))}var vi=function(e,t){return e.push(t),e};function gi(){return F(function(e,t){pi(vi,[])(e).subscribe(t)})}function bi(e,t){return M(gi(),kt(function(t){return e(t)}),t?ft(t):R)}function mi(e){return bi(Et,e)}var _i=mi;function Si(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=Ie(t);return n?M(e.apply(void 0,l([],o(t))),ft(n)):F(function(e,i){At(l([e],o(Kt(t))))(i)})}.apply(void 0,l([],o(e)))}function yi(e,t){return h(t)?kt(e,t,1):kt(e,1)}function Ci(e,t){return h(t)?yi(function(){return e},t):yi(function(){return e})}function Ei(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Oe(e);return F(function(t,n){Ot()(Ke(l([t],o(e)),i)).subscribe(n)})}.apply(void 0,l([],o(e)))}var Ai={connector:function(){return new $}};function Ti(e,t){void 0===t&&(t=Ai);var i=t.connector;return F(function(t,n){var s=i();Ke(e(function(e){return new H(function(t){return e.subscribe(t)})}(s))).subscribe(n),n.add(t.subscribe(s))})}function wi(e){return pi(function(t,i,n){return!e||e(i,n)?t+1:t},0)}function ki(e){return F(function(t,i){var n=!1,s=null,r=null,a=function(){if(null==r||r.unsubscribe(),r=null,n){n=!1;var e=s;s=null,i.next(e)}};t.subscribe(new U(i,function(t){null==r||r.unsubscribe(),n=!0,s=t,r=new U(i,a,C),Ue(e(t)).subscribe(r)},function(){a(),i.complete()},void 0,function(){s=r=null}))})}function Ii(e,t){return void 0===t&&(t=pe),F(function(i,n){var s=null,r=null,a=null,o=function(){if(s){s.unsubscribe(),s=null;var e=r;r=null,n.next(e)}};function l(){var i=a+e,r=t.now();if(r<i)return s=this.schedule(void 0,i-r),void n.add(s);o()}i.subscribe(new U(n,function(i){r=i,a=t.now(),s||(s=t.schedule(l,e),n.add(s))},function(){o(),n.complete()},void 0,function(){r=s=null}))})}function Oi(e){return F(function(t,i){var n=!1;t.subscribe(new U(i,function(e){n=!0,i.next(e)},function(){n||i.next(e),i.complete()}))})}function Pi(e){return e<=0?function(){return Ae}:F(function(t,i){var n=0;t.subscribe(new U(i,function(t){++n<=e&&(i.next(t),e<=n&&i.complete())}))})}function Li(){return F(function(e,t){e.subscribe(new U(t,C))})}function Ni(e){return ht(function(){return e})}function xi(e,t){return t?function(i){return Pt(t.pipe(Pi(1),Li()),i.pipe(xi(e)))}:kt(function(t,i){return e(t,i).pipe(Pi(1),Ni(t))})}function Ri(e,t){void 0===t&&(t=pe);var i=zt(e,t);return xi(function(){return i})}function Mi(){return F(function(e,t){e.subscribe(new U(t,function(e){return Qe(e,t)}))})}function Vi(e,t){return F(function(i,n){var s=new Set;i.subscribe(new U(n,function(t){var i=e?e(t):t;s.has(i)||(s.add(i),n.next(t))})),null==t||t.subscribe(new U(n,function(){return s.clear()},C))})}function Hi(e,t){return void 0===t&&(t=R),e=null!=e?e:Di,F(function(i,n){var s,r=!0;i.subscribe(new U(n,function(i){var a=t(i);!r&&e(s,a)||(r=!1,s=a,n.next(i))}))})}function Di(e,t){return e===t}function Bi(e,t){return Hi(function(i,n){return t?t(i[e],n[e]):i[e]===n[e]})}function Fi(e){return void 0===e&&(e=Ui),F(function(t,i){var n=!1;t.subscribe(new U(i,function(e){n=!0,i.next(e)},function(){return n?i.complete():i.error(e())}))})}function Ui(){return new tt}function ji(e,t){if(e<0)throw new st;var i=arguments.length>=2;return function(n){return n.pipe(Zt(function(t,i){return i===e}),Pi(1),i?Oi(t):Fi(function(){return new st}))}}function zi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Pt(t,Je.apply(void 0,l([],o(e))))}}function Yi(e,t){return F(function(i,n){var s=0;i.subscribe(new U(n,function(r){e.call(t,r,s++,i)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}function Wi(){return F(function(e,t){var i=!1,n=null;e.subscribe(new U(t,function(e){n||(n=Ue(e).subscribe(new U(t,void 0,function(){n=null,i&&t.complete()})))},function(){i=!0,!n&&t.complete()}))})}var Gi=Wi;function qi(e,t){return t?function(i){return i.pipe(qi(function(i,n){return Ue(e(i,n)).pipe(ht(function(e,s){return t(i,e,n,s)}))}))}:F(function(t,i){var n=0,s=null,r=!1;t.subscribe(new U(i,function(t){s||(s=new U(i,void 0,function(){s=null,r&&i.complete()}),Ue(e(t,n++)).subscribe(s))},function(){r=!0,!s&&i.complete()}))})}function Xi(e,t,i){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,F(function(n,s){return wt(n,s,e,t,void 0,!0,i)})}function Ki(e){return F(function(t,i){try{t.subscribe(i)}finally{i.add(e)}})}function Ji(e,t){return F($i(e,t,"value"))}function $i(e,t,i){var n="index"===i;return function(i,s){var r=0;i.subscribe(new U(s,function(a){var o=r++;e.call(t,a,o,i)&&(s.next(n?o:a),s.complete())},function(){s.next(n?-1:void 0),s.complete()}))}}function Zi(e,t){return F($i(e,t,"index"))}function Qi(e,t){var i=arguments.length>=2;return function(n){return n.pipe(e?Zt(function(t,i){return e(t,i,n)}):R,Pi(1),i?Oi(t):Fi(function(){return new tt}))}}function en(e,t,i,n){return F(function(s,r){var a;t&&"function"!=typeof t?(i=t.duration,a=t.element,n=t.connector):a=t;var o=new Map,l=function(e){o.forEach(e),e(r)},u=function(e){return l(function(t){return t.error(e)})},c=new tn(r,function(t){try{var s=e(t),l=o.get(s);if(!l){o.set(s,l=n?n():new $);var h=function(e,t){var i=new H(function(e){c.activeGroups++;var i=t.subscribe(e);return function(){i.unsubscribe(),0==--c.activeGroups&&c.teardownAttempted&&c.unsubscribe()}});return i.key=e,i}(s,l);if(r.next(h),i){var d=new U(l,function(){l.complete(),null==d||d.unsubscribe()},void 0,void 0,function(){return o.delete(s)});c.add(Ue(i(h)).subscribe(d))}}l.next(a?a(t):t)}catch(e){u(e)}},function(){return l(function(e){return e.complete()})},u,function(){return o.clear()});s.subscribe(c)})}var tn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeGroups=0,t.teardownAttempted=!1,t}return s(t,e),t.prototype.unsubscribe=function(){this.teardownAttempted=!0,0===this.activeGroups&&e.prototype.unsubscribe.call(this)},t}(U);function nn(){return F(function(e,t){e.subscribe(new U(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}function sn(e){return e<=0?function(){return Ae}:F(function(t,i){var n=[];t.subscribe(new U(i,function(t){n.push(t),e<n.length&&n.shift()},function(){var e,t;try{for(var s=a(n),r=s.next();!r.done;r=s.next()){var o=r.value;i.next(o)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}i.complete()},void 0,function(){n=null}))})}function rn(e,t){var i=arguments.length>=2;return function(n){return n.pipe(e?Zt(function(t,i){return e(t,i,n)}):R,sn(1),i?Oi(t):Fi(function(){return new tt}))}}function an(){return F(function(e,t){e.subscribe(new U(t,function(e){t.next(Ze.createNext(e))},function(){t.next(Ze.createComplete()),t.complete()},function(e){t.next(Ze.createError(e)),t.complete()}))})}function on(e){return pi(h(e)?function(t,i){return e(t,i)>0?t:i}:function(e,t){return e>t?e:t})}var ln=kt;function un(e,t,i){return void 0===i&&(i=1/0),h(t)?kt(function(){return e},t,i):("number"==typeof t&&(i=t),kt(function(){return e},i))}function cn(e,t,i){return void 0===i&&(i=1/0),F(function(n,s){var r=t;return wt(n,s,function(t,i){return e(r,t,i)},i,function(e){r=e},!1,void 0,function(){return r=null})})}function hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Oe(e),n=Pe(e,1/0);return e=Kt(e),F(function(t,s){It(n)(Ke(l([t],o(e)),i)).subscribe(s)})}.apply(void 0,l([],o(e)))}function dn(e){return pi(h(e)?function(t,i){return e(t,i)<0?t:i}:function(e,t){return e<t?e:t})}function fn(e,t){var i=h(e)?e:function(){return e};return h(t)?Ti(t,{connector:i}):function(e){return new z(e,i)}}function pn(){return F(function(e,t){var i,n=!1;e.subscribe(new U(t,function(e){var s=i;i=e,n&&t.next([s,e]),n=!0}))})}function vn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e.length;if(0===i)throw new Error("list of properties cannot be empty.");return ht(function(t){for(var n=t,s=0;s<i;s++){var r=null==n?void 0:n[e[s]];if(void 0===r)return;n=r}return n})}function gn(e){return e?function(t){return Ti(e)(t)}:function(e){return fn(new $)(e)}}function bn(e){return function(t){var i=new Q(e);return new z(t,function(){return i})}}function mn(){return function(e){var t=new ie;return new z(e,function(){return t})}}function _n(e,t,i,n){i&&!h(i)&&(n=i);var s=h(i)?i:void 0;return function(i){return fn(new te(e,t,n),s)(i)}}function Sn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?F(function(t,i){ti(l([t],o(e)))(i)}):R}function yn(e){var t,i,n=1/0;return null!=e&&("object"==_typeof(e)?(t=e.count,n=void 0===t?1/0:t,i=e.delay):n=e),n<=0?function(){return Ae}:F(function(e,t){var s,r=0,a=function(){if(null==s||s.unsubscribe(),s=null,null!=i){var e="number"==typeof i?zt(i):Ue(i(r)),n=new U(t,function(){n.unsubscribe(),o()});e.subscribe(n)}else o()},o=function(){var i=!1;s=e.subscribe(new U(t,void 0,function(){++r<n?s?a():i=!0:t.complete()})),i&&a()};o()})}function Cn(e){return F(function(t,i){var n,s,r=!1,a=!1,o=!1,l=function(){return o&&a&&(i.complete(),!0)};!function u(){o=!1,n=t.subscribe(new U(i,void 0,function(){o=!0,!l()&&(s||(s=new $,e(s).subscribe(new U(i,function(){n?u():r=!0},function(){a=!0,l()}))),s).next()})),r&&(n.unsubscribe(),n=null,r=!1,u())}()})}function En(e){var t;void 0===e&&(e=1/0);var i=(t=e&&"object"==_typeof(e)?e:{count:e}).count,n=void 0===i?1/0:i,s=t.delay,r=t.resetOnSuccess,a=void 0!==r&&r;return n<=0?R:F(function(e,t){var i,r=0;!function o(){var l=!1;i=e.subscribe(new U(t,function(e){a&&(r=0),t.next(e)},void 0,function(e){if(r++<n){var a=function(){i?(i.unsubscribe(),i=null,o()):l=!0};if(null!=s){var u="number"==typeof s?zt(s):Ue(s(e,r)),c=new U(t,function(){c.unsubscribe(),a()},function(){t.complete()});u.subscribe(c)}else a()}else t.error(e)})),l&&(i.unsubscribe(),i=null,o())}()})}function An(e){return F(function(t,i){var n,s,r=!1;!function a(){n=t.subscribe(new U(i,void 0,void 0,function(t){s||(s=new $,e(s).subscribe(new U(i,function(){return n?a():r=!0}))),s&&s.next(t)})),r&&(n.unsubscribe(),n=null,r=!1,a())}()})}function Tn(e){return F(function(t,i){var n=!1,s=null;t.subscribe(new U(i,function(e){n=!0,s=e})),e.subscribe(new U(i,function(){if(n){n=!1;var e=s;s=null,i.next(e)}},C))})}function wn(e,t){return void 0===t&&(t=pe),Tn(Yt(e,t))}function kn(e,t){return F(fi(e,t,arguments.length>=2,!0))}function In(e,t){return void 0===t&&(t=function(e,t){return e===t}),F(function(i,n){var s={buffer:[],complete:!1},r={buffer:[],complete:!1},a=function(e){n.next(e),n.complete()},o=function(e,i){var s=new U(n,function(n){var s=i.buffer,r=i.complete;0===s.length?r?a(!1):e.buffer.push(n):!t(n,s.shift())&&a(!1)},function(){e.complete=!0;var t=i.complete,n=i.buffer;t&&a(0===n.length),null==s||s.unsubscribe()});return s};i.subscribe(o(s,r)),e.subscribe(o(r,s))})}function On(e){void 0===e&&(e={});var t=e.connector,i=void 0===t?function(){return new $}:t,n=e.resetOnError,s=void 0===n||n,r=e.resetOnComplete,a=void 0===r||r,o=e.resetOnRefCountZero,l=void 0===o||o;return function(e){var t=null,n=null,r=null,o=0,u=!1,c=!1,h=function(){null==n||n.unsubscribe(),n=null},d=function(){h(),t=r=null,u=c=!1},f=function(){var e=t;d(),null==e||e.unsubscribe()};return F(function(e,p){o++,c||u||h();var v=r=null!=r?r:i();p.add(function(){0!=--o||c||u||(n=Pn(f,l))}),v.subscribe(p),t||(t=new I({next:function(e){return v.next(e)},error:function(e){c=!0,h(),n=Pn(d,s,e),v.error(e)},complete:function(){u=!0,h(),n=Pn(d,a),v.complete()}}),Ke(e).subscribe(t))})(e)}}function Pn(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return!0===t?(e(),null):!1===t?null:t.apply(void 0,l([],o(i))).pipe(Pi(1)).subscribe(function(){return e()})}function Ln(e,t,i){var n,s,r,a=!1;return e&&"object"==_typeof(e)?(r=null!==(n=e.bufferSize)&&void 0!==n?n:1/0,t=null!==(s=e.windowTime)&&void 0!==s?s:1/0,a=!!e.refCount,i=e.scheduler):r=null!=e?e:1/0,On({connector:function(){return new te(r,t,i)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Nn(e){return F(function(t,i){var n,s=!1,r=!1,a=0;t.subscribe(new U(i,function(o){r=!0,e&&!e(o,a++,t)||(s&&i.error(new at("Too many matching values")),s=!0,n=o)},function(){s?(i.next(n),i.complete()):i.error(r?new rt("No matching values"):new tt)}))})}function xn(e){return Zt(function(t,i){return e<=i})}function Rn(e){return e<=0?R:F(function(t,i){var n=new Array(e),s=0;return t.subscribe(new U(i,function(t){var r=s++;if(r<e)n[r]=t;else{var a=r%e,o=n[a];n[a]=t,i.next(o)}})),function(){n=null}})}function Mn(e){return F(function(t,i){var n=!1,s=new U(i,function(){null==s||s.unsubscribe(),n=!0},C);Ue(e).subscribe(s),t.subscribe(new U(i,function(e){return n&&i.next(e)}))})}function Vn(e){return F(function(t,i){var n=!1,s=0;t.subscribe(new U(i,function(t){return(n||(n=!e(t,s++)))&&i.next(t)}))})}function Hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Oe(e);return F(function(t,n){(i?Pt(e,t,i):Pt(e,t)).subscribe(n)})}function Dn(e,t){return F(function(i,n){var s=null,r=0,a=!1,o=function(){return a&&!s&&n.complete()};i.subscribe(new U(n,function(i){null==s||s.unsubscribe();var a=0,l=r++;Ue(e(i,l)).subscribe(s=new U(n,function(e){return n.next(t?t(i,e,l,a++):e)},function(){s=null,o()}))},function(){a=!0,o()}))})}function Bn(){return Dn(R)}function Fn(e,t){return h(t)?Dn(function(){return e},t):Dn(function(){return e})}function Un(e,t){return F(function(i,n){var s=t;return Dn(function(t,i){return e(s,t,i)},function(e,t){return s=t,t})(i).subscribe(n),function(){s=null}})}function jn(e){return F(function(t,i){Ue(e).subscribe(new U(i,function(){return i.complete()},C)),!i.closed&&t.subscribe(i)})}function zn(e,t){return void 0===t&&(t=!1),F(function(i,n){var s=0;i.subscribe(new U(n,function(i){var r=e(i,s++);(r||t)&&n.next(i),!r&&n.complete()}))})}function Yn(e,t,i){var n=h(e)||t||i?{next:e,error:t,complete:i}:e;return n?F(function(e,t){var i;null===(i=n.subscribe)||void 0===i||i.call(n);var s=!0;e.subscribe(new U(t,function(e){var i;null===(i=n.next)||void 0===i||i.call(n,e),t.next(e)},function(){var e;s=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()},function(e){var i;s=!1,null===(i=n.error)||void 0===i||i.call(n,e),t.error(e)},function(){var e,t;s&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)}))}):R}var Wn={leading:!0,trailing:!1};function Gn(e,t){return void 0===t&&(t=Wn),F(function(i,n){var s=t.leading,r=t.trailing,a=!1,o=null,l=null,u=!1,c=function(){null==l||l.unsubscribe(),l=null,r&&(f(),u&&n.complete())},h=function(){l=null,u&&n.complete()},d=function(t){return l=Ue(e(t)).subscribe(new U(n,c,h))},f=function(){if(a){a=!1;var e=o;o=null,n.next(e),!u&&d(e)}};i.subscribe(new U(n,function(e){a=!0,o=e,(!l||l.closed)&&(s?f():d(e))},function(){u=!0,(!(r&&a&&l)||l.closed)&&n.complete()}))})}function qn(e,t,i){void 0===t&&(t=pe),void 0===i&&(i=Wn);var n=zt(e,t);return Gn(function(){return n},i)}function Xn(e){return void 0===e&&(e=pe),function(t){return Lt(function(){return t.pipe(kn(function(t,i){var n=t.current;return{value:i,current:e.now(),last:n}},{current:e.now(),value:void 0,last:void 0}),ht(function(e){var t=e.current,i=e.last,n=e.value;return new Kn(n,t-i)}))})}}var Kn=function(e,t){this.value=e,this.interval=t};function Jn(e,t,i){var n,s,r;if(i=null!=i?i:ve,ot(e)?n=e:"number"==typeof e&&(s=e),!t)throw new TypeError("No observable provided to switch to");if(r=function(){return t},null==n&&null==s)throw new TypeError("No timeout provided.");return ut({first:n,each:s,scheduler:i,with:r})}function $n(e){return void 0===e&&(e=ee),ht(function(t){return{value:t,timestamp:e.now()}})}function Zn(e){return F(function(t,i){var n=new $;i.next(n.asObservable());var s=function(e){n.error(e),i.error(e)};return t.subscribe(new U(i,function(e){return null==n?void 0:n.next(e)},function(){n.complete(),i.complete()},s)),e.subscribe(new U(i,function(){n.complete(),i.next(n=new $)},C,s)),function(){null==n||n.unsubscribe(),n=null}})}function Qn(e,t){void 0===t&&(t=0);var i=t>0?t:e;return F(function(t,n){var s=[new $],r=0;n.next(s[0].asObservable()),t.subscribe(new U(n,function(t){var o,l;try{for(var u=a(s),c=u.next();!c.done;c=u.next())c.value.next(t)}catch(e){o={error:e}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}var h=r-e+1;if(h>=0&&h%i==0&&s.shift().complete(),++r%i==0){var d=new $;s.push(d),n.next(d.asObservable())}},function(){for(;s.length>0;)s.shift().complete();n.complete()},function(e){for(;s.length>0;)s.shift().error(e);n.error(e)},function(){s=null}))})}function es(e){for(var t,i,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var r=null!==(t=Oe(n))&&void 0!==t?t:pe,a=null!==(i=n[0])&&void 0!==i?i:null,o=n[1]||1/0;return F(function(t,i){var n=[],s=!1,l=function(e){var t=e.window,i=e.subs;t.complete(),i.unsubscribe(),p(n,e),s&&u()},u=function(){if(n){var t=new v;i.add(t);var s=new $,a={window:s,subs:t,seen:0};n.push(a),i.next(s.asObservable()),ze(t,r,function(){return l(a)},e)}};null!==a&&a>=0?ze(i,r,u,a,!0):s=!0,u();var c=function(e){return n.slice().forEach(e)},h=function(e){c(function(t){var i=t.window;return e(i)}),e(i),i.unsubscribe()};return t.subscribe(new U(i,function(e){c(function(t){t.window.next(e),o<=++t.seen&&l(t)})},function(){return h(function(e){return e.complete()})},function(e){return h(function(t){return t.error(e)})})),function(){n=null}})}function ts(e,t){return F(function(i,n){var s=[],r=function(e){for(;0<s.length;)s.shift().error(e);n.error(e)};Ue(e).subscribe(new U(n,function(e){var i=new $;s.push(i);var a,o=new v;try{a=Ue(t(e))}catch(e){return void r(e)}n.next(i.asObservable()),o.add(a.subscribe(new U(n,function(){p(s,i),i.complete(),o.unsubscribe()},C,r)))},C)),i.subscribe(new U(n,function(e){var t,i,n=s.slice();try{for(var r=a(n),o=r.next();!o.done;o=r.next())o.value.next(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}},function(){for(;0<s.length;)s.shift().complete();n.complete()},r,function(){for(;0<s.length;)s.shift().unsubscribe()}))})}function is(e){return F(function(t,i){var n,s,r=function(e){n.error(e),i.error(e)};(function t(){var a;null==s||s.unsubscribe(),null==n||n.complete(),n=new $,i.next(n.asObservable());try{a=Ue(e())}catch(e){return void r(e)}a.subscribe(s=new U(i,t,t,r))})(),t.subscribe(new U(i,function(e){return n.next(e)},function(){n.complete(),i.complete()},r,function(){null==s||s.unsubscribe(),n=null}))})}function ns(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Ie(e);return F(function(t,n){for(var s=e.length,r=new Array(s),a=e.map(function(){return!1}),u=!1,c=function(t){Ue(e[t]).subscribe(new U(n,function(e){r[t]=e,u||a[t]||(a[t]=!0,(u=a.every(R))&&(a=null))},C))},h=0;h<s;h++)c(h);t.subscribe(new U(n,function(e){if(u){var t=l([e],o(r));n.next(i?i.apply(void 0,l([],o(t))):t)}}))})}function ss(e){return bi(si,e)}function rs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return F(function(t,i){si.apply(void 0,l([t],o(e))).subscribe(i)})}.apply(void 0,l([],o(e)))}i.d(t,"Observable",function(){return H}),i.d(t,"ConnectableObservable",function(){return z}),i.d(t,"observable",function(){return x}),i.d(t,"animationFrames",function(){return G}),i.d(t,"Subject",function(){return $}),i.d(t,"BehaviorSubject",function(){return Q}),i.d(t,"ReplaySubject",function(){return te}),i.d(t,"AsyncSubject",function(){return ie}),i.d(t,"asap",function(){return fe}),i.d(t,"asapScheduler",function(){return de}),i.d(t,"async",function(){return ve}),i.d(t,"asyncScheduler",function(){return pe}),i.d(t,"queue",function(){return me}),i.d(t,"queueScheduler",function(){return be}),i.d(t,"animationFrame",function(){return ye}),i.d(t,"animationFrameScheduler",function(){return Se}),i.d(t,"VirtualTimeScheduler",function(){return Ce}),i.d(t,"VirtualAction",function(){return Ee}),i.d(t,"Scheduler",function(){return ce}),i.d(t,"Subscription",function(){return v}),i.d(t,"Subscriber",function(){return k}),i.d(t,"Notification",function(){return Ze}),i.d(t,"NotificationKind",function(){return Ve}),i.d(t,"pipe",function(){return M}),i.d(t,"noop",function(){return C}),i.d(t,"identity",function(){return R}),i.d(t,"isObservable",function(){return et}),i.d(t,"lastValueFrom",function(){return it}),i.d(t,"firstValueFrom",function(){return nt}),i.d(t,"ArgumentOutOfRangeError",function(){return st}),i.d(t,"EmptyError",function(){return tt}),i.d(t,"NotFoundError",function(){return rt}),i.d(t,"ObjectUnsubscribedError",function(){return J}),i.d(t,"SequenceError",function(){return at}),i.d(t,"TimeoutError",function(){return lt}),i.d(t,"UnsubscriptionError",function(){return f}),i.d(t,"bindCallback",function(){return vt}),i.d(t,"bindNodeCallback",function(){return gt}),i.d(t,"combineLatest",function(){return Et}),i.d(t,"concat",function(){return Pt}),i.d(t,"connectable",function(){return xt}),i.d(t,"defer",function(){return Lt}),i.d(t,"empty",function(){return Te}),i.d(t,"forkJoin",function(){return Rt}),i.d(t,"from",function(){return Ke}),i.d(t,"fromEvent",function(){return Dt}),i.d(t,"fromEventPattern",function(){return Ft}),i.d(t,"generate",function(){return Ut}),i.d(t,"iif",function(){return jt}),i.d(t,"interval",function(){return Yt}),i.d(t,"merge",function(){return Wt}),i.d(t,"never",function(){return qt}),i.d(t,"of",function(){return Je}),i.d(t,"onErrorResumeNext",function(){return Jt}),i.d(t,"pairs",function(){return $t}),i.d(t,"partition",function(){return Qt}),i.d(t,"race",function(){return ei}),i.d(t,"range",function(){return ii}),i.d(t,"throwError",function(){return $e}),i.d(t,"timer",function(){return zt}),i.d(t,"using",function(){return ni}),i.d(t,"zip",function(){return si}),i.d(t,"scheduled",function(){return Xe}),i.d(t,"EMPTY",function(){return Ae}),i.d(t,"NEVER",function(){return Gt}),i.d(t,"config",function(){return _}),i.d(t,"audit",function(){return ri}),i.d(t,"auditTime",function(){return ai}),i.d(t,"buffer",function(){return oi}),i.d(t,"bufferCount",function(){return li}),i.d(t,"bufferTime",function(){return ui}),i.d(t,"bufferToggle",function(){return ci}),i.d(t,"bufferWhen",function(){return hi}),i.d(t,"catchError",function(){return di}),i.d(t,"combineAll",function(){return _i}),i.d(t,"combineLatestAll",function(){return mi}),i.d(t,"combineLatestWith",function(){return Si}),i.d(t,"concatAll",function(){return Ot}),i.d(t,"concatMap",function(){return yi}),i.d(t,"concatMapTo",function(){return Ci}),i.d(t,"concatWith",function(){return Ei}),i.d(t,"connect",function(){return Ti}),i.d(t,"count",function(){return wi}),i.d(t,"debounce",function(){return ki}),i.d(t,"debounceTime",function(){return Ii}),i.d(t,"defaultIfEmpty",function(){return Oi}),i.d(t,"delay",function(){return Ri}),i.d(t,"delayWhen",function(){return xi}),i.d(t,"dematerialize",function(){return Mi}),i.d(t,"distinct",function(){return Vi}),i.d(t,"distinctUntilChanged",function(){return Hi}),i.d(t,"distinctUntilKeyChanged",function(){return Bi}),i.d(t,"elementAt",function(){return ji}),i.d(t,"endWith",function(){return zi}),i.d(t,"every",function(){return Yi}),i.d(t,"exhaust",function(){return Gi}),i.d(t,"exhaustAll",function(){return Wi}),i.d(t,"exhaustMap",function(){return qi}),i.d(t,"expand",function(){return Xi}),i.d(t,"filter",function(){return Zt}),i.d(t,"finalize",function(){return Ki}),i.d(t,"find",function(){return Ji}),i.d(t,"findIndex",function(){return Zi}),i.d(t,"first",function(){return Qi}),i.d(t,"groupBy",function(){return en}),i.d(t,"ignoreElements",function(){return Li}),i.d(t,"isEmpty",function(){return nn}),i.d(t,"last",function(){return rn}),i.d(t,"map",function(){return ht}),i.d(t,"mapTo",function(){return Ni}),i.d(t,"materialize",function(){return an}),i.d(t,"max",function(){return on}),i.d(t,"mergeAll",function(){return It}),i.d(t,"flatMap",function(){return ln}),i.d(t,"mergeMap",function(){return kt}),i.d(t,"mergeMapTo",function(){return un}),i.d(t,"mergeScan",function(){return cn}),i.d(t,"mergeWith",function(){return hn}),i.d(t,"min",function(){return dn}),i.d(t,"multicast",function(){return fn}),i.d(t,"observeOn",function(){return Ye}),i.d(t,"pairwise",function(){return pn}),i.d(t,"pluck",function(){return vn}),i.d(t,"publish",function(){return gn}),i.d(t,"publishBehavior",function(){return bn}),i.d(t,"publishLast",function(){return mn}),i.d(t,"publishReplay",function(){return _n}),i.d(t,"raceWith",function(){return Sn}),i.d(t,"reduce",function(){return pi}),i.d(t,"repeat",function(){return yn}),i.d(t,"repeatWhen",function(){return Cn}),i.d(t,"retry",function(){return En}),i.d(t,"retryWhen",function(){return An}),i.d(t,"refCount",function(){return j}),i.d(t,"sample",function(){return Tn}),i.d(t,"sampleTime",function(){return wn}),i.d(t,"scan",function(){return kn}),i.d(t,"sequenceEqual",function(){return In}),i.d(t,"share",function(){return On}),i.d(t,"shareReplay",function(){return Ln}),i.d(t,"single",function(){return Nn}),i.d(t,"skip",function(){return xn}),i.d(t,"skipLast",function(){return Rn}),i.d(t,"skipUntil",function(){return Mn}),i.d(t,"skipWhile",function(){return Vn}),i.d(t,"startWith",function(){return Hn}),i.d(t,"subscribeOn",function(){return We}),i.d(t,"switchAll",function(){return Bn}),i.d(t,"switchMap",function(){return Dn}),i.d(t,"switchMapTo",function(){return Fn}),i.d(t,"switchScan",function(){return Un}),i.d(t,"take",function(){return Pi}),i.d(t,"takeLast",function(){return sn}),i.d(t,"takeUntil",function(){return jn}),i.d(t,"takeWhile",function(){return zn}),i.d(t,"tap",function(){return Yn}),i.d(t,"throttle",function(){return Gn}),i.d(t,"throttleTime",function(){return qn}),i.d(t,"throwIfEmpty",function(){return Fi}),i.d(t,"timeInterval",function(){return Xn}),i.d(t,"timeout",function(){return ut}),i.d(t,"timeoutWith",function(){return Jn}),i.d(t,"timestamp",function(){return $n}),i.d(t,"toArray",function(){return gi}),i.d(t,"window",function(){return Zn}),i.d(t,"windowCount",function(){return Qn}),i.d(t,"windowTime",function(){return es}),i.d(t,"windowToggle",function(){return ts}),i.d(t,"windowWhen",function(){return is}),i.d(t,"withLatestFrom",function(){return ns}),i.d(t,"zipAll",function(){return ss}),i.d(t,"zipWith",function(){return rs})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCSSCustomProperty=t.normalizeEvent=t.intGetter=t.intSetter=t.booleanGetter=t.booleanSetter=t.clamp=void 0,t.clamp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=e;if(t>i)throw new RangeError("'min' ".concat(t," should be lower than 'max' ").concat(i));return e<t&&(n=t),e>i&&(n=i),n},t.booleanSetter=function(e,t,i){e.setAttribute(t,i.toString())},t.booleanGetter=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.getAttribute(t);return null===n?i:function(e){switch(String(n).toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(!1)}}()},t.intSetter=function(e,t,i){e.setAttribute(t,i.toString())},t.intGetter=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.getAttribute(t);return null===n?i:parseInt(n,10)},t.normalizeEvent=function(e){if("touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type){var t=e.changedTouches[0];return{x:t.clientX,y:t.clientY,id:t.identifier,event:e,targetElement:t.target}}return{x:e.clientX,y:e.clientY,id:null,event:e,targetElement:e.target}},t.getCSSCustomProperty=function(e,t){var i=getComputedStyle(e);return String(i.getPropertyValue(t)).trim()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Button=void 0;var n=i(2),s=i(84),r=function(e){_inherits(i,s.Ch5ButtonBase);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.call(this)}return _createClass(i,null,[{key:"registerSignalAttributeTypes",value:function(){n.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"registerSignalAttributeDefaults",value:function(){n.Ch5SignalAttributeRegistry.instance.addElementDefaultAttributeEntries(i.ELEMENT_NAME,{contractName:{attributes:["contractname"],defaultValue:""},booleanJoin:{attributes:["booleanjoinoffset"],defaultValue:"0"},numericJoin:{attributes:["numericjoinoffset"],defaultValue:"0"},stringJoin:{attributes:["stringjoinoffset"],defaultValue:"0"}})}},{key:"registerCustomElement",value:function(){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(i.ELEMENT_NAME)&&window.customElements.define(i.ELEMENT_NAME,i)}}]),i}();t.Ch5Button=r,r.ELEMENT_NAME="ch5-button",r.registerCustomElement(),r.registerSignalAttributeTypes(),r.registerSignalAttributeDefaults()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogEndpointsEnum=t.AppendersEnum=t.LogLevelEnum=void 0,function(e){e[e.default=0]="default",e[e.info=1]="info",e[e.warning=2]="warning",e[e.error=3]="error"}(t.LogLevelEnum||(t.LogLevelEnum={})),function(e){e.remote="remote",e.console="console"}(t.AppendersEnum||(t.AppendersEnum={})),(t.LogEndpointsEnum||(t.LogEndpointsEnum={})).log="log"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ListAbstractHelper=void 0,t.Ch5ListAbstractHelper=function(){function e(t){_classCallCheck(this,e),this._list={},this._templateHelper={},this._eventManager={},this._animationHelper={},this._list=t}return _createClass(e,[{key:"addTemplateHelper",value:function(e){this._templateHelper=e}},{key:"addAnimationHelper",value:function(e){this._animationHelper=e}},{key:"addEventManager",value:function(e){this._eventManager=e}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AugmentVarSignalsNames=void 0;var n=i(0),s=i(2),r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getUpdatedAttrIdxPlaceholderValue",value:function(e,t,i){var n=new RegExp(t,"g");if(!n.test(e))return e;var s=e.replace(n,"").trim(),r=/\s*(\d+)\s*\+{1}\s*(\d+)\s*\*{1}\s*/.exec(s);if(null!==r&&r[0]===s){var a=parseInt(r[1],10);return(parseInt(r[2],10)*i+a).toString()}var o=/\s*(\d+)\s*\+{0,1}\s*/.exec(s);return null!==o&&o[0]===s?(i+parseInt(o[1],10)).toString():e.replace(n,String(i)).trim()}},{key:"replaceAttrIdxPlaceholder",value:function(t,i,n,s,r){var a="{{".concat(r,"}}");if(n.indexOf(a)>-1)if("context"===i){for(var o=n.split(";"),l=0;l<o.length;l++){var u=o[l],c=u.indexOf(":");if(c>0&&u.length>c+1){var h=u.substr(c+1);h.indexOf(a)>-1&&(o[l]=u.substring(0,c+1)+e.getUpdatedAttrIdxPlaceholderValue(h,a,s))}}t.setAttribute(i,String(o.join(";")))}else t.setAttribute(i,e.getUpdatedAttrIdxPlaceholderValue(n,a,s))}},{key:"iterateAttributesInTemplate",value:function(e,t,i){var n=e.querySelectorAll("*");if(0!==n.length)for(var s=function(e){var s=n[e];void 0!==i&&i(s),Array.from(s.attributes).forEach(function(e){var i=e.value.trim();t(s,e.name,i)})},r=0;r<n.length;r++)s(r)}},{key:"incrementOrPrependAttrValue",value:function(e,t,i,s,r){var a=/({{[\w\-]+}})/g,o=i.replace(a,"");if(n.Ch5Signal.isIntegerSignalName(o)){if(s>0){var l=parseInt(o,10)+s,u=i.match(a),c=null!==u?"".concat(l).concat(u.join("")):"".concat(l);e.setAttribute(t,c)}}else e.setAttribute(t,"".concat(r).concat(i))}},{key:"differentiateTmplElemsAttrs",value:function(t,i,n,r,a){e.iterateAttributesInTemplate(t,function(t,o,l){var u=s.Ch5SignalAttributeRegistry.instance.getElementAttributeEntry(t.tagName,o);if(void 0!==u){var c=u[s.Ch5SignalAttributeRegistry.CONTRACT_NAME]?i:"",h=0;void 0!==u[s.Ch5SignalAttributeRegistry.BOOLEAN_JOIN]?h=n:void 0!==u[s.Ch5SignalAttributeRegistry.NUMERIC_JOIN]?h=r:void 0!==u[s.Ch5SignalAttributeRegistry.STRING_JOIN]&&(h=a),e.incrementOrPrependAttrValue(t,o,l,h,c)}},function(t){var o=s.Ch5SignalAttributeRegistry.instance.getElementDefaultAttributeEntries(t.tagName);void 0!==o&&(i.length>0&&e.addDefaultEntriesForDifferentiation(t,o.contractName),n>0&&e.addDefaultEntriesForDifferentiation(t,o.booleanJoin),r>0&&e.addDefaultEntriesForDifferentiation(t,o.numericJoin),a>0&&e.addDefaultEntriesForDifferentiation(t,o.stringJoin))})}},{key:"addDefaultEntriesForDifferentiation",value:function(e,t){void 0!==t&&t.attributes.forEach(function(i){null===e.getAttribute(i)&&e.setAttribute(i,t.defaultValue)})}},{key:"replaceIndexIdInTmplElemsAttrs",value:function(t,i,n){e.iterateAttributesInTemplate(t.content,function(t,s,r){e.replaceAttrIdxPlaceholder(t,s,r,i,n)},function(t){"TEMPLATE"===t.tagName&&e.replaceIndexIdInTmplElemsAttrs(t,i,n)})}},{key:"replaceIndexIdInTmplElemsContent",value:function(e,t,i){var n=e.innerHTML,s="{{".concat(i,"}}");n.indexOf(s)>-1&&(n=n.replace(new RegExp(s,"g"),String(t)),e.innerHTML=n)}}]),e}();t.Ch5AugmentVarSignalsNames=r},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ch5Pressable=void 0,__webpack_require__(37);var rxjs_1=__webpack_require__(15),lodash_1=__importDefault(__webpack_require__(1)),Ch5PressableFingerStateMode,t;t=Ch5PressableFingerStateMode||(Ch5PressableFingerStateMode={}),t[t.Idle=0]="Idle",t[t.Start=1]="Start",t[t.FingerDown=2]="FingerDown";var Ch5Pressable=function(){function Ch5Pressable(e,t){_classCallCheck(this,Ch5Pressable),this._fingerState=new Ch5Pressable.FingerState,this._touchStart=!1,this._touchEnd=!1,this._pressed=!1,this._released=!0,this._hammerManager=null,this._gestureableSubscription=null,this.TOUCH_TIMEOUT=250,this.PRESS_MOVE_THRESHOLD=10,this.CLICK_MOVE_THRESHOLD=1,this.isTouch=!1,this.isMouse=!1,this._ch5Component=e,this._options=t||null,this.observablePressed=new rxjs_1.Subject,this._pressEvent=new CustomEvent("press",{bubbles:!0,cancelable:!1}),this._releaseEvent=new CustomEvent("release",{bubbles:!0,cancelable:!1}),this._onClick=this._onClick.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onTouchCancel=this._onTouchCancel.bind(this),this._onTouchHoldTimer=this._onTouchHoldTimer.bind(this),this._onHold=this._onHold.bind(this),this._onRelease=this._onRelease.bind(this),this._onPanEnd=this._onPanEnd.bind(this),this._onMouseMove=this._onMouseMove.bind(this)}return _createClass(Ch5Pressable,[{key:"ch5Component",get:function(){return this._ch5Component}},{key:"options",get:function(){return this._options}},{key:"pressDelayTime",get:function(){return null===this._options||lodash_1.default.isNil(this._options.pressDelayTime)?this.TOUCH_TIMEOUT:this._options.pressDelayTime}},{key:"pressDelayMoveDistance",get:function(){return null===this._options||lodash_1.default.isNil(this._options.pressDelayDistance)?this.PRESS_MOVE_THRESHOLD:this._options.pressDelayDistance}},{key:"clickDelayMoveDistance",get:function(){return null===this.options||lodash_1.default.isNil(this.options.clickDelayDistance)?this.CLICK_MOVE_THRESHOLD:this.options.clickDelayDistance}},{key:"init",value:function(){this._hammerManager=new Hammer(this._ch5Component,{touchAction:"auto"}),this._subscribeToGestureableProp(),this._attachEvents()}},{key:"setPressed",value:function(e){!0===this._pressed?!1===e&&this._onRelease():!0===e&&this._onHold()}},{key:"destroy",value:function(){this._unsubscribeFromGestureableProp(),this._removeEvents()}},{key:"_attachEvents",value:function(){this._ch5Component.addEventListener("click",this._onClick),this._ch5Component.addEventListener("mousedown",this._onMouseDown,{passive:!0}),this._ch5Component.addEventListener("mouseup",this._onMouseUp),this._ch5Component.addEventListener("mousemove",this._onMouseMove),this._ch5Component.addEventListener("mouseleave",this._onMouseLeave),this._ch5Component.addEventListener("mouseout",this._onMouseLeave),this._ch5Component.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this._ch5Component.addEventListener("touchmove",this._onTouchMove),this._ch5Component.addEventListener("touchend",this._onTouchEnd),this._ch5Component.addEventListener("touchcancel",this._onTouchCancel)}},{key:"_removeEvents",value:function(){this._ch5Component.removeEventListener("click",this._onClick),this._ch5Component.removeEventListener("mousedown",this._onMouseDown),this._ch5Component.removeEventListener("mouseup",this._onMouseUp),this._ch5Component.removeEventListener("mouseleave",this._onMouseLeave),this._ch5Component.removeEventListener("touchstart",this._onTouchStart),this._ch5Component.removeEventListener("touchmove",this._onTouchMove),this._ch5Component.removeEventListener("touchend",this._onTouchEnd),this._ch5Component.removeEventListener("touchcancel",this._onTouchCancel),this._removeEventsFromHammer()}},{key:"_subscribeToGestureableProp",value:function(){var e=this;null===this._gestureableSubscription&&(this._gestureableSubscription=this._ch5Component.observableGestureableProperty.subscribe(function(t){t?e._attachEventsFromHammer():e._removeEventsFromHammer()}))}},{key:"_unsubscribeFromGestureableProp",value:function(){null!==this._gestureableSubscription&&(this._gestureableSubscription.unsubscribe(),this._gestureableSubscription=null)}},{key:"_attachEventsFromHammer",value:function(){null!==this._hammerManager&&(this._hammerManager.on("press",this._onHold),this._hammerManager.on("pressup",this._onRelease),this._hammerManager.on("panend",this._onPanEnd))}},{key:"_removeEventsFromHammer",value:function(){null!==this._hammerManager&&(this._hammerManager.off("press",this._onHold),this._hammerManager.off("pressup",this._onRelease),this._hammerManager.off("panend",this._onPanEnd),this._hammerManager.destroy(),this._hammerManager=null)}},{key:"_onClick",value:function(e){this._touchStart=!1,this._touchEnd=!1}},{key:"_onMouseDown",value:function(e){if(!this._touchStart&&!this.isTouch){this.isMouse=!0,this.isTouch=!1;var t=e;this._fingerState.mode===Ch5PressableFingerStateMode.Idle&&(this._fingerState.mode=Ch5PressableFingerStateMode.Start,this._fingerState.touchHoldTimer=window.setTimeout(this._onTouchHoldTimer,this.pressDelayTime),this._fingerState.touchStartLocationX=t.clientX,this._fingerState.touchStartLocationY=t.clientY)}}},{key:"_onMouseMove",value:function(e){if(!this.isTouch&&this._fingerState.mode===Ch5PressableFingerStateMode.Start){var t=e;if(null!==t){var i=t.clientX-this._fingerState.touchStartLocationX,n=t.clientY-this._fingerState.touchStartLocationY,s=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));this._ch5Component.info("DELETE ME Ch5Pressable.onMouseMove() , ".concat(t.clientX,", ").concat(t.clientY,", ").concat(s)),s>this.clickDelayMoveDistance&&(this._ch5Component.info("Ch5Pressable.onMouseMove() cancelling press, ".concat(t.clientX,", ").concat(t.clientY,", ").concat(s)),this._touchStart=!1,this._fingerState.reset())}}}},{key:"_onMouseUp",value:function(e){this.isTouch||null!==e&&(this._fingerState.mode===Ch5PressableFingerStateMode.Start&&this._fingerIsDownActions(),this._touchEnd||(this._touchEnd=!0),this._fingerState.mode===Ch5PressableFingerStateMode.FingerDown&&(this._ch5Component.gestureable||this._onRelease()),this._fingerState.reset())}},{key:"_onMouseLeave",value:function(e){this.isTouch||null!==e&&(this._fingerState.mode===Ch5PressableFingerStateMode.Start&&this._fingerIsDownActions(),this._touchEnd||(this._touchEnd=!0),this._fingerState.mode===Ch5PressableFingerStateMode.FingerDown&&(this._ch5Component.gestureable||this._onRelease()),this._fingerState.reset())}},{key:"_onTouchStart",value:function(e){if(!this.isMouse){this.isTouch=!0,this.isMouse=!1,this._touchStart=!0;var t=e.changedTouches[0];this._fingerState.mode===Ch5PressableFingerStateMode.Idle&&(this._fingerState.mode=Ch5PressableFingerStateMode.Start,this._fingerState.touchHoldTimer=window.setTimeout(this._onTouchHoldTimer,this.pressDelayTime),this._fingerState.touchStartLocationX=t.clientX,this._fingerState.touchStartLocationY=t.clientY,this._fingerState.touchPointId=t.identifier)}}},{key:"_onTouchMove",value:function(e){if(!this.isMouse&&this._fingerState.mode===Ch5PressableFingerStateMode.Start){var t=e,i=this._fingerState.getTouchFromTouchList(t);if(null!==i){var n=i.clientX-this._fingerState.touchStartLocationX,s=i.clientY-this._fingerState.touchStartLocationY,r=Math.sqrt(Math.pow(n,2)+Math.pow(s,2));this._ch5Component.info("DELETE ME Ch5Pressable._onTouchMove() , ".concat(i.clientX,", ").concat(i.clientY,", ").concat(i.identifier,", ").concat(r)),r>this.pressDelayMoveDistance&&(this._ch5Component.info("Ch5Pressable._onTouchMove() cancelling press, ".concat(i.clientX,", ").concat(i.clientY,", ").concat(i.identifier,", ").concat(r)),this._touchStart=!1,this._fingerState.reset())}}}},{key:"_onTouchHoldTimer",value:function(e){this._fingerState.touchHoldTimer=null,this._fingerIsDownActions()}},{key:"_fingerIsDownActions",value:function(){this._fingerState.mode=Ch5PressableFingerStateMode.FingerDown,this._ch5Component.gestureable||this._onHold(),null!==this._fingerState.touchHoldTimer&&(window.clearTimeout(this._fingerState.touchHoldTimer),this._fingerState.touchHoldTimer=null)}},{key:"_onTouchEnd",value:function(e){if(!this.isMouse){var t=e;null!==this._fingerState.getTouchFromTouchList(t)&&(this._fingerState.mode===Ch5PressableFingerStateMode.Start&&this._fingerIsDownActions(),this._touchEnd||(this._touchEnd=!0),this._fingerState.mode===Ch5PressableFingerStateMode.FingerDown&&(this._ch5Component.gestureable||this._onRelease()),this._fingerState.reset())}}},{key:"_onTouchCancel",value:function(e){this._ch5Component.info("Ch5Pressable._onCancel()"),this._onTouchEnd(e)}},{key:"_onHold",value:function _onHold(){if(this._ch5Component.info("Ch5Pressable._onHold() alreadyPressed:".concat(this._pressed)),!this._pressed){this._addCssPressClass(),this._pressed=!0,this._released=!1,this.observablePressed.next(this._pressed),this._ch5Component.setAttribute("pressed","true"),this._ch5Component.dispatchEvent(this._pressEvent);var onPressAttrib=this._ch5Component.getAttribute("onpress");if(null!==onPressAttrib)try{eval(onPressAttrib)}catch(t){}}}},{key:"_onRelease",value:function _onRelease(){var _this16=this;if(this._ch5Component.info("Ch5Pressable._onRelease() alreadyReleased:".concat(this._released)),!this._released){setTimeout(function(){_this16._removeCssPressClass()},this.pressDelayTime),this._pressed=!1,this._released=!0,this.observablePressed.next(this._pressed),this._ch5Component.removeAttribute("pressed"),this._ch5Component.dispatchEvent(this._releaseEvent);var onReleaseAttrib=this._ch5Component.getAttribute("onrelease");if(null!==onReleaseAttrib)try{eval(onReleaseAttrib)}catch(t){}}}},{key:"_onPanEnd",value:function(){this._ch5Component.info("Ch5Pressable._onPanEnd()"),this._onRelease()}},{key:"_addCssPressClass",value:function(){null!==this._options&&void 0!==this._options.cssTargetElement.classList&&this._options.cssTargetElement.classList.add(this._options.cssPressedClass)}},{key:"_removeCssPressClass",value:function(){null!==this._options&&void 0!==this._options.cssTargetElement.classList&&this._options.cssTargetElement.classList.remove(this._options.cssPressedClass)}}]),Ch5Pressable}();exports.Ch5Pressable=Ch5Pressable,Ch5Pressable.FingerState=function(){function e(){_classCallCheck(this,e),this.touchHoldTimer=null,this.touchPointId=-1,this.mode=Ch5PressableFingerStateMode.Idle,this.touchStartLocationX=0,this.touchStartLocationY=0,this.touchPointId=-1,this.touchHoldTimer=null}return _createClass(e,[{key:"getTouchFromTouchList",value:function(e){if(void 0!==e.changedTouches)for(var t=0;t<e.changedTouches.length;t++)if(e.changedTouches[t].identifier===this.touchPointId)return e.changedTouches[t];return null}},{key:"reset",value:function(){this.mode=Ch5PressableFingerStateMode.Idle,this.touchStartLocationX=0,this.touchStartLocationY=0,this.touchPointId=-1,null!==this.touchHoldTimer&&(window.clearTimeout(this.touchHoldTimer),this.touchHoldTimer=null)}}]),e}()},function(e,t,i){var n=i(258),s=i(253);e.exports=function(e,t){var i=s(e,t);return n(i)?i:void 0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5TranslationUtility=void 0;var n=i(94),s=i(29),r=function(){function e(){_classCallCheck(this,e),this._translatorBeginKey="",this._translatorEndKey="",this.translatorBeginKey=n.Ch5TranslationConfiguration.translationTokenStartDelimiter,this.translatorEndKey=n.Ch5TranslationConfiguration.translationTokenEndDelimiter}return _createClass(e,[{key:"getTranslator",value:function(){return s.translationFactory.translator}},{key:"valuesToTranslation",value:function(e){var t=new RegExp("(\\"+this.translatorBeginKey+")([a-zA-Z0-9\\.]+)\\w+(\\"+this.translatorEndKey+")","g");return e.match(t)}},{key:"hasMultipleIdentifiers",value:function(e){var t=new RegExp("(\\"+this.translatorBeginKey+")([a-zA-Z0-9\\.]+)\\w+(\\"+this.translatorEndKey+")","g");return!!(e.match(t)&&e.match(t).length>1)}},{key:"isTranslationIdentifier",value:function(e){return new RegExp("(\\"+this.translatorBeginKey+")([a-zA-Z0-9\\.]+)\\w+(\\"+this.translatorEndKey+")","g").test(e)}},{key:"stripDownTranslationCharacters",value:function(e){var t=new RegExp("^(\\"+this.translatorBeginKey+")([a-zA-Z0-9\\.]+)(\\"+this.translatorEndKey+")$"),i="";return t.exec(e)&&t.exec(e).length>0&&(i=t.exec(e)[2]),i}},{key:"translatorBeginKey",get:function(){return this._translatorBeginKey},set:function(e){null!=e&&(this._translatorBeginKey=e.split("").join("\\"))}},{key:"translatorEndKey",get:function(){return this._translatorEndKey},set:function(e){null!=e&&(this._translatorEndKey=e.split("").join("\\"))}},{key:"_t",value:function(e){var t=this,i=e,n=this.valuesToTranslation(e);return n&&n.length>0&&n.forEach(function(e){if(t.isTranslationIdentifier(e)){var n=t.stripDownTranslationCharacters(e);if(t.getTranslator().exists(n)){var s=t.getTranslator().t(n);i=i.replace(e,s)}}}),i}},{key:"translatedValue",value:function(e){return this.isTranslationIdentifier(e)?this._t(e):e}}],[{key:"getInstance",value:function(){return void 0===e._instance&&(e._instance=new e),e._instance}}]),e}();t.Ch5TranslationUtility=r},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(0),t),s(i(39),t),s(i(265),t),s(i(235),t),s(i(233),t),s(i(70),t),s(i(204),t),s(i(201),t),s(i(200),t),s(i(198),t),s(i(196),t),s(i(189),t),s(i(184),t),s(i(180),t),s(i(60),t),s(i(177),t),s(i(175),t),s(i(169),t),s(i(167),t),s(i(164),t),s(i(162),t),s(i(132),t),s(i(129),t),s(i(121),t),s(i(117),t),s(i(91),t),s(i(113),t),s(i(111),t),s(i(109),t),s(i(4),t)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5List=t.easeMode=t.duration=t.Ch5ListItemAxis=void 0;var s=n(i(5)),r=i(3),a=i(232),o=i(24),l=i(16),u=i(231),c=i(229),h=i(226),d=i(225),f=i(224),p=i(223),v=i(0),g=i(4),b=i(2);!function(e){e[e.X=0]="X",e[e.Y=1]="Y"}(t.Ch5ListItemAxis||(t.Ch5ListItemAxis={})),t.duration=300,t.easeMode="ease-out";var m=function(e){_inherits(n,r.Ch5Common);var i=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=i.call(this)).cssClassPrefix="ch5-list",e._bufferedItems={bufferActive:!1,bufferingComplete:!1,bufferForwardStartIndex:NaN,forwardBufferedItems:[],bufferBackwardsStartIndex:NaN,backwardsBufferedItems:[]},e._appendPosition=0,e._divListWidth=0,e._divListHeight=0,e.itemOffsetWidth=0,e.itemOffsetHeight=0,e.viewportClientHeight=0,e.viewportClientWidth=0,e.divList=document.createElement("div"),e.pointerStartTime=0,e.pointerEndTime=0,e.stepOnX=0,e.stepOnY=0,e.currentPage=0,e.templateElement={},e.sizeResolver={},e._currentXPosition=0,e._currentYPosition=0,e._defaultScrollToTime=500,e._size=1,e._previousSize=1,e._orientation=n.ORIENTATION[0],e._bufferAmount=0,e._itemHeight=null,e._itemWidth=null,e._minWidth=null,e._maxWidth=null,e._minHeight=null,e._maxHeight=null,e._pagedSwipe=!1,e._endless=!1,e._scrollbar=!1,e._scrollToTime=500,e._indexId=null,e._direction=r.Ch5Common.DIRECTION[0],e._templateVars=null,e._receiveStateSize=null,e._receiveStateSizeSub="",e._receiveStateScrollTo=null,e._receiveStateScrollToSub="",e._receiveStateTemplateVars=null,e._receiveStateTemplateVarsSub="",e._processingPan=!1,e._storedOffsetWidth=0,e._storedOffsetHeight=0,e._tplHtmlString="",e._updateTimer=void 0,e._isPointerActive=!1,e._pointerId=0,e._pointerFirstX=0,e._pointerFirstY=0,e._pointerLastX=0,e._pointerLastY=0,e._pointerCurrentX=0,e._pointerCurrentY=0,e._lastDraggedLayoutIndex=0,e._trackingPointsX=[],e._trackingPointsY=[],e._dragTicking=!1,e._maxDecelVelocity=50,e._minDecelVelocity=20,e._friction=.7,e._attraction=.04,e._decelVelocity=0,e._decelerating=!1,e._scrollToTimeReference=0,e._initCompleted=!1,e._cachedFirstRenderVisibleItemsNr=0,e._items=[],e._lastViewIndex=-1,e._infiniteLoop=!1,e._wrapperTranslateX=0,e._wrapperTranslateY=0,e._selectedIteration=0,e._previousEffectiveLayoutIndex=0,e._isListVisible=!0,e.receiveStateScrollToChanged=!1,e.templateHelper=new u.Ch5ListTemplate(_assertThisInitialized(e)),e.signalManager=new h.Ch5ListSignalManager(_assertThisInitialized(e)),e.animationHelper=new d.Ch5ListAnimation(_assertThisInitialized(e)),e.eventManager=new c.Ch5ListEventManager(_assertThisInitialized(e)),e.bufferdItemsHelper=new f.Ch5ListBufferedItems(_assertThisInitialized(e)),e.eventManager.addAnimationHelper(e.animationHelper),e.eventManager.addTemplateHelper(e.templateHelper),e.animationHelper.addTemplateHelper(e.templateHelper),e.animationHelper.addEventManager(e.eventManager),e.bufferdItemsHelper.addTemplateHelper(e.templateHelper),e}return _createClass(n,[{key:"getCssClassDisabled",value:function(){return"".concat(this.cssClassPrefix,"--disabled")}},{key:"connectedCallback",value:function(){var e=this;this._isListVisible=!0,this.contentCleanUp(),(0,v.subscribeInViewPortChange)(this,function(){e.info("Ch5List.subscribeInViewPortChange() with elementIsInViewPort: ".concat(e.elementIsInViewPort,", this.receiveStateScrollToChanged: ").concat(e.receiveStateScrollToChanged,", _isListVisible: ").concat(e._isListVisible,",  this.hasAttribute('scrollbar'): ").concat(e.hasAttribute("scrollbar"))),e.elementIsInViewPort&&(e._isListVisible||e.receiveStateScrollToChanged)&&(e.info("Updating View"),e.hasAttribute("scrollbar")&&"true"===String(e.getAttribute("scrollbar"))?(e.templateHelper.customScrollbar(e.divList),setTimeout(function(){e.templateHelper.resizeList(e.divList,e.templateVars)},.5)):e.templateHelper.resetListLayout(),e.templateHelper.checkAndSetSizes(),e.templateHelper.customScrollbar(e.divList),e._isListVisible=!1,e.receiveStateScrollToChanged=!1,e.hasAttribute("receiveStateScrollTo")&&""!==String(e.getAttribute("receiveStateScrollTo"))&&e.setScrollToContent())});Promise.all([customElements.whenDefined("ch5-list")]).then(function(){(function(){e.hasAttribute("role")||e.setAttribute("role",g.Ch5RoleAttributeMapping.ch5List),e.hasAttribute("endless")&&(e.templateHelper.endless=!0),e.info("connectedCallback"),e.setAttribute("data-ch5-id",e.getCrId());e._tplHtmlString=e.templateHelper.checkForTemplate(),""===e._tplHtmlString?(e.info("add mutation observer in order to extract template data"),e._startReadyObserver(),e.initializations(),e.templateHelper.updateTemplateString(e._tplHtmlString)):(e.info("connectedCallback initializations"),e.initializations()),e.initCommonMutationObserver(e);var i=(new p.Ch5AnimationFactory).getAnimation(t.duration,t.easeMode,e.divList);e.animationHelper.addAnimationApi(i),e.info("Callback loaded - ch5 list")})(),e.componentLoadedEvent("ch5-list",e.id)})}},{key:"initializations",value:function(){this.cacheComponentChildrens(),this.initializeAttributes(),this.resolveTemplateChildren(this.templateElement);var e=o.Ch5Config.getTemplateVarsForElement(this);e.length>0&&(this.templateVars=JSON.stringify(e)),this._previousEffectiveLayoutIndex=this.selected,this._tplHtmlString.length<=0||(this.templateHelper.resizeList(this.divList,this.templateVars),this.isPagedSwipeCompatible(this.pagedSwipe)||(this.pagedSwipe=!1),this.initializeEvents(),this._initCompleted=!0)}},{key:"disconnectedCallback",value:function(){this.removeEvents(),this.unsubscribeFromSignals(),(0,v.unSubscribeInViewPortChange)(this),this.disconnectCommonMutationObserver()}},{key:"unsubscribeFromSignals",value:function(){this.info("unsubscribeFromSignals()"),_get(_getPrototypeOf(n.prototype),"unsubscribeFromSignals",this).call(this),this.signalManager.unsubscribeFromSignals(this.clearStringSignalSubscription)}},{key:"attributeChangedCallback",value:function(e,t,i){if(t!==i)switch(this.info('ch5-list attributeChangedCallback("'+e+'","'+t+'","'+i+'")'),this.info("attribute changed callback:",e),e){case"selected":var s=parseInt(i,10);if(!Number.isFinite(s)||s>this._lastViewIndex||s<0)return void(this.selected=Number(t)||0);if(this._infiniteLoop){for(var r=this.selected+this._selectedIteration*(this._lastViewIndex+1),a=this._previousEffectiveLayoutIndex-r,o=[],l=a<0?this.getItemsPerPage()+a:0,u=-1;u<Math.abs(a);u++)o.push(u+r+l);this._previousEffectiveLayoutIndex=r}break;case"disableanimation":this.animationHelper.disableAnimation=null!==i;break;case"size":var c=i?Number(i):1;this._initCompleted&&c!==this.size&&(this.size=c,this.templateHelper.resizeList(this.divList,this.templateVars));break;case"orientation":this.hasAttribute("orientation")?this.orientation=i:this.orientation=n.ORIENTATION[0];break;case"bufferamount":this.hasAttribute("bufferamount")?this.bufferAmount=Number(i):this.bufferAmount=0;break;case"itemheight":this.hasAttribute("itemheight")&&(this.itemHeight=i);break;case"itemwidth":this.hasAttribute("itemwidth")&&(this.itemWidth=i);break;case"minwidth":this.hasAttribute("minwidth")&&(this.minWidth=i);break;case"maxwidth":this.hasAttribute("maxwidth")&&(this.maxWidth=i);break;case"minheight":this.hasAttribute("minheight")&&(this.minHeight=i);break;case"maxheight":this.hasAttribute("maxheight")&&(this.maxHeight=i);break;case"indexid":this.hasAttribute("indexid")&&(this.indexId=i);break;case"pagedswipe":this.hasAttribute("pagedswipe")&&(this.pagedSwipe="true"===i);break;case"endless":this.hasAttribute("endless")&&"false"!==i?this.endless=!0:this.endless=!1,this._updateInfiniteLoop(),this._computeItemsPerViewLayout();break;case"scrollbar":this.templateHelper.removeScrollbar(),this.hasAttribute("scrollbar")?(this.scrollbar="true"===i,this.templateHelper.customScrollbar(this.divList)):this.scrollbar=!1;break;case"scrolltotime":this.hasAttribute("scrolltotime")&&(this.scrollToTime=Number(i));break;case"dir":this.hasAttribute("dir")&&(this.direction=i);break;case"receivestatesize":this.hasAttribute("receivestatesize")?this.receiveStateSize=i:this.receiveStateSize="";break;case"receivestatescrollto":this.hasAttribute("receivestatescrollto")?this.receiveStateScrollTo=i:this.receiveStateScrollTo="";break;case"receivestatetemplatevars":this.hasAttribute("receivestatetemplatevars")?this.receiveStateTemplateVars=i:this.receiveStateTemplateVars="";break;default:_get(_getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,e,t,i)}}},{key:"getItemSize",value:function(){return this.isHorizontal?this.itemOffsetWidth:this.itemOffsetHeight}},{key:"getItemsPerPage",value:function(){return this.isHorizontal?this.viewportClientWidth/this.itemOffsetWidth:this.viewportClientHeight/this.itemOffsetHeight}},{key:"getVisibleItemsPerPage",value:function(){var e=this.getItemsPerPage();return Math.floor(e)}},{key:"_canUseBufferAmount",value:function(e){return e<Number(this.size)}},{key:"getFirstRenderVisibleItemsNr",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this._cachedFirstRenderVisibleItemsNr=0),this._cachedFirstRenderVisibleItemsNr>0)return this._cachedFirstRenderVisibleItemsNr;var e=Number(this.size),t=Number(this.bufferAmount);return this._cachedFirstRenderVisibleItemsNr=0===t||e<=t?e:this._getFirstRenderedItemsNr(e),this._cachedFirstRenderVisibleItemsNr}},{key:"swipe",value:function(e){var t=this;this._processingPan||(this._processingPan=!0,this.divList.childElementCount>0&&e.then(function(){t._processingPan=!1}).catch(function(e){t._processingPan=!1,t.error("Error while processing a swipe operation. More details: ",e)}).then(a.noop))}},{key:"currentXPosition",get:function(){return this._currentXPosition},set:function(e){(0,s.default)(e)||(this._currentXPosition=e)}},{key:"currentYPosition",get:function(){return this._currentYPosition},set:function(e){(0,s.default)(e)||(this._currentYPosition=e)}},{key:"isVertical",get:function(){return this.orientation===n.ORIENTATION[0]}},{key:"isHorizontal",get:function(){return this.orientation===n.ORIENTATION[1]}},{key:"size",get:function(){return void 0===this._size&&(this._size=1),this._size},set:function(e){(0,s.default)(e)&&(e=1),e>1e3&&(e=1e3),e!==this._size&&(this._size=Number(e),this.setAttribute("size",this._size.toString()))}},{key:"previousSize",get:function(){return(0,s.default)(this._previousSize)&&(this._previousSize=1),this._previousSize},set:function(e){(0,s.default)(e)&&(e=1),e>1e3&&(e=1e3),this._previousSize=Number(e)}},{key:"orientation",get:function(){return null==this._orientation&&(this._orientation=n.ORIENTATION[0]),this._orientation},set:function(e){(0,s.default)(e)&&(e=n.ORIENTATION[0]),e!==this._orientation&&(n.ORIENTATION.indexOf(e)>=0?this._orientation=e:this._orientation=n.ORIENTATION[0],this.setAttribute("orientation",this._orientation))}},{key:"bufferAmount",get:function(){return this._bufferAmount},set:function(e){(0,s.default)(e)&&(e=0),e!==this.bufferAmount&&(this._bufferAmount=Number(e),this.setAttribute("bufferamount",this._bufferAmount.toString()))}},{key:"itemHeight",get:function(){return this._itemHeight},set:function(e){(e=this._checkAndSetStringValue(e))!==this._itemHeight&&(this._itemHeight=e,this.setAttribute("itemheight",e),this.templateHelper.attachCSS(),this.templateHelper.checkAndSetSizes())}},{key:"itemWidth",get:function(){return this._itemWidth},set:function(e){(e=this._checkAndSetStringValue(e))!==this._itemWidth&&(this._itemWidth=e,this.setAttribute("itemwidth",e),this.templateHelper.attachCSS(),this.templateHelper.checkAndSetSizes())}},{key:"minWidth",get:function(){return this._minWidth},set:function(e){(e=this._checkAndSetStringValue(e))!==this._minWidth&&(this._minWidth=e,this.setAttribute("minwidth",this._minWidth),this.templateHelper.triggerResizeDueWidthAndHeightUpdates(),this.templateHelper.resetListLayout())}},{key:"maxWidth",get:function(){return(0,s.default)(this._maxWidth)&&(this._maxWidth=""),this._maxWidth},set:function(e){(e=this._checkAndSetStringValue(e))!==this._maxWidth&&(this._maxWidth=e,this.setAttribute("maxwidth",this._maxWidth))}},{key:"isLtr",value:function(){return!!this.isVertical||this.direction===r.Ch5Common.DIRECTION[0]}},{key:"getMaxWidthInPxFromPercentage",value:function(){var e=this.maxWidth;if(this.parentElement){var t=this.parentElement.getBoundingClientRect(),i=r.Ch5Common.extractMeasurementNumber(e);e="".concat(String(t.width*i/100),"px")}return e}},{key:"getMaxHeightInPxFromPercentage",value:function(){var e=this.maxHeight;if(this.parentElement){var t=this.parentElement.getBoundingClientRect(),i=r.Ch5Common.extractMeasurementNumber(e);e="".concat(String(t.height*i/100),"px")}return e}},{key:"calculatePxSize",value:function(e,t){switch(r.Ch5Common.getMeasurementUnitFromSizeValue(e)){case"%":if("function"==typeof t)return t();break;case"vw":var i=r.Ch5Common.extractMeasurementNumber(e);return"".concat(r.Ch5Common.convertVwUnitsToPx(i),"px")}return e}},{key:"minHeight",get:function(){return(0,s.default)(this._minHeight)&&(this._minHeight=""),this._minHeight},set:function(e){(e=this._checkAndSetStringValue(e))!==this._minHeight&&(this._minHeight=e,this.setAttribute("minheight",e),this.templateHelper.triggerResizeDueWidthAndHeightUpdates(),this.templateHelper.resetListLayout())}},{key:"maxHeight",get:function(){return this._maxHeight},set:function(e){(e=this._checkAndSetStringValue(e))!==this._maxHeight&&(this._maxHeight=e,this.setAttribute("maxheight",e),this.templateHelper.triggerResizeDueWidthAndHeightUpdates(),this.templateHelper.resetListLayout())}},{key:"indexId",get:function(){return(0,s.default)(this._indexId)&&(this._indexId="1"),this._indexId},set:function(e){(0,s.default)(e)&&(e="1"),e!==this._indexId&&(this._indexId=e,this.setAttribute("indexid",e))}},{key:"pagedSwipe",get:function(){return null==this._pagedSwipe&&(this._pagedSwipe=!1),this._pagedSwipe},set:function(e){null==e&&(e=!1),e!==this._pagedSwipe&&(this._pagedSwipe=e,!0===e?this.setAttribute("pagedswipe",e.toString()):this.removeAttribute("pagedswipe"))}},{key:"endless",get:function(){return this._endless},set:function(e){null==e&&(e=!1),e!==this._endless&&(this._endless=e,!0===e?this.setAttribute("endless",e.toString()):this.removeAttribute("endless"))}},{key:"scrollbar",get:function(){return this._scrollbar},set:function(e){(0,s.default)(e)&&(e=!1),e!==this._scrollbar&&(this._scrollbar=e,!0===e?this.setAttribute("scrollbar",e.toString()):this.removeAttribute("scrollbar"))}},{key:"scrollToTime",get:function(){return null==this._scrollToTime?this._defaultScrollToTime:this._scrollToTime},set:function(e){(0,s.default)(e)&&(e=this._defaultScrollToTime),e!==this._scrollToTime&&(this._scrollToTime=e,this.setAttribute("scrolltotime",e.toString()))}},{key:"templateVars",get:function(){return this._templateVars},set:function(e){this._templateVars=e}},{key:"direction",get:function(){return this._direction},set:function(e){null==e&&(e="ltr"),r.Ch5Common.DIRECTION.indexOf(e)>=0?this._direction=e:this._direction=r.Ch5Common.DIRECTION[0]}},{key:"isPointerActive",get:function(){return this._isPointerActive},set:function(e){this._isPointerActive===e||(0,s.default)(e)||(this._isPointerActive=e)}},{key:"pointerId",get:function(){return this._pointerId},set:function(e){this._pointerId=e}},{key:"decelerating",get:function(){return this._decelerating},set:function(e){(0,s.default)(e)||this.decelerating===e||(this._decelerating=e)}},{key:"decelVelocity",get:function(){return this._decelVelocity},set:function(e){(0,s.default)(e)||this._decelVelocity===e||(this._decelVelocity=e)}},{key:"receiveStateSize",get:function(){return this._attributeValueAsString("receivestatesize")},set:function(e){var t=this;this._receiveStateSize===e||(0,s.default)(e)||(this._receiveStateSize=e,this.setAttribute("receivestatesize",e),this._receiveStateSizeSub=this.signalManager.subscribeToSignal(0,this._receiveStateSize,this.receiveStateSizeSub,function(e){var i=e;if(null!==i||void 0!==i)if(i>=0&&i<1001){var n=t._items.length;if(t.setAttribute("size",""+i),t.endless)t.animationHelper.maxOffsetTranslate=void 0,t.shouldUpdateListAndPosition(n);else{var s=t.bufferAmount||0,r=t.animationHelper.adjustMaxOffset(s>0);t.animationHelper.maxOffsetTranslate=r,t.shouldUpdateListAndPosition(n)}}else i>1e3&&t.info("List size exceded : ".concat(i," ; "))}))}},{key:"getLayoutInfo",value:function(){if(!this.bufferAmount)return this.sizeResolver;var e=this.getItemsPerPage(),t=this.getItemSize(),i=this.size||0;return{hiddenListSize:(i-e)*t,fullListSize:i*t,viewPortSize:this.sizeResolver.viewPortSize}}},{key:"receiveStateScrollTo",get:function(){return this._attributeValueAsString("receivestatescrollto")},set:function(e){this._receiveStateScrollTo===e||(0,s.default)(e)||(this._receiveStateScrollTo=e,this.setAttribute("receivestatescrollto",e))}},{key:"setScrollToContent",value:function(){var e=this;setTimeout(function(){e._receiveStateScrollToSub=e.signalManager.subscribeToSignal(0,e.receiveStateScrollTo,e.receiveStateScrollToSub,function(t){var i=t;if(e.info("SignalSubscriptionCallback value is ",i),null!==i||void 0!==i){var n=e.bufferAmount||0,s=e.animationHelper.adjustMaxOffset(n>0);e.animationHelper.maxOffsetTranslate=s,e.animationHelper.signalScrollTo(i),e.receiveStateScrollToChanged=!0}})},100)}},{key:"receiveStateTemplateVars",get:function(){return this._attributeValueAsString("receivestatetemplatevars")},set:function(e){var t=this;this._receiveStateTemplateVars===e||(0,s.default)(e)||(this._receiveStateTemplateVars=e,this.setAttribute("receivestatetemplatevars",e),this._receiveStateTemplateVarsSub=this.signalManager.subscribeToSignal("",this.receiveStateTemplateVars,this.receiveStateTemplateVarsSub,function(e){var i=e;(0,s.default)(i)||(t.templateVars=i,t.templateHelper.resizeList(t.divList,t.templateVars))}))}},{key:"receiveStateSizeSub",get:function(){return this._receiveStateSizeSub},set:function(e){this._receiveStateSizeSub=e}},{key:"receiveStateScrollToSub",get:function(){return this._receiveStateScrollToSub},set:function(e){this._receiveStateScrollToSub=e}},{key:"receiveStateTemplateVarsSub",get:function(){return this._receiveStateTemplateVarsSub},set:function(e){this._receiveStateTemplateVarsSub=e}},{key:"selected",get:function(){var e=this.getAttribute("selected");return(0,s.default)(e)?0:parseInt(e,10)},set:function(e){this.setAttribute("selected",e.toString())}},{key:"disableAnimation",get:function(){return this.hasAttribute("disableAnimation")},set:function(e){(e=Boolean(e))?this.setAttribute("disableAnimation",""):this.removeAttribute("disableAnimation")}},{key:"appendPosition",get:function(){return this._appendPosition},set:function(e){(0,s.default)(e)||this._appendPosition===e||(this._appendPosition=e)}},{key:"pointerFirstX",get:function(){return this._pointerFirstX},set:function(e){(0,s.default)(e)||this.pointerFirstX===e||(this._pointerFirstX=e)}},{key:"pointerLastX",get:function(){return this._pointerLastX},set:function(e){(0,s.default)(e)||this._pointerLastX===e||(this._pointerLastX=e)}},{key:"pointerCurrentX",get:function(){return this._pointerCurrentX},set:function(e){(0,s.default)(e)||this._pointerCurrentX===e||(this._pointerCurrentX=e)}},{key:"pointerCurrentY",get:function(){return this._pointerCurrentY},set:function(e){(0,s.default)(e)||this._pointerCurrentY===e||(this._pointerCurrentY=e)}},{key:"pointerFirstY",get:function(){return this._pointerFirstY},set:function(e){(0,s.default)(e)||this._pointerFirstY===e||(this._pointerFirstY=e)}},{key:"pointerLastY",get:function(){return this._pointerLastY},set:function(e){(0,s.default)(e)||this._pointerLastY===e||(this._pointerLastY=e)}},{key:"lastDraggedLayoutIndex",get:function(){return this._lastDraggedLayoutIndex},set:function(e){(0,s.default)(e)||this._lastDraggedLayoutIndex===e||(this._lastDraggedLayoutIndex=e)}},{key:"trackingPointsX",get:function(){return this._trackingPointsX},set:function(e){(0,s.default)(e)||(this._trackingPointsX=e)}},{key:"trackingPointsY",get:function(){return this._trackingPointsY},set:function(e){(0,s.default)(e)||(this._trackingPointsY=e)}},{key:"items",get:function(){return this._items},set:function(e){(0,s.default)(e)||(this._items=e)}},{key:"selectedIteration",get:function(){return this._selectedIteration},set:function(e){(0,s.default)(e)||this._selectedIteration===e||(this._selectedIteration=e)}},{key:"wrapperTranslateX",get:function(){return this._wrapperTranslateX},set:function(e){(0,s.default)(e)||this._wrapperTranslateX===e||(this._wrapperTranslateX=e)}},{key:"wrapperTranslateY",get:function(){return this._wrapperTranslateY},set:function(e){(0,s.default)(e)||this._wrapperTranslateY===e||(this._wrapperTranslateY=e)}},{key:"minDecelVelocity",get:function(){return this._minDecelVelocity},set:function(e){(0,s.default)(e)||this._minDecelVelocity===e||(this._minDecelVelocity=e)}},{key:"maxDecelVelocity",set:function(e){(0,s.default)(e)||this._maxDecelVelocity===e||(this._maxDecelVelocity=e)}},{key:"divListWidth",get:function(){return this._divListWidth},set:function(e){(0,s.default)(e)||this._divListWidth===e||(this._divListWidth=e)}},{key:"divListHeight",get:function(){return this._divListHeight},set:function(e){(0,s.default)(e)||this._divListHeight===e||(this._divListHeight=e)}},{key:"lastViewIndex",get:function(){return this._lastViewIndex},set:function(e){(0,s.default)(e)||this._lastViewIndex===e||(this._lastViewIndex=e)}},{key:"attraction",get:function(){return this._attraction},set:function(e){(0,s.default)(e)||this._lastViewIndex===e||(this._attraction=e)}},{key:"friction",get:function(){return this._friction},set:function(e){(0,s.default)(e)||this._lastViewIndex===e||(this._friction=e)}},{key:"dragTicking",get:function(){return this._dragTicking},set:function(e){(0,s.default)(e)||this._dragTicking===e||(this._dragTicking=e)}},{key:"infiniteLoop",get:function(){return this._infiniteLoop},set:function(e){(0,s.default)(e)||this._infiniteLoop===e||(this._infiniteLoop=e)}},{key:"bufferedItems",get:function(){return this._bufferedItems},set:function(e){(0,s.default)(e)||this._bufferedItems===e||(this._bufferedItems=e)}},{key:"scrollToTimeReference",get:function(){return this._scrollToTimeReference},set:function(e){(0,s.default)(e)||this._scrollToTimeReference===e||(this._scrollToTimeReference=e)}},{key:"storedOffsetWidth",get:function(){return this._storedOffsetWidth},set:function(e){(0,s.default)(e)||(this._storedOffsetWidth=e)}},{key:"storedOffsetHeight",get:function(){return this._storedOffsetHeight},set:function(e){(0,s.default)(e)||(this._storedOffsetHeight=e)}},{key:"previousViewChild",value:function(){this.selected=this.computePrevious(this.selected)}},{key:"nextViewChild",value:function(){this.selected=this.computeNext(this.selected)}},{key:"onResizeList",value:function(){this._items=this._getItems();var e=0===this._items.length&&-1===this._lastViewIndex;this._internalUpdate(),e&&(this.selected=this.selected)}},{key:"getItemDataIndexFromLayoutIndex",value:function(e){for(var t=e;t<0;)t+=this._items.length;return t%this._items.length}},{key:"computeNext",value:function(e){var t=e;return e<this._lastViewIndex?t=e+1:this.endless&&(this._infiniteLoop&&(this._selectedIteration+=1),t=0),(0,l.clamp)(t,0,this._lastViewIndex)}},{key:"computePrevious",value:function(e){var t=e;return e>0?t=e-1:this.endless&&(this._infiniteLoop&&(this._selectedIteration-=1),t=this._lastViewIndex),(0,l.clamp)(t,0,this._lastViewIndex)}},{key:"update",value:function(){var e=this;clearTimeout(this._updateTimer),this._updateTimer=window.setTimeout(function(){e._internalUpdate()},50)}},{key:"handleShow",value:function(e){_get(_getPrototypeOf(n.prototype),"handleShow",this).call(this,e),this.templateHelper.resizeList(this.divList,this.templateVars)}},{key:"isPagedSwipeCompatible",value:function(e){if(!e)return!0;var t=this.size||0,i=this.sizeResolver.getItemsPerPage();return!(i>t-i&&(this.invokePropIncompatibility("pagedSwipe"),1))}},{key:"_getCssBiggestSizeValue",value:function(e,t){var i=t;if(e){var n=r.Ch5Common.getMeasurementPxNumber(e);i<n&&(i=n)}return i}},{key:"shouldUpdateListAndPosition",value:function(e){this._items=this._getItems(),this._items.length<e?this.isVertical?this.resetListAndPosition():this.isHorizontal&&this.resetListAndPosition():this.endless?this.animationHelper.stop():this._items.length>e&&this.direction===r.Ch5Common.DIRECTION[1]&&this.resetListAndPosition()}},{key:"resetListAndPosition",value:function(){this.animationHelper.stop(),this.currentXPosition=0,this.currentYPosition=0,this.templateHelper.resizeList(this.divList,this.templateVars)}},{key:"_getFirstRenderedItemsNr",value:function(e){var t=this.divList.getBoundingClientRect(),i=this.getFirstItemSizingDetails(),s=0;if(this.orientation===n.ORIENTATION[0]){var r=this.calculatePxSize(this.maxHeight,this.getMaxHeightInPxFromPercentage.bind(this)),a=this._getCssBiggestSizeValue(r,t.height),o=Math.max(this.itemOffsetHeight,i.height);s=Math.ceil(a/o)}else{var l=this.calculatePxSize(this.maxWidth,this.getMaxWidthInPxFromPercentage.bind(this)),u=this._getCssBiggestSizeValue(l,t.width),c=Math.max(this.itemOffsetWidth,i.width);s=Math.ceil(u/c)}return(s*=2)<=e?s:e}},{key:"getFirstItemSizingDetails",value:function(){return this.divList.children[0].getBoundingClientRect()}},{key:"setCurrentPosition",value:function(e){this.isHorizontal?this.currentXPosition=e:this.currentYPosition=e}},{key:"_startReadyObserver",value:function(){var e=this,t=new MutationObserver(function(i){e.info("mutationObserver Callback"),i.forEach(function(i){if(e.info("mutation",i),"childList"===i.type&&i.addedNodes&&i.addedNodes.length>0){for(var n=null,s=0;s<i.addedNodes.length;s++)if("template"===i.addedNodes[s].nodeName.toLowerCase()){n=i.addedNodes[s];break}if(null!==n){e.info("templateElement innerhtml",n.innerHTML);var r=n.innerHTML;""===r.trim()&&(r=n.firstElementChild.outerHTML,e._tplHtmlString=r,e.initializations(),t.disconnect(),n.remove())}}})});t.observe(this,{childList:!0,subtree:!1,attributes:!1,characterData:!1})}},{key:"_getItems",value:function(){return Array.from(this.divList.children).map(function(e,t){return{element:e,layoutIndex:t,translateX:0,translateY:0}})||[]}},{key:"_internalUpdate",value:function(){this._updateInfiniteLoop(),this._computeItemsPerViewLayout(),this.templateHelper.checkAndSetSizes()}},{key:"_updateInfiniteLoop",value:function(){this._infiniteLoop=this.endless&&this._computeLastViewIndex()>1}},{key:"_computeItemsPerViewLayout",value:function(){this._lastViewIndex=this._infiniteLoop?this._items.length-1:this._computeLastViewIndex(),!this._infiniteLoop&&this.selected>this._lastViewIndex&&(this.selected=this._lastViewIndex)}},{key:"_computeLastViewIndex",value:function(){return Math.max(0,this._items.length-this.getItemsPerPage())}},{key:"initializeAttributes",value:function(){this.info("initializeAttributes()"),_get(_getPrototypeOf(n.prototype),"initAttributes",this).call(this),this.hasAttribute("size")?this.size=this.previousSize=Number(this.getAttribute("size")):this.size=this.previousSize=1,this.hasAttribute("orientation")?this.orientation=this.getAttribute("orientation"):this.orientation=n.ORIENTATION[0],this.hasAttribute("bufferamount")&&(this.bufferAmount=Number(this.getAttribute("bufferamount"))),this.hasAttribute("itemheight")&&(this.itemHeight=this.getAttribute("itemheight")),this.hasAttribute("itemwidth")&&(this.itemWidth=this.getAttribute("itemwidth")),this.hasAttribute("minwidth")&&(this.minWidth=this.getAttribute("minwidth")),this.hasAttribute("maxwidth")&&(this.maxWidth=this.getAttribute("maxwidth")),this.hasAttribute("minheight")&&(this.minHeight=this.getAttribute("minheight")),this.hasAttribute("maxheight")&&(this.maxHeight=this.getAttribute("maxheight")),this.hasAttribute("indexid")&&(this.indexId=this.getAttribute("indexid")),this.hasAttribute("pagedswipe")&&(this.pagedSwipe=this.toBoolean(this.getAttribute("pagedswipe"))),this.hasAttribute("endless")?this.endless=this.toBoolean(this.getAttribute("endless")):this.endless=!1,this.hasAttribute("scrollbar")?this.scrollbar=this.toBoolean(this.getAttribute("scrollbar"),!0):this.scrollbar=!1,this.hasAttribute("scrolltotime")?this.scrollToTime=Number(this.getAttribute("scrolltotime")):this.scrollToTime=500,this.hasAttribute("dir")&&(this.direction=this.getAttribute("dir")),this.hasAttribute("receivestatesize")&&(this.receiveStateSize=this.getAttribute("receivestatesize")),this.hasAttribute("receivestatescrollto")&&(this.receiveStateScrollTo=this.getAttribute("receivestatescrollto")),this.hasAttribute("receivestatetemplatevars")&&(this.receiveStateTemplateVars=this.getAttribute("receivestatetemplatevars")),this.info("Ch5 list initialized")}},{key:"initializeEvents",value:function(){_get(_getPrototypeOf(n.prototype),"attachEventListeners",this).call(this),this.eventManager.initializeEvents(this.divList),this.info("Ch5 list - events")}},{key:"removeEvents",value:function(){_get(_getPrototypeOf(n.prototype),"removeEventListeners",this).call(this),this.eventManager.removeEvents(this.divList)}}],[{key:"registerSignalAttributeTypes",value:function(){b.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(n.ELEMENT_NAME,n.SIGNAL_ATTRIBUTE_TYPES)}},{key:"registerSignalAttributeDefaults",value:function(){b.Ch5SignalAttributeRegistry.instance.addElementDefaultAttributeEntries(n.ELEMENT_NAME,{contractName:{attributes:["contractname"],defaultValue:""},booleanJoin:{attributes:["booleanjoinoffset"],defaultValue:"0"},numericJoin:{attributes:["numericjoinoffset"],defaultValue:"0"},stringJoin:{attributes:["stringjoinoffset"],defaultValue:"0"}})}},{key:"registerCustomElement",value:function(){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(n.ELEMENT_NAME)&&window.customElements.define(n.ELEMENT_NAME,n)}},{key:"observedAttributes",get:function(){return r.Ch5Common.observedAttributes.concat(["selected","disableanimation","size","orientation","bufferamount","itemheight","itemwidth","minwidth","maxwidth","minheight","maxheight","indexid","pagedswipe","endless","scrollbar","scrolltotime","direction","receivestateshow","receivestatesize","receivestatescrollto","receivestatetemplatevars"])}}]),n}();t.Ch5List=m,m.ELEMENT_NAME="ch5-list",m.ORIENTATION=["vertical","horizontal"],m.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},r.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatesize:{direction:"state",numericJoin:1,contractName:!0},receivestatescrollto:{direction:"state",numericJoin:1,contractName:!0},receivestatetemplatevars:{direction:"state",stringJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),m.COMPONENT_DATA={SCALE:{default:m.ORIENTATION[0],values:m.ORIENTATION,key:"scale",classListPrefix:"ch5-orientation--"}},m.ENABLED_CLASS_NAME="ch5-list",m.ITEMCLASS="list-item",m.registerCustomElement(),m.registerSignalAttributeTypes(),m.registerSignalAttributeDefaults()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Log=void 0;var n=i(0),s=i(74);t.Ch5Log=function(e){_inherits(i,_wrapNativeSuper(HTMLElement));var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._id="",e._crId="",e._crId=n.Ch5Uid.getUid(),e.logger=new s.Ch5CommonLog(!1,!1,e._crId),e}return _createClass(i,[{key:"getCrId",value:function(){return this._crId}},{key:"info",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.logger.info(e,i)}},{key:"attributeChangedCallback",value:function(e,t,i){if(t!==i)switch(this.info('ch5-common attributeChangedCallback("'+e+'","'+t+'","'+i+')"'),e){case"debug":this.hasAttribute("debug")&&!0===this.toBoolean(this.getAttribute("debug"),!0)?this.logger.isDebugEnabled=!0:this.logger.isDebugEnabled=!1;break;case"trace":this.hasAttribute("trace")&&!0===this.toBoolean(this.getAttribute("trace"),!0)?this.logger.isTraceEnabled=!0:this.logger.isTraceEnabled=!1}}},{key:"initAttributes",value:function(){this.hasAttribute("debug")&&!0===this.toBoolean(this.getAttribute("debug"),!0)?this.logger.isDebugEnabled=!0:this.logger.isDebugEnabled=!1,this.hasAttribute("trace")&&!0===this.toBoolean(this.getAttribute("trace"),!0)?this.logger.isTraceEnabled=!0:this.logger.isTraceEnabled=!1}},{key:"toBoolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(String(e).toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1;case"":case null:case void 0:case"null":case"undefined":return!0===t;default:return!1}}}],[{key:"observedAttributes",get:function(){return["debug","trace"]}}]),i}()},function(e,t,i){var n=i(79),s=i(257),r=i(256),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?s(e):r(e)}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5CoreIntersectionObserver=void 0;var s=n(i(1)),r=function(){function e(t){_classCallCheck(this,e),this._intersectionObserverConfig={root:null,rootMargin:t&&t.length>0?t:e.observerRootMargin,threshold:e.observerTreshhold},this._intersectionObserver=new IntersectionObserver(this.intersectionObserverCallback,this._intersectionObserverConfig)}return _createClass(e,[{key:"intersectionObserverCallback",value:function(e,t){e.forEach(function(e){var t=e.target;t.elementIntersectionEntry=e,t.elementIsInViewPort=e.isIntersecting,e.target.viewportCallBack(e.target,e.isIntersecting)})}},{key:"observe",value:function(e,t){s.default.isNil(e)||(e.viewportCallBack=t,this._intersectionObserver.observe(e))}},{key:"unobserve",value:function(e){s.default.isNil(e)||(delete e.viewportCallBack,this._intersectionObserver.unobserve(e))}},{key:"disconnect",value:function(){this._intersectionObserver instanceof IntersectionObserver&&this._intersectionObserver.disconnect()}}],[{key:"getInstance",value:function(t){if(e._instance instanceof e)return e._instance;var i=t&&t.length>0?t:"";return e._instance=new e(i),e._instance}}]),e}();t.Ch5CoreIntersectionObserver=r,r.observerTreshhold=[.2,.3,.4,.5,.6,.7,.8,.9,.91,.92,.93,1],r.observerRootMargin="0px"},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.languageChangedSignalName=t.translationFactory=t.Ch5TranslationFactory=void 0;var s=n(i(98)),r=i(93),a=function(){function e(){_classCallCheck(this,e),this.receiveUpdateSub="",this._translator={}}return _createClass(e,[{key:"translator",get:function(){return this._translator},set:function(e){Object.keys(e).length>0&&(this._translator=e,this.runListeners())}},{key:"runListeners",value:function(){return new r.Ch5TranslationListeners(this.translator)}}]),e}();t.Ch5TranslationFactory=a,t.translationFactory=new a,t.translationFactory.translator=s.default,t.languageChangedSignalName="language_changed"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Debug=void 0;var n=i(18),s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"shouldDisplay",value:function(t){return e._config.hasOwnProperty(t)&&!0===e._config[t]}},{key:"info",value:function(t,i){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];e.shouldDisplay(t)&&console.log(t+":"+i,s)}},{key:"loadConfig",value:function(t){e._config=t}},{key:"setConfigKeyValue",value:function(t,i){e._config[t]=i}},{key:"getConfig",value:function(){return e._config}},{key:"getConfigKeyValue",value:function(t){return e._config[t]}},{key:"enableAll",value:function(){for(var t in e._config)e._config.hasOwnProperty(t)&&(e._config[t]=!0)}},{key:"disableAll",value:function(){for(var t in e._config)e._config.hasOwnProperty(t)&&(e._config[t]=!1)}}]),e}();t.Ch5Debug=s,s.DEBUG_MESSAGE_FILTER_SOURCE_KEY="Logger.messagesFilter.source",s.DEBUG_MESSAGE_FILTER_LEVEL_KEY="Logger.messagesFilter.defaultLevel",s.CONSOLE_OVERRIDDEN=!1,s._defaultConfig={"Ch5SignalBridge.constructor":!1,"Ch5SignalBridge.subscribe":!1,"Ch5SignalBridge.unsubscribe":!1,"Ch5SignalBridge.publish":!1,"Ch5SignalBridge.sendBooleanToNative":!1,"Ch5SignalBridge.sendIntegerToNative":!1,"Ch5SignalBridge.sendStringToNative":!1,"Ch5SignalBridge.sendObjectToNative":!1,bridgeReceiveIntegerFromNative:!1,bridgeReceiveBooleanFromNative:!1,bridgeReceiveStringFromNative:!1,bridgeReceiveObjectFromNative:!1,"bridge.rcbTimerCallback":!1,"bridge.clearTimersForSignal":!1,"bridge.rcbIntervalTimerCallback":!1,Ch5Resync:!1,"Logger.messagesFilter.defaultLevel":n.LogLevelEnum.warning},s._config=s._defaultConfig},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentHelper=void 0;var n=i(0),s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"getAttributeAsString",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t=t.toLowerCase(),e&&e.hasAttribute([t])&&(i=e.getAttribute([t])),i}},{key:"getAttributeAsBool",value:function(e,t,i){var n=i;return t=t.toLowerCase(),e.hasAttribute([t])&&(n="true"===e.getAttribute([t])||!0===e.getAttribute([t])),n}},{key:"clearComponentContent",value:function(e){var t=e.getElementsByClassName(e.primaryCssClass);Array.from(t).forEach(function(e){e.remove()})}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"setAttributeToElement",value:function(e,t,i){t=t.toLowerCase();var n=null===i?"":i;return!e.hasAttribute(t)&&n.length>0?e.setAttribute(t,n):e.hasAttribute(t)&&(n=e.getAttribute(t)),n}},{key:"getBoolFromString",value:function(t){return!e.isNullOrUndefined(t)&&"true"===t}},{key:"clearSignalValue",value:function(e,t,i,s){if(""!==t[i]&&""!==t[s]){var r=n.Ch5Signal.getSubscriptionSignalName(t[s]),a=e.getStringSignal(r);null!==a&&(a.unsubscribe(t[i]),t[s]="")}}},{key:"setAttributesBasedValue",value:function(e,t,i){return e?t:i}},{key:"setAttributeValueOnControl",value:function(e,t,i,n,s){var r="_"+t;i!==e[r]&&(n.indexOf(i)>=0?e[r]=i:e[r]=n[0],null!==e[r]&&e.setAttribute(t,e[r]),null!==s&&s())}},{key:"setAttributeValueOnControlAsBool",value:function(e,t,i,n,s){var r="_"+t;i!==e[r]&&(e[r]="boolean"==typeof i?i:n,null!==e[r]&&e.setAttribute(t,e[r].toString()),null!==s&&s())}}]),e}();t.ComponentHelper=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CH5DpadUtils=void 0;var n=i(0),s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getAttributeAsString",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t=t.toLowerCase(),e&&e.hasAttribute([t])&&(i=e.getAttribute([t])),i}},{key:"getAttributeAsBool",value:function(e,t,i){var n=i;return t=t.toLowerCase(),e.hasAttribute([t])&&(n="true"===e.getAttribute([t])||!0===e.getAttribute([t])),n}},{key:"clearComponentContent",value:function(e){var t=e.getElementsByClassName(e.primaryCssClass);Array.from(t).forEach(function(e){e.remove()})}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"setAttributeToElement",value:function(e,t,i){t=t.toLowerCase();var n=null===i?"":i;return!e.hasAttribute(t)&&n.length>0?e.setAttribute(t,n):e.hasAttribute(t)&&(n=e.getAttribute(t)),n}},{key:"getBoolFromString",value:function(t){return!e.isNullOrUndefined(t)&&"true"===t}},{key:"getImageContainer",value:function(e){var t=document.createElement("span");return t.classList.add("dpad-btn-icon"),t.classList.add("image-url"),t.setAttribute("data-img-url",e),t}},{key:"getIconContainer",value:function(){var e=document.createElement("span");return e.classList.add("dpad-btn-icon"),e.classList.add("fas"),e}},{key:"getLabelContainer",value:function(e){var t=document.createElement("span");return t.classList.add(e),t}},{key:"clearSignalValue",value:function(e,t,i,s){if(""!==t[i]&&""!==t[s]){var r=n.Ch5Signal.getSubscriptionSignalName(t[s]),a=e.getStringSignal(r);null!==a&&(a.unsubscribe(t[i]),t[s]="")}}},{key:"setAttributesBasedValue",value:function(e,t,i){return e?t:i}},{key:"setAttributeValueOnControl",value:function(e,t,i,n,s){var r="_"+t;i!==e[r]&&(n.indexOf(i)>=0?e[r]=i:e[r]=n[0],null!==e[r]&&e.setAttribute(t,e[r]),null!==s&&s())}},{key:"createIconTag",value:function(e){(void 0===e._icon.classList||e._icon.classList.length<=0)&&(e._icon=document.createElement("span"))}}]),e}();t.CH5DpadUtils=s,s.sendEventOnClickSigCountToAdd={up:0,down:1,left:2,right:3,center:4},s.contractSuffix={up:"Up",down:"Down",left:"Left",right:"Right",center:"Center"}},function(e,t,i){"use strict";(function(t){var n=i(6),s=i(145),r=i(50),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=i(49):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(e=i(49)),e}(),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(o(t,"application/json"),function(e,t,i){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,i=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,a=!i&&"json"===this.responseType;if(a||s&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw r(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){l.headers[e]={}}),n.forEach(["post","put","patch"],function(e){l.headers[e]=n.merge(a)}),e.exports=l}).call(this,i(146))},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(161),t),s(i(56),t)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5CommonInput=void 0;var s=i(3),r=n(i(14)),a=function(e){_inherits(i,s.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._elInput={},e._signalValueSyncTimeout=1500,e._cleanValue="",e._clean=!0,e._dirtyValue="",e._dirty=!1,e._submitted=!1,e._dirtyTimerHandle=null,e._feedbackMode="",e._value="",e._required=!1,e._ondirtyCallback={},e._oncleanCallback={},e}return _createClass(i,[{key:"getDirty",value:function(){return"submit"===this.feedbackMode&&this._dirty}},{key:"feedbackMode",get:function(){return this._feedbackMode},set:function(e){this._feedbackMode!==e&&(i.FEEDBACKMODES.indexOf(e)<0&&(e=i.FEEDBACKMODES[0]),this.setAttribute("feedbackMode",e),this._feedbackMode=e)}},{key:"signalValueSyncTimeout",get:function(){return this._signalValueSyncTimeout},set:function(e){e=Number(e),isNaN(e)&&(e=1500),this._signalValueSyncTimeout!==e&&(this.setAttribute("signalValueSyncTimeout",e+""),this._signalValueSyncTimeout=e)}},{key:"cleanValue",get:function(){return this._cleanValue},set:function(e){this.cleanValue===e||null!=e||(e=""),this._cleanValue=e}},{key:"dirtyValue",get:function(){return this._dirtyValue},set:function(e){this.dirtyValue===e||null!=e||(e=""),this._dirtyValue=e}},{key:"value",get:function(){return this._value},set:function(e){this.info("Set input value ("+e+")"),this.value!==e&&(null!=e||(e="")),this._value=e}},{key:"setValue",value:function(e){this.value=e}},{key:"getValue",value:function(){return this.value}},{key:"required",get:function(){return this._required},set:function(e){this.required===e||null!=e||(e=!1),this._required=e,this._elInput instanceof HTMLElement&&(!0!==this._required?this._elInput.removeAttribute("required"):this._elInput.required=this._required)}},{key:"oncleanCallback",get:function(){return this._oncleanCallback},set:function(e){null!=e||(e={}),this._oncleanCallback=e}},{key:"onclean",get:function(){return this.oncleanCallback},set:function(e){this.oncleanCallback=e}},{key:"ondirtyCallback",get:function(){return this._ondirtyCallback},set:function(e){null!=e||(e={}),this._ondirtyCallback=e}},{key:"ondirty",get:function(){return this.ondirtyCallback},set:function(e){this.ondirtyCallback=e}},{key:"setClean",value:function(){this._clean=!0,this._dirty=!1,this._submitted=!1}},{key:"setDirty",value:function(){this._dirty=!0,this._clean=!1}},{key:"getValid",value:function(){return!0}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n),e){case"required":this.required="false"!==n;break;case"signalvaluesynctimeout":this.hasAttribute("signalvaluesynctimeout")?this.signalValueSyncTimeout=n:this.signalValueSyncTimeout="";break;case"feedbackmode":this.hasAttribute("feedbackmode")?this.feedbackMode=n:this.feedbackMode=i.FEEDBACKMODES[0];break;case"onclean":this.onclean=new r.default(this,n);break;case"ondirty":this.ondirty=new r.default(this,n)}}},{key:"initAttributes",value:function(){if(_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("tabindex")&&(this.tabIndex=Number(this.getAttribute("tabindex"))),this.hasAttribute("disabled")&&(this.disabled=!0),this.hasAttribute("feedbackmode")?this.feedbackMode=this.getAttribute("feedbackmode"):this.feedbackMode=i.FEEDBACKMODES[0],this.hasAttribute("required")){var e="false"!==this.getAttribute("required");this.required=e}this.hasAttribute("onclean")&&(this.onclean=new r.default(this,this.getAttribute("onclean"))),this.hasAttribute("ondirty")&&(this.ondirty=new r.default(this,this.getAttribute("ondirty")))}},{key:"highlightInputIfNotValid",value:function(){this.getValid()?this.handleModifierClass("error","remove"):this.handleModifierClass("error")}},{key:"handleModifierClass",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",i=this.cssClassPrefix+"--"+e;"add"===t?(this.classList.add(i),this._elInput.classList.add(i)):"remove"===t&&(this.classList.remove(i),this._elInput.classList.remove(i))}},{key:"runEventHandlers",value:function(e,t){switch(e){case"clean":this.runOncleanHandler(t);break;case"dirty":this.runOndirtyHandler(t)}}},{key:"runOncleanHandler",value:function(e){this.onclean instanceof r.default?this.onclean.run(e):this.onclean instanceof Function&&this.onclean.call(this,e)}},{key:"runOndirtyHandler",value:function(e){this.ondirty instanceof r.default?this.ondirty.run(e):this.ondirty instanceof Function&&this.ondirty.call(this,e)}}],[{key:"observedAttributes",get:function(){return["required","signalvaluesynctimeout","feedbackmode","onclean","ondirty"]}}]),i}();t.Ch5CommonInput=a,a.FEEDBACKMODES=["direct","submit"]},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ButtonMode=void 0;var s=i(17),r=i(10),a=i(26),o=n(i(1)),l="ch5-button-mode",u=function(e){_inherits(i,a.Ch5Log);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).logger.start("constructor()"),e._parentCh5Button=e.getParentButton(),e.logger.stop(),e}return _createClass(i,[{key:"labelInnerHTML",get:function(){return this.getAttribute("labelinnerhtml")},set:function(e){this.logger.start('set labelInnerHTML("'+e+'")'),null!==e?this.setAttribute("labelInnerHTML".toLowerCase(),e):this.removeAttribute("labelInnerHTML"),this._parentCh5Button.createButtonLabel(this),this._parentCh5Button.setButtonDisplay(),this.logger.stop()}},{key:"iconClass",get:function(){return this.getAttribute("iconclass")},set:function(e){this.validateAndSetAttributeWithStringType("iconClass",e)}},{key:"hAlignLabel",get:function(){return this.getAttribute("halignlabel")},set:function(e){this.validateAndSetAttributeWithCustomType("hAlignLabel",s.Ch5Button.HORIZONTAL_LABEL_ALIGNMENTS,e)}},{key:"vAlignLabel",get:function(){return this.getAttribute("valignlabel")},set:function(e){this.validateAndSetAttributeWithCustomType("vAlignLabel",s.Ch5Button.VERTICAL_LABEL_ALIGNMENTS,e)}},{key:"checkboxPosition",get:function(){return this.getAttribute("checkboxposition")},set:function(e){this.validateAndSetAttributeWithCustomType("checkboxPosition",s.Ch5Button.CHECKBOX_POSITIONS,e)}},{key:"iconPosition",get:function(){return this.getAttribute("iconposition")},set:function(e){this.validateAndSetAttributeWithCustomType("iconPosition",s.Ch5Button.ICON_POSITIONS,e)}},{key:"iconUrl",get:function(){return this.getAttribute("iconurl")},set:function(e){this.validateAndSetAttributeWithStringType("iconUrl",e)}},{key:"type",get:function(){return this.getAttribute("type")},set:function(e){this.logger.log('set type("'+e+'")'),this.validateAndSetAttributeWithCustomType("type",s.Ch5Button.TYPES,e)}},{key:"customClass",get:function(){return this.getAttribute("customclass")},set:function(e){this.logger.log('set customClass("'+e+'")'),this.validateAndSetAttributeWithStringType("customClass",e)}},{key:"customStyle",get:function(){return this.getAttribute("customstyle")},set:function(e){this.validateAndSetAttributeWithStringType("customStyle",e)}},{key:"connectedCallback",value:function(){if(this.logger.start("connectedCallback()",l),!(this._parentCh5Button instanceof s.Ch5Button))throw new Error("Invalid parent element for ch5-button-mode.");this.setAttribute("role",r.Ch5RoleAttributeMapping.ch5ButtonMode),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.logger.stop()}},{key:"disconnectedCallback",value:function(){this.logger.start("disconnectedCallback()",l),this.logger.stop()}},{key:"attributeChangedCallback",value:function(e,t,n){if(this.logger.start("attributeChangedCallback",l),t!==n)switch(this.logger.log('Ch5ButtonMode.attributeChangedCallback("'+e+'","'+t+'","'+n+')"'),e){case"type":this.hasAttribute("type")?this.type=n:this.type=null;break;case"labelinnerhtml":this.hasAttribute("labelinnerhtml")&&(this.labelInnerHTML=n);break;case"iconclass":this.hasAttribute("iconclass")&&(this.iconClass=n);break;case"customclass":this.hasAttribute("customclass")&&(this.customClass=n);break;case"customstyle":this.hasAttribute("customstyle")&&(this.customStyle=n);break;case"halignlabel":this.hasAttribute("halignlabel")?this.hAlignLabel=n:this.hAlignLabel=null;break;case"valignlabel":this.hasAttribute("valignlabel")?this.vAlignLabel=n:this.vAlignLabel=null;break;case"checkboxposition":this.hasAttribute("checkboxposition")&&(this.checkboxPosition=n);break;case"iconposition":this.hasAttribute("iconposition")&&(this.iconPosition=n);break;case"iconurl":this.hasAttribute("iconurl")&&(this.iconUrl=n);break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}this.logger.stop()}},{key:"validateAndSetAttributeWithCustomType",value:function(e,t,i){null!==i?t.indexOf(i)>=0?(this.setAttribute(e.toLowerCase(),i),this._parentCh5Button.setButtonDisplay()):this.removeAttribute(e):(this.removeAttribute(e),this._parentCh5Button.setButtonDisplay())}},{key:"validateAndSetAttributeWithStringType",value:function(e,t){null!==t?this.setAttribute(e.toLowerCase(),t):this.removeAttribute(e),this._parentCh5Button.setButtonDisplay()}},{key:"getParentButton",value:function(){return function e(t){return o.default.isNil(t)||"CH5-BUTTON"===t.nodeName.toString().toUpperCase()?t:e(t.parentNode)}(this.parentElement)}}],[{key:"observedAttributes",get:function(){return a.Ch5Log.observedAttributes.concat(["type","iconclass","halignlabel","valignlabel","checkboxposition","iconposition","iconurl","customclass","customstyle","labelinnerhtml"])}}]),i}();t.Ch5ButtonMode=u,u.ELEMENT_NAME="ch5-button-mode","object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(u.ELEMENT_NAME,u)},function(e,t,i){var n;!function(s,r,a,o){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=r.createElement("div"),h="function",d=Math.round,f=Math.abs,p=Date.now;function v(e,t,i){return setTimeout(C(e,i),t)}function g(e,t,i){return!!Array.isArray(e)&&(b(e,i[t],i),!0)}function b(e,t,i){var n;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==o)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function m(e,t,i){var n="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var t=new Error("get-stack-trace"),i=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=s.console&&(s.console.warn||s.console.log);return r&&r.call(s.console,n,i),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(e===o||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==o&&null!==n)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:Object.assign;var _=m(function(e,t,i){for(var n=Object.keys(t),s=0;s<n.length;)(!i||i&&e[n[s]]===o)&&(e[n[s]]=t[n[s]]),s++;return e},"extend","Use `assign`."),S=m(function(e,t){return _(e,t,!0)},"merge","Use `assign`.");function y(e,t,i){var n,s=t.prototype;(n=e.prototype=Object.create(s)).constructor=e,n._super=s,i&&l(n,i)}function C(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return _typeof(e)==h?e.apply(t&&t[0]||o,t):e}function A(e,t){return e===o?t:e}function T(e,t,i){b(O(t),function(t){e.addEventListener(t,i,!1)})}function w(e,t,i){b(O(t),function(t){e.removeEventListener(t,i,!1)})}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function I(e,t){return e.indexOf(t)>-1}function O(e){return e.trim().split(/\s+/g)}function P(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function L(e){return Array.prototype.slice.call(e,0)}function N(e,t,i){for(var n=[],s=[],r=0;r<e.length;){var a=t?e[r][t]:e[r];P(s,a)<0&&n.push(e[r]),s[r]=a,r++}return i&&(n=t?n.sort(function(e,i){return e[t]>i[t]}):n.sort()),n}function x(e,t){for(var i,n,s=t[0].toUpperCase()+t.slice(1),r=0;r<u.length;){if((n=(i=u[r])?i+s:t)in e)return n;r++}return o}var R=1;function M(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||s}var V="ontouchstart"in s,H=x(s,"PointerEvent")!==o,D=V&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=25,F=1,U=4,j=8,z=1,Y=2,W=4,G=8,q=16,X=Y|W,K=G|q,J=X|K,$=["x","y"],Z=["clientX","clientY"];function Q(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&i.handler(t)},this.init()}function ee(e,t,i){var n=i.pointers.length,s=i.changedPointers.length,r=t&F&&n-s==0,a=t&(U|j)&&n-s==0;i.isFirst=!!r,i.isFinal=!!a,r&&(e.session={}),i.eventType=t,function(e,t){var i=e.session,n=t.pointers,s=n.length;i.firstInput||(i.firstInput=te(t)),s>1&&!i.firstMultiple?i.firstMultiple=te(t):1===s&&(i.firstMultiple=!1);var r=i.firstInput,a=i.firstMultiple,l=a?a.center:r.center,u=t.center=ie(n);t.timeStamp=p(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=ae(l,u),t.distance=re(l,u),function(e,t){var i=t.center,n=e.offsetDelta||{},s=e.prevDelta||{},r=e.prevInput||{};t.eventType!==F&&r.eventType!==U||(s=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=s.x+(i.x-n.x),t.deltaY=s.y+(i.y-n.y)}(i,t),t.offsetDirection=se(t.deltaX,t.deltaY);var c=ne(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=f(c.x)>f(c.y)?c.x:c.y,t.scale=a?function(e,t){return re(t[0],t[1],Z)/re(e[0],e[1],Z)}(a.pointers,n):1,t.rotation=a?function(e,t){return ae(t[1],t[0],Z)+ae(e[1],e[0],Z)}(a.pointers,n):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,function(e,t){var i,n,s,r,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=j&&(l>B||a.velocity===o)){var u=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,h=ne(l,u,c);n=h.x,s=h.y,i=f(h.x)>f(h.y)?h.x:h.y,r=se(u,c),e.lastInterval=t}else i=a.velocity,n=a.velocityX,s=a.velocityY,r=a.direction;t.velocity=i,t.velocityX=n,t.velocityY=s,t.direction=r}(i,t);var h=e.element;k(t.srcEvent.target,h)&&(h=t.srcEvent.target),t.target=h}(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function te(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:d(e.pointers[i].clientX),clientY:d(e.pointers[i].clientY)},i++;return{timeStamp:p(),pointers:t,center:ie(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ie(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var i=0,n=0,s=0;s<t;)i+=e[s].clientX,n+=e[s].clientY,s++;return{x:d(i/t),y:d(n/t)}}function ne(e,t,i){return{x:t/e||0,y:i/e||0}}function se(e,t){return e===t?z:f(e)>=f(t)?e<0?Y:W:t<0?G:q}function re(e,t,i){i||(i=$);var n=t[i[0]]-e[i[0]],s=t[i[1]]-e[i[1]];return Math.sqrt(n*n+s*s)}function ae(e,t,i){i||(i=$);var n=t[i[0]]-e[i[0]],s=t[i[1]]-e[i[1]];return 180*Math.atan2(s,n)/Math.PI}Q.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(M(this.element),this.evWin,this.domHandler)}};var oe={mousedown:F,mousemove:2,mouseup:U},le="mousedown",ue="mousemove mouseup";function ce(){this.evEl=le,this.evWin=ue,this.pressed=!1,Q.apply(this,arguments)}y(ce,Q,{handler:function(e){var t=oe[e.type];t&F&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=U),this.pressed&&(t&U&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var he={pointerdown:F,pointermove:2,pointerup:U,pointercancel:j,pointerout:j},de={2:"touch",3:"pen",4:"mouse",5:"kinect"},fe="pointerdown",pe="pointermove pointerup pointercancel";function ve(){this.evEl=fe,this.evWin=pe,Q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}s.MSPointerEvent&&!s.PointerEvent&&(fe="MSPointerDown",pe="MSPointerMove MSPointerUp MSPointerCancel"),y(ve,Q,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),s=he[n],r=de[e.pointerType]||e.pointerType,a="touch"==r,o=P(t,e.pointerId,"pointerId");s&F&&(0===e.button||a)?o<0&&(t.push(e),o=t.length-1):s&(U|j)&&(i=!0),o<0||(t[o]=e,this.callback(this.manager,s,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),i&&t.splice(o,1))}});var ge={touchstart:F,touchmove:2,touchend:U,touchcancel:j},be="touchstart",me="touchstart touchmove touchend touchcancel";function _e(){this.evTarget=be,this.evWin=me,this.started=!1,Q.apply(this,arguments)}y(_e,Q,{handler:function(e){var t=ge[e.type];if(t===F&&(this.started=!0),this.started){var i=function(e,t){var i=L(e.touches),n=L(e.changedTouches);return t&(U|j)&&(i=N(i.concat(n),"identifier",!0)),[i,n]}.call(this,e,t);t&(U|j)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:e})}}});var Se={touchstart:F,touchmove:2,touchend:U,touchcancel:j},ye="touchstart touchmove touchend touchcancel";function Ce(){this.evTarget=ye,this.targetIds={},Q.apply(this,arguments)}y(Ce,Q,{handler:function(e){var t=Se[e.type],i=function(e,t){var i=L(e.touches),n=this.targetIds;if(t&(2|F)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,r,a=L(e.changedTouches),o=[],l=this.target;if(r=i.filter(function(e){return k(e.target,l)}),t===F)for(s=0;s<r.length;)n[r[s].identifier]=!0,s++;for(s=0;s<a.length;)n[a[s].identifier]&&o.push(a[s]),t&(U|j)&&delete n[a[s].identifier],s++;return o.length?[N(r.concat(o),"identifier",!0),o]:void 0}.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:e})}});var Ee=2500;function Ae(){Q.apply(this,arguments);var e=C(this.handler,this);this.touch=new Ce(this.manager,e),this.mouse=new ce(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Te(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var e=n.indexOf(i);e>-1&&n.splice(e,1)},Ee)}}y(Ae,Q,{handler:function(e,t,i){var n="touch"==i.pointerType,s="mouse"==i.pointerType;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)(function(e,t){e&F?(this.primaryTouch=t.changedPointers[0].identifier,Te.call(this,t)):e&(U|j)&&Te.call(this,t)}).call(this,t,i);else if(s&&function(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],r=Math.abs(t-s.x),a=Math.abs(i-s.y);if(r<=25&&a<=25)return!0}return!1}.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var we=x(c.style,"touchAction"),ke=we!==o,Ie="manipulation",Oe="none",Pe="pan-x",Le="pan-y",Ne=function(){if(!ke)return!1;var e={},t=s.CSS&&s.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=!t||s.CSS.supports("touch-action",i)}),e}();function xe(e,t){this.manager=e,this.set(t)}xe.prototype={set:function(e){"compute"==e&&(e=this.compute()),ke&&this.manager.element.style&&Ne[e]&&(this.manager.element.style[we]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return b(this.manager.recognizers,function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(I(e,Oe))return Oe;var t=I(e,Pe),i=I(e,Le);return t&&i?Oe:t||i?t?Pe:Le:I(e,Ie)?Ie:"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var n=this.actions,s=I(n,Oe)&&!Ne[Oe],r=I(n,Le)&&!Ne[Le],a=I(n,Pe)&&!Ne[Pe];if(s){var o=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(o&&l&&u)return}if(!a||!r)return s||r&&i&X||a&&i&K?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Re=1,Me=2,Ve=4,He=8,De=He,Be=16;function Fe(e){this.options=l({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=A(this.options.enable,!0),this.state=Re,this.simultaneous={},this.requireFail=[]}function Ue(e){return e&Be?"cancel":e&He?"end":e&Ve?"move":e&Me?"start":""}function je(e){return e==q?"down":e==G?"up":e==Y?"left":e==W?"right":""}function ze(e,t){var i=t.manager;return i?i.get(e):e}function Ye(){Fe.apply(this,arguments)}function We(){Ye.apply(this,arguments),this.pX=null,this.pY=null}function Ge(){Ye.apply(this,arguments)}function qe(){Fe.apply(this,arguments),this._timer=null,this._input=null}function Xe(){Ye.apply(this,arguments)}function Ke(){Ye.apply(this,arguments)}function Je(){Fe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function $e(e,t){return(t=t||{}).recognizers=A(t.recognizers,$e.defaults.preset),new Ze(e,t)}function Ze(e,t){this.options=l({},$e.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(H?ve:D?Ce:V?Ae:ce))(e,ee)}(this),this.touchAction=new xe(this,this.options.touchAction),Qe(this,!0),b(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Qe(e,t){var i,n=e.element;n.style&&(b(e.options.cssProps,function(s,r){i=x(n.style,r),t?(e.oldCssProps[i]=n.style[i],n.style[i]=s):n.style[i]=e.oldCssProps[i]||""}),t||(e.oldCssProps={}))}Fe.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ze(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)?this:(e=ze(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=ze(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=ze(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function n(i){t.manager.emit(i,e)}i<He&&n(t.options.event+Ue(i)),n(t.options.event),e.additionalEvent&&n(e.additionalEvent),i>=He&&n(t.options.event+Ue(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Re)))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(De|Be|32)&&(this.state=Re),this.state=this.process(t),this.state&(Me|Ve|He|Be)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},y(Ye,Fe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(Me|Ve),s=this.attrTest(e);return n&&(i&j||!s)?t|Be:n||s?i&U?t|He:t&Me?t|Ve:Me:32}}),y(We,Ye,{defaults:{event:"pan",threshold:10,pointers:1,direction:J},getTouchAction:function(){var e=this.options.direction,t=[];return e&X&&t.push(Le),e&K&&t.push(Pe),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,s=e.direction,r=e.deltaX,a=e.deltaY;return s&t.direction||(t.direction&X?(s=0===r?z:r<0?Y:W,i=r!=this.pX,n=Math.abs(e.deltaX)):(s=0===a?z:a<0?G:q,i=a!=this.pY,n=Math.abs(e.deltaY))),e.direction=s,i&&n>t.threshold&&s&t.direction},attrTest:function(e){return Ye.prototype.attrTest.call(this,e)&&(this.state&Me||!(this.state&Me)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=je(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),y(Ge,Ye,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Oe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Me)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),y(qe,Fe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,s=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(U|j)&&!s)this.reset();else if(e.eventType&F)this.reset(),this._timer=v(function(){this.state=De,this.tryEmit()},t.time,this);else if(e.eventType&U)return De;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===De&&(e&&e.eventType&U?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),y(Xe,Ye,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Oe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Me)}}),y(Ke,Ye,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|K,pointers:1},getTouchAction:function(){return We.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(X|K)?t=e.overallVelocity:i&X?t=e.overallVelocityX:i&K&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&e.eventType&U},emit:function(e){var t=je(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),y(Je,Fe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ie]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),e.eventType&F&&0===this.count)return this.failTimeout();if(n&&s&&i){if(e.eventType!=U)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||re(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&r?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=v(function(){this.state=De,this.tryEmit()},t.interval,this),Me):De}return 32},failTimeout:function(){return this._timer=v(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==De&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),$e.VERSION="2.0.7",$e.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Xe,{enable:!1}],[Ge,{enable:!1},["rotate"]],[Ke,{direction:X}],[We,{direction:X},["swipe"]],[Je],[Je,{event:"doubletap",taps:2},["tap"]],[qe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ze.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var i;this.touchAction.preventDefaults(e);var n=this.recognizers,s=t.curRecognizer;(!s||s&&s.state&De)&&(s=t.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],2===t.stopped||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(e),!s&&i.state&(Me|Ve|He)&&(s=t.curRecognizer=i),r++}},get:function(e){if(e instanceof Fe)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=P(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==o&&t!==o){var i=this.handlers;return b(O(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this}},off:function(e,t){if(e!==o){var i=this.handlers;return b(O(e),function(e){t?i[e]&&i[e].splice(P(i[e],t),1):delete i[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var i=r.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&Qe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l($e,{INPUT_START:F,INPUT_MOVE:2,INPUT_END:U,INPUT_CANCEL:j,STATE_POSSIBLE:Re,STATE_BEGAN:Me,STATE_CHANGED:Ve,STATE_ENDED:He,STATE_RECOGNIZED:De,STATE_CANCELLED:Be,STATE_FAILED:32,DIRECTION_NONE:z,DIRECTION_LEFT:Y,DIRECTION_RIGHT:W,DIRECTION_UP:G,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:K,DIRECTION_ALL:J,Manager:Ze,Input:Q,TouchAction:xe,TouchInput:Ce,MouseInput:ce,PointerEventInput:ve,TouchMouseInput:Ae,SingleTouchInput:_e,Recognizer:Fe,AttrRecognizer:Ye,Tap:Je,Pan:We,Swipe:Ke,Pinch:Ge,Rotate:Xe,Press:qe,on:T,off:w,each:b,merge:S,extend:_,assign:l,inherit:y,bindFn:C,prefixed:x}),(void 0!==s?s:"undefined"!=typeof self?self:{}).Hammer=$e,(n=function(){return $e}.call(t,i,t,e))===o||(e.exports=n)}(window,document)},function(e,t){e.exports=function(e){return null!=e&&"object"==_typeof(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Config=void 0;var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"loadConfig",value:function(t){var i=this._defaultConfig;t.hasOwnProperty("attributes")&&(t.attributes.hasOwnProperty("id")&&(i.attributes.id=t.attributes.id),t.attributes.hasOwnProperty("component")&&(i.attributes.component=t.attributes.component)),t.hasOwnProperty("templatevariables")&&t.templatevariables.hasOwnProperty("id")&&(i.templatevariables.id=t.templatevariables.id),e._config=i}},{key:"setAttributeForId",value:function(t,i,n){e._config.attributes.id.hasOwnProperty(t)||(e._config.attributes.id[t]={}),e._config.attributes.id[t][i.toLowerCase()]=n}},{key:"setAttributeForComponent",value:function(t,i,n){var s=t.toLowerCase();e._config.attributes.component.hasOwnProperty(s)||(e._config.attributes.component[s]={}),e._config.attributes.component[s][i.toLowerCase()]=n}},{key:"setTemplateVarsForId",value:function(t,i){e._config.templatevariables.id.hasOwnProperty(t)||(e._config.templatevariables.id[t]=[]),e._config.templatevariables.id[t]=i}},{key:"getConfig",value:function(){return e._config}},{key:"getAttributesForId",value:function(t){var i=e._config.attributes.id;return i.hasOwnProperty(t)?i[t]:{}}},{key:"getAttributesForComponent",value:function(t){var i=e._config.attributes.component;return t=t.toLowerCase(),i.hasOwnProperty(t)?i[t]:{}}},{key:"getAttributesForElement",value:function(t){var i={},n=t.tagName.toLowerCase(),s=e.getAttributesForComponent(n);if(t.hasAttribute("id")){var r=t.getAttribute("id");null!==r&&(i=e.getAttributesForId(r))}return Object.assign(Object.assign({},s),i)}},{key:"getTemplateVarsForElementById",value:function(t){var i=e._config.templatevariables.id;return i.hasOwnProperty(t)?i[t]:[]}},{key:"getTemplateVarsForElement",value:function(t){var i=[];if(t.hasAttribute("id")){var n=t.getAttribute("id");null!==n&&(i=e.getTemplateVarsForElementById(n))}return i}}]),e}();t.Ch5Config=n,n._defaultConfig={attributes:{id:{},component:{}},templatevariables:{id:{}}},n._config=n._defaultConfig},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeState=void 0;var n=i(8),s=i(12),r=i(1);t.subscribeState=function(e,t,i,a){var o=n.Ch5SignalFactory.getInstance(),l="";switch(t=s.Ch5Signal.getSubscriptionSignalName(t),e.toLowerCase()){case"b":case"boolean":var u=o.getBooleanSignal(t);(0,r.isNil)(u)||(l=u.subscribe(i,a));break;case"n":case"number":case"numeric":var c=o.getNumberSignal(t);(0,r.isNil)(c)||(l=c.subscribe(i,a));break;case"s":case"string":var h=o.getStringSignal(t);(0,r.isNil)(h)||(l=h.subscribe(i,a));break;case"o":case"object":var d=o.getObjectSignal(t);(0,r.isNil)(d)||(l=d.subscribe(i,a));break;default:(0,r.isNil)(a)||a("Signal: ".concat(t,", has unsupported type: ").concat(e))}return l}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishEvent=void 0;var n=i(8);t.publishEvent=function(e,t,i){var s=n.Ch5SignalFactory.getInstance();switch(e.toLowerCase()){case"b":case"boolean":var r=s.getBooleanSignal(t);null!==r&&r.publish(i);break;case"n":case"number":case"numeric":var a=s.getNumberSignal(t);null!==a&&a.publish(i);break;case"s":case"string":var o=s.getStringSignal(t);null!==o&&o.publish(i);break;case"o":case"object":var l=s.getObjectSignal(t);null!==l&&l.publish(i)}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Dpad=void 0;var s=n(i(1)),r=i(3),a=i(4),o=i(32),l=i(31),u=i(2),c=i(120),h=i(0),d=function(e){_inherits(i,r.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).primaryCssClass="ch5-dpad",e.cssClassPrefix="ch5-dpad",e.COMPONENT_NAME="ch5-dpad",e._contractName="",e._type=i.TYPES[0],e._shape=i.SHAPES[0],e._stretch=null,e._sendEventOnClickStart="",e._useContractForEnable=!0,e._useContractForShow=!0,e._useContractForCustomStyle=!1,e._useContractForCustomClass=!1,e._useContractForEnableSignalValue="",e._useContractForShowSignalValue="",e._useContractForCustomStyleSignalValue="",e._useContractForCustomClassSignalValue="",e._size=i.SIZES[0],e.isComponentLoaded=!1,e.isResizeInProgress=!1,e.RESIZE_DEBOUNCE=500,e.container={},e.containerClass="dpad-container",e.DPAD_PROPERTIES={CONTRACT_NAME:{default:"",valueOnAttributeEmpty:"",variableName:"_contractName",attributeName:"contractName",propertyName:"contractName",type:"string",removeAttributeOnNull:!0,enumeratedValues:[],componentReference:_assertThisInitialized(e),callback:e.updateContractNameBasedHandlers.bind(_assertThisInitialized(e))},TYPE:{default:i.TYPES[0],valueOnAttributeEmpty:i.TYPES[0],variableName:"_type",attributeName:"type",propertyName:"type",removeAttributeOnNull:!0,type:"enum",enumeratedValues:i.TYPES,componentReference:_assertThisInitialized(e),callback:e.updateCssClasses.bind(_assertThisInitialized(e))},SHAPE:{default:i.SHAPES[0],valueOnAttributeEmpty:i.SHAPES[0],variableName:"_shape",attributeName:"shape",propertyName:"shape",removeAttributeOnNull:!1,type:"enum",enumeratedValues:i.SHAPES,componentReference:_assertThisInitialized(e),callback:e.checkAndRestructureDomOfDpad.bind(_assertThisInitialized(e))},STRETCH:{default:null,valueOnAttributeEmpty:null,variableName:"_stretch",attributeName:"stretch",propertyName:"stretch",removeAttributeOnNull:!0,type:"enum",enumeratedValues:i.STRETCHES,componentReference:_assertThisInitialized(e),callback:e.stretchHandler.bind(_assertThisInitialized(e))},SIZE:{default:i.SIZES[0],valueOnAttributeEmpty:i.SIZES[0],variableName:"_size",attributeName:"size",propertyName:"size",removeAttributeOnNull:!1,type:"enum",enumeratedValues:i.SIZES,componentReference:_assertThisInitialized(e),callback:e.checkAndRestructureDomOfDpad.bind(_assertThisInitialized(e))}},e.logger.start("constructor()",e.COMPONENT_NAME),l.ComponentHelper.clearComponentContent(_assertThisInitialized(e)),e.initAttributes(),e.checkAndRestructureDomOfDpad(),e.logger.stop(),e}return _createClass(i,[{key:"contractName",get:function(){return this._contractName},set:function(e){this.logger.log('set contractName("'+e+'")'),this.setAttributeAndProperty(this.DPAD_PROPERTIES.CONTRACT_NAME,e)}},{key:"type",get:function(){return this._type},set:function(e){this.logger.log('set type ("'+e+'")'),this.setAttributeAndProperty(this.DPAD_PROPERTIES.TYPE,e)}},{key:"shape",get:function(){return this._shape},set:function(e){this.logger.log('set shape ("'+e+'")'),this.setAttributeAndProperty(this.DPAD_PROPERTIES.SHAPE,e)}},{key:"stretch",get:function(){return this._stretch},set:function(e){this.logger.log('set stretch ("'+e+'")'),this.setAttributeAndProperty(this.DPAD_PROPERTIES.STRETCH,e)}},{key:"size",get:function(){return this._size},set:function(e){this.logger.log('set size ("'+e+'")'),this.setAttributeAndProperty(this.DPAD_PROPERTIES.SIZE,e)}},{key:"sendEventOnClickStart",get:function(){return this._sendEventOnClickStart},set:function(e){this.logger.start('set sendEventOnClickStart("'+e+'")'),(s.default.isNil(e)||isNaN(parseInt(e,10)))&&(e=""),e!==this.sendEventOnClickStart&&(this._sendEventOnClickStart=e,this.setAttribute("sendEventOnClickStart".toLowerCase(),e),this.updateEventClickHandlers(parseInt(e,10)),this.logger.stop())}},{key:"useContractForEnable",get:function(){return this._useContractForEnable},set:function(e){var t=this;this.logger.start('Ch5Dpad set useContractForEnable("'+e+'")');var i=this.toBoolean(e),n=l.ComponentHelper.getAttributeAsString(this,"contractname","");if(0!==n.length&&this._useContractForEnable!==i){this.setAttribute("useContractForEnable".toLowerCase(),i.toString()),this._useContractForEnable=i;var s={caller:this,attrKey:"useContractForEnable",value:n+"Enable",callbackOnSignalReceived:function(e){e=(!e).toString(),t.info(" subs callback for useContractForEnable: ",t._useContractForEnableSignalValue," Signal has value ",e),l.ComponentHelper.setAttributeToElement(t,"disabled",e)}};this.setValueForReceiveStateBoolean(s),this.logger.stop()}}},{key:"useContractForShow",get:function(){return this._useContractForShow},set:function(e){var t=this;this.logger.start('Ch5Dpad set useContractForShow("'+e+'")');var i=this.toBoolean(e),n=l.ComponentHelper.getAttributeAsString(this,"contractname","");if(0!==n.length&&this._useContractForShow!==i){this.setAttribute("useContractForShow".toLowerCase(),i.toString());var s={caller:this,attrKey:"useContractForShow",value:n+"Show",callbackOnSignalReceived:function(e){e=e.toString(),t.info(" subs callback for signalReceiveShow: ",t._useContractForShowSignalValue," Signal has value ",e),l.ComponentHelper.setAttributeToElement(t,"show",e)}};this.setValueForReceiveStateBoolean(s),this.logger.stop()}}},{key:"useContractForCustomStyle",get:function(){return this._useContractForCustomStyle},set:function(e){var t=this;this.logger.start('Ch5Dpad set useContractForCustomStyle("'+e+'")');var i=this.toBoolean(e),n=l.ComponentHelper.getAttributeAsString(this,"contractname","");if(0!==n.length&&this._useContractForCustomStyle!==i){this.setAttribute("usecontractforcustomstyle",i.toString()),this._useContractForCustomStyle=i;var s={caller:this,attrKey:"useContractForCustomStyle",value:n+"CustomStyle",callbackOnSignalReceived:function(e){e=e,t.info(" subs callback for useContractForCustomStyle: ",t._useContractForCustomStyleSignalValue," Signal has value ",e),t.customStyle=e}};this.setValueForReceiveStateString(s),this.logger.stop()}}},{key:"useContractForCustomClass",get:function(){return this._useContractForCustomClass},set:function(e){var t=this;this.logger.start('Ch5Dpad set useContractForCustomClass("'+e+'")');var i=this.toBoolean(e),n=l.ComponentHelper.getAttributeAsString(this,"contractname","");if(0!==n.length&&this._useContractForCustomClass!==i){this.setAttribute("useContractForCustomClass",i.toString()),this._useContractForCustomClass=i;var s={caller:this,attrKey:"useContractForCustomClass",value:n+"CustomClass",callbackOnSignalReceived:function(e){e=e,t.info(" subs callback for useContractForCustomClass: ",t._useContractForCustomClassSignalValue," Signal has value ",e),t.customClass=e}};this.setValueForReceiveStateString(s),this.logger.stop()}}},{key:"connectedCallback",value:function(){var e=this;this.logger.start("connectedCallback() - start",this.COMPONENT_NAME),(0,h.subscribeInViewPortChange)(this,function(){if(e.elementIsInViewPort&&!s.default.isNil(e.stretch)&&e.parentElement){var t=e.parentElement,i=t.offsetHeight,n=t.offsetWidth,r=n<=i?n:i;e.container.style.height=r+"px",e.container.style.width=r+"px"}}),customElements.whenDefined("ch5-dpad").then(function(){e._wasInstatiated||e.createHtmlElements(),e._wasInstatiated=!0,e.updateCssClasses(),e.attachEventListeners(),e.initAttributes(),e.stretchHandler(),e.isComponentLoaded=!0}),Promise.all([customElements.whenDefined("ch5-dpad-button")]).then(function(){e.onAllSubElementsCreated()}),this.logger.stop()}},{key:"onAllSubElementsCreated",value:function(){this.logger.start("onAllSubElementsCreated() - start",this.COMPONENT_NAME),this.logger.stop()}},{key:"disconnectedCallback",value:function(){this.removeEvents(),this.unsubscribeFromSignals(),(0,h.unSubscribeInViewPortChange)(this),this.container&&this.container.style&&(this.container.style.removeProperty("height"),this.container.style.removeProperty("width")),this.disconnectCommonMutationObserver()}},{key:"removeEvents",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),window.removeEventListener("resize",this.onWindowResizeHandler)}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this)}},{key:"attributeChangedCallback",value:function(e,t,n){if(this.logger.start("attributeChangedCallback",this.COMPONENT_NAME),t!==n){this.info('ch5-dpad attributeChangedCallback("'+e+'","'+t+'","'+n+'")');var s=l.ComponentHelper.getAttributeAsString(this,"contractname","").length>0;switch(e){case"usecontractforshow":this.useContractForShow=l.ComponentHelper.getBoolFromString(l.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),this.hasAttribute("usecontractforshow")&&"false"!==this.getAttribute("usecontractforshow"),""));break;case"usecontractforenable":this.useContractForEnable=l.ComponentHelper.getBoolFromString(l.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),this.hasAttribute("usecontractforenable")&&"false"!==this.getAttribute("usecontractforenable"),""));break;case"usecontractforcustomstyle":this.useContractForCustomStyle=l.ComponentHelper.getBoolFromString(l.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),this.hasAttribute("usecontractforcustomstyle")&&"false"!==this.getAttribute("usecontractforcustomstyle"),""));break;case"usecontractforcustomclass":this.useContractForCustomClass=l.ComponentHelper.getBoolFromString(l.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),this.hasAttribute("usecontractforcustomclass")&&"false"!==this.getAttribute("usecontractforcustomclass"),""));break;case"show":case"receivestateshow":case"receivestateenable":case"receivestateshowpulse":case"receivestatehidepulse":case"receivestatecustomstyle":case"receivestatecustomclass":s||_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n);break;case"sendeventonclickstart":s||(this.sendEventOnClickStart=l.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),n,""));break;case"type":this.type=n;break;case"shape":this.shape=n;break;case"stretch":this.stretch=n;break;case"contractname":if(n!==n.replace(/[\.]+$/,"")+"."){this.setAttribute("contractname",n.replace(/[\.]+$/,"")+".");break}this.contractName=n,this.updateContractNameBasedHandlers();break;case"size":this.size=n;break;default:this.logger.log("attributeChangedCallback: going to default"),_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}this.logger.stop()}else this.logger.stop()}},{key:"createHtmlElements",value:function(){var e;this.logger.start("createHtmlElements",this.COMPONENT_NAME),this.classList.add(this.primaryCssClass);var t=this.children;0===t.length||0===t[0].children.length?s.default.cloneDeep(null===(e=t[0])||void 0===e?void 0:e.children)?this.createAndAppendAllExistingButtonsUnderDpad(t):this.createAndAppendAllButtonsUnderDpad():this.checkIfOrderOfTagsAreInTheRightOrder(t[0].children)||this.createAndAppendAllExistingButtonsUnderDpad(t),this.logger.stop()}},{key:"updateHtmlElements",value:function(){var e;this.logger.start("updateHtmlElements",this.COMPONENT_NAME);var t=this.children;0===t.length||0===t[0].children.length?s.default.cloneDeep(null===(e=t[0])||void 0===e?void 0:e.children)?this.createAndAppendAllExistingButtonsUnderDpad(t[0].children):this.createAndAppendAllButtonsUnderDpad():this.checkIfOrderOfTagsAreInTheRightOrder(t[0].children)||this.createAndAppendAllExistingButtonsUnderDpad(t[0].children),this.logger.stop()}},{key:"createEmptyContainerDiv",value:function(){for((s.default.isNil(this.container)||s.default.isNil(this.container.classList)||0===this.container.classList.length)&&(this.container=document.createElement("div"),this.container.classList.add(this.containerClass)),this.container.parentElement!==this&&this.appendChild(this.container);this.container.firstChild;)this.container.removeChild(this.container.firstChild)}},{key:"createAndAppendAllButtonsUnderDpad",value:function(){var e=new c.Ch5DpadButton;e.setAttribute("key","center");var t=new c.Ch5DpadButton;t.setAttribute("key","up");var n=new c.Ch5DpadButton;n.setAttribute("key","right");var s=new c.Ch5DpadButton;s.setAttribute("key","down");var r=new c.Ch5DpadButton;if(r.setAttribute("key","left"),this.createEmptyContainerDiv(),this.container.appendChild(e),this.container.appendChild(t),this.shape===i.SHAPES[0])this.container.appendChild(r),this.container.appendChild(n);else{if(this.shape!==i.SHAPES[1])throw new Error("Seems to be an invalid shape. Must be 'plus' or 'circle' as values.");this.container.appendChild(n),this.container.appendChild(r)}this.container.appendChild(s)}},{key:"createAndAppendAllExistingButtonsUnderDpad",value:function(e){if(e.length){var t=null,n=null,s=null,r=null,a=null;if(Array.from(e).forEach(function(e){switch(e.getAttribute("key")){case"center":t=e;break;case"up":n=e;break;case"right":s=e;break;case"down":r=e;break;case"left":a=e;break;default:throw new Error("Seems to be an invalid dpad Button value ")}}),t||(t=new c.Ch5DpadButton).setAttribute("key","center"),n||(n=new c.Ch5DpadButton).setAttribute("key","up"),s||(s=new c.Ch5DpadButton).setAttribute("key","right"),r||(r=new c.Ch5DpadButton).setAttribute("key","down"),a||(a=new c.Ch5DpadButton).setAttribute("key","left"),this.createEmptyContainerDiv(),this.container.appendChild(t),this.container.appendChild(n),this.shape===i.SHAPES[0])this.container.appendChild(a),this.container.appendChild(s);else{if(this.shape!==i.SHAPES[1])throw new Error("Seems to be an invalid shape. Must be 'plus' or 'circle' as values.");this.container.appendChild(s),this.container.appendChild(a)}this.container.appendChild(r)}}},{key:"checkIfOrderOfTagsAreInTheRightOrder",value:function(e){var t=!1;if(5===e.length){var n=this.shape===i.SHAPES[0]?"left":"right",s=this.shape===i.SHAPES[0]?"right":"left";t="center"===e[0].getAttribute("key")&&"up"===e[1].getAttribute("key")&&e[2].getAttribute("key")===n&&e[3].getAttribute("key")===s&&"down"===e[4].getAttribute("key")}else if(e.length>0)for(var r=0,a=Array.from(e);r<a.length;r++){a[r].remove()}return t}},{key:"initAttributes",value:function(){this.logger.start("initAttributes",this.COMPONENT_NAME),_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.setAttribute("data-ch5-id",this.getCrId()),l.ComponentHelper.setAttributeToElement(this,"role",a.Ch5RoleAttributeMapping.ch5Dpad),this.contractName=this.getAttribute("contractname"),this.sendEventOnClickStart=l.ComponentHelper.setAttributeToElement(this,"sendEventOnClickStart".toLowerCase(),this._sendEventOnClickStart),this.type=this.getAttribute("type"),this.shape=this.getAttribute("shape"),this.stretch=this.getAttribute("stretch"),this.size=this.getAttribute("size"),this.useContractForEnable=l.ComponentHelper.getBoolFromString(l.ComponentHelper.setAttributeToElement(this,"useContractForEnable".toLowerCase(),String(this._useContractForEnable))),this.useContractForShow=l.ComponentHelper.getBoolFromString(l.ComponentHelper.setAttributeToElement(this,"useContractForShow".toLowerCase(),String(this._useContractForShow))),this.useContractForCustomStyle=l.ComponentHelper.getBoolFromString(l.ComponentHelper.setAttributeToElement(this,"useContractForCustomStyle".toLowerCase(),String(this._useContractForCustomStyle))),this.useContractForCustomClass=l.ComponentHelper.getBoolFromString(l.ComponentHelper.setAttributeToElement(this,"useContractForCustomClass".toLowerCase(),String(this._useContractForCustomClass))),this.hasAttribute("receivestateenable")&&(this.receiveStateEnable=this.getAttribute("receivestateenable")),this.hasAttribute("receivestatecustomclass")&&(this.receiveStateCustomClass=this.getAttribute("receivestatecustomclass")),this.hasAttribute("receivestatehidepulse")&&(this.receiveStateHidePulse=this.getAttribute("receivestatehidepulse")),this.hasAttribute("receivestatecustomstyle")&&(this.receiveStateCustomStyle=this.getAttribute("receivestatecustomstyle")),this.hasAttribute("receivestateshow")&&(this.receiveStateShow=this.getAttribute("receivestateshow")),this.hasAttribute("receivestateshowpulse")&&(this.receiveStateShowPulse=this.getAttribute("receivestateshowpulse")),this.logger.stop()}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),window.addEventListener("resize",this.onWindowResizeHandler.bind(this))}},{key:"updateCssClasses",value:function(){_get(_getPrototypeOf(i.prototype),"updateCssClasses",this).call(this);var e,t=_createForOfIteratorHelper(i.TYPES);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.classList.remove(i.CSS_CLASS_PREFIX_TYPE+n)}}catch(f){t.e(f)}finally{t.f()}this.classList.add(i.CSS_CLASS_PREFIX_TYPE+this.type);var s,r=_createForOfIteratorHelper(i.SHAPES);try{for(r.s();!(s=r.n()).done;){var a=s.value;this.classList.remove(i.CSS_CLASS_PREFIX_SHAPE+a)}}catch(f){r.e(f)}finally{r.f()}this.classList.add(i.CSS_CLASS_PREFIX_SHAPE+this.shape);var o,l=_createForOfIteratorHelper(i.SIZES);try{for(l.s();!(o=l.n()).done;){var u=o.value;this.classList.remove(i.CSS_CLASS_PREFIX_SIZE+u)}}catch(f){l.e(f)}finally{l.f()}this.classList.add(i.CSS_CLASS_PREFIX_SIZE+this.size);var c,h=_createForOfIteratorHelper(i.STRETCHES);try{for(h.s();!(c=h.n()).done;){var d=c.value;this.classList.remove(i.CSS_CLASS_PREFIX_STRETCH+d)}}catch(f){h.e(f)}finally{h.f()}this.stretch&&this.stretch.length>0&&(this.classList.add(i.CSS_CLASS_PREFIX_STRETCH+this.stretch),this.size&&this.size.length>0&&this.classList.remove(i.CSS_CLASS_PREFIX_SIZE+this.size))}},{key:"checkAndRestructureDomOfDpad",value:function(){this.logger.start("checkAndRestructureDomOfDpad()",this.COMPONENT_NAME),this.updateHtmlElements(),this.updateCssClasses(),this.logger.stop()}},{key:"removeDuplicateChildElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=Array.from(e.children),i={};if(t.length>0)if(5===t.length){var n=t.map(function(e){return e.getAttribute("key")});n.some(function(e,t){return n.indexOf(e)!==t})&&t[n.findIndex(function(e,t){return n.indexOf(e)!==t})].remove()}else{var s,r=_createForOfIteratorHelper(t);try{var a=function(){var e=s.value,n=e.tagName.toLowerCase();"div"!==n?i[n+"-"+e.getAttribute("key")]=e:(e.remove(),t=t.filter(function(t){return t!==e}))};for(r.s();!(s=r.n()).done;)a()}catch(d){r.e(d)}finally{r.f()}}if(null!==i){var o,l=_createForOfIteratorHelper(["ch5-dpad-button"]);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(!i.hasOwnProperty(u)){var h=new c.Ch5DpadButton;h.setAttribute("key",u.split("-")[u.split("-").length-1]),i[u]=h}}}catch(d){l.e(d)}finally{l.f()}}}},{key:"updateEventClickHandlers",value:function(e){var t,i,n,r,a,u=l.ComponentHelper.getAttributeAsString(this,"contractname",""),c=this.getElementsByTagName("ch5-dpad-button");if(c.length>0)for(var h=0;h<c.length;h++){var d=c[h].getAttribute("key");if(d)switch(d){case"center":t=c[h];break;case"up":i=c[h];break;case"left":a=c[h];break;case"right":n=c[h];break;case"down":r=c[h];break;default:t=c[h]}}if(0===u.length&&!isNaN(e)){if(!s.default.isNil(t)){var f=e+o.CH5DpadUtils.sendEventOnClickSigCountToAdd.center;t.setAttribute("sendEventOnClick".toLowerCase(),f.toString())}if(!s.default.isNil(i)){var p=e+o.CH5DpadUtils.sendEventOnClickSigCountToAdd.up;i.setAttribute("sendEventOnClick".toLowerCase(),p.toString())}if(!s.default.isNil(n)){var v=e+o.CH5DpadUtils.sendEventOnClickSigCountToAdd.right;n.setAttribute("sendEventOnClick".toLowerCase(),v.toString())}if(!s.default.isNil(r)){var g=e+o.CH5DpadUtils.sendEventOnClickSigCountToAdd.down;r.setAttribute("sendEventOnClick".toLowerCase(),g.toString())}if(!s.default.isNil(a)){var b=e+o.CH5DpadUtils.sendEventOnClickSigCountToAdd.left;a.setAttribute("sendEventOnClick".toLowerCase(),b.toString())}}}},{key:"updateContractNameBasedHandlers",value:function(){var e,t,i,n,r,a=this._contractName,l=this.getElementsByTagName("ch5-dpad-button");if(l.length>0)for(var u=0;u<l.length;u++){var c=l[u].getAttribute("key");if(c)switch(c){case"center":e=l[u];break;case"up":t=l[u];break;case"left":r=l[u];break;case"right":i=l[u];break;case"down":n=l[u];break;default:e=l[u]}}if(a.length>0){if(!s.default.isNil(e)){var h=a+o.CH5DpadUtils.contractSuffix.center;e.setAttribute("sendEventOnClick".toLowerCase(),h.toString())}if(!s.default.isNil(t)){var d=a+o.CH5DpadUtils.contractSuffix.up;t.setAttribute("sendEventOnClick".toLowerCase(),d.toString())}if(!s.default.isNil(i)){var f=a+o.CH5DpadUtils.contractSuffix.right;i.setAttribute("sendEventOnClick".toLowerCase(),f.toString())}if(!s.default.isNil(n)){var p=a+o.CH5DpadUtils.contractSuffix.down;n.setAttribute("sendEventOnClick".toLowerCase(),p.toString())}if(!s.default.isNil(r)){var v=a+o.CH5DpadUtils.contractSuffix.left;r.setAttribute("sendEventOnClick".toLowerCase(),v.toString())}}}},{key:"stretchHandler",value:function(){this.logger.start(this.COMPONENT_NAME+" > stretchHandler"),this.updateCssClasses();var e=this.offsetHeight,t=this.offsetWidth,i=Math.min(e,t);if(this.stretch&&0===this.stretch.length&&(i=0),this.container&&this.container.style){0===i&&(this.container.style.removeProperty("height"),this.container.style.removeProperty("width"));var n=this.parentElement;this.stretch&&this.stretch.trim().length>0&&n&&(i=Math.min(n.offsetHeight,n.offsetWidth),this.container.style.height=i+"px",this.container.style.width=i+"px")}this.logger.stop()}},{key:"onWindowResizeHandler",value:function(){var e=this;this.stretch&&this.stretch.length>0&&!this.isResizeInProgress&&(this.isResizeInProgress=!0,setTimeout(function(){e.stretchHandler(),e.isResizeInProgress=!1},this.RESIZE_DEBOUNCE))}}],[{key:"registerSignalAttributeTypes",value:function(){u.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"registerCustomElement",value:function(){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(i.ELEMENT_NAME)&&window.customElements.define(i.ELEMENT_NAME,i)}},{key:"observedAttributes",get:function(){return r.Ch5Common.observedAttributes.concat(["contractname","type","shape","stretch","size","usecontractforenable","usecontractforshow","usecontractforcustomclass","usecontractforcustomstyle"]).concat([]).concat(["sendeventonclickstart"])}}]),i}();t.Ch5Dpad=d,d.ELEMENT_NAME="ch5-dpad",d.TYPES=["default","primary","info","text","danger","warning","success","secondary"],d.SHAPES=["plus","circle"],d.STRETCHES=["both","width","height"],d.SIZES=["regular","x-small","small","large","x-large"],d.CSS_CLASS_PREFIX_STRETCH="ch5-dpad--stretch-",d.CSS_CLASS_PREFIX_TYPE="ch5-dpad--type-",d.CSS_CLASS_PREFIX_SHAPE="ch5-dpad--shape-",d.CSS_CLASS_PREFIX_SIZE="ch5-dpad--size-",d.COMPONENT_DATA={TYPES:{default:d.TYPES[0],values:d.TYPES,key:"type",attribute:"type",classListPrefix:d.CSS_CLASS_PREFIX_TYPE},STRETCHES:{default:null,values:d.STRETCHES,key:"stretch",attribute:"stretch",classListPrefix:d.CSS_CLASS_PREFIX_STRETCH},SHAPES:{default:d.SHAPES[0],values:d.SHAPES,key:"shape",attribute:"shape",classListPrefix:d.CSS_CLASS_PREFIX_SHAPE},SIZES:{default:d.SIZES[0],values:d.SIZES,key:"size",attribute:"size",classListPrefix:d.CSS_CLASS_PREFIX_SIZE}},d.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},r.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{sendeventonclickstart:{direction:"event",booleanJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),d.registerCustomElement(),d.registerSignalAttributeTypes()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CH5VideoUtils=void 0;var n=i(125),s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getFullScreenDimensions",value:function(t,i,n){var s,r={xPos:0,yPos:0},a={};return(s=e.getDisplayWxH(t,i,n)).width<i?r=e.calculatePillarBoxPadding(i,s.width):s.height<n&&(r=e.calculateLetterBoxPadding(n,s.height)),a.width=s.width,a.height=s.height,a.posX=r.xPos,a.posY=r.yPos,a}},{key:"getVideoElementOffset",value:function(e){var t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+i}}}]),e}();t.CH5VideoUtils=s,s.getSizeAndPositionForFixedSize=function(e,t){var i={xPos:0,yPos:0},n=s.getParentElementOffsetAndDimension(e);return t.width<n.totalWidth?i=s.calculatePillarBoxPadding(n.totalWidth,t.width):t.height<n.totalHeight&&(i=s.calculateLetterBoxPadding(n.totalHeight,t.height)),i.xPos+=n.offsetLeft,i.yPos+=n.offsetTop,i},s.getParentElementOffsetAndDimension=function(e){var t=e.clientWidth,i=e.clientHeight;console.log(e.className,i,t);var n=e.getBoundingClientRect().top+e.clientTop,s=e.getBoundingClientRect().left+e.clientLeft,r={top:getComputedStyle(e).getPropertyValue("padding-top"),right:getComputedStyle(e).getPropertyValue("padding-right"),bottom:getComputedStyle(e).getPropertyValue("padding-bottom"),left:getComputedStyle(e).getPropertyValue("padding-left")};return r.top&&(n+=parseInt(r.top,0)),r.left&&(s+=parseInt(r.left,0)),r.right&&(t=e.clientWidth-(parseInt(r.right,0)+parseInt(r.left,0))),r.bottom&&(i=e.clientHeight-(parseInt(r.bottom,0)+parseInt(r.top,0))),{offsetLeft:s,offsetTop:n,totalHeight:i,totalWidth:t}},s.pad=function(e){return e<10?"0"+e:String(e)},s.isPortrait=function(){return window.innerHeight>window.innerWidth},s.isLandscape=function(){return!s.isPortrait()},s.timezoneOffset=function(e){var t;return 0===e?"Z":(t=e>0?"-":"+",e=Math.abs(e),t+s.pad(Math.floor(e/60))+":"+s.pad(e%60))},s.rfc3339TimeStamp=function(){return(new Date).getTime()/1e3},s.getAspectRatioForVideo=function(e,t){var i={width:0,height:0},s=16,r=9;switch("16:9"===e?(s=16,r=9):"4:3"===e&&(s=4,r=3),t){case"xx-large":i=(0,n.getAspectRatio)(s,r,85);break;case"x-large":i=(0,n.getAspectRatio)(s,r,70);break;case"large":i=(0,n.getAspectRatio)(s,r,55);break;case"small":i=(0,n.getAspectRatio)(s,r,40);break;case"x-small":i=(0,n.getAspectRatio)(s,r,25);break;default:i=(0,n.getAspectRatio)(s,r,55)}return i},s.setAttributesBasedValue=function(e,t,i){return e?t:i},s.getDisplayWxH=function(e,t,i){var n=0,s=0;return"16:9"===e||""===e?(n=Math.round(t/16*9),s=Math.round(i/9*16),(t<256||i<144)&&(t=256,i=144)):"4:3"===e&&(n=Math.round(t/4*3),s=Math.round(i/3*4),(t<192||i<144)&&(t=192,i=144)),s>t?s=t:n>i&&(n=i),{width:s,height:n}},s.calculatePillarBoxPadding=function(e,t){return{xPos:Math.round((e-t)/2),yPos:0}},s.calculateLetterBoxPadding=function(e,t){return{xPos:0,yPos:Math.round((e-t)/2)}}},function(e,t,i){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,i){"use strict";var n=i(6);e.exports=function(e,t){t=t||{};var i={},s=["url","method","data"],r=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function l(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(s){n.isUndefined(t[s])?n.isUndefined(e[s])||(i[s]=l(void 0,e[s])):i[s]=l(e[s],t[s])}n.forEach(s,function(e){n.isUndefined(t[e])||(i[e]=l(void 0,t[e]))}),n.forEach(r,u),n.forEach(a,function(s){n.isUndefined(t[s])?n.isUndefined(e[s])||(i[s]=l(void 0,e[s])):i[s]=l(void 0,t[s])}),n.forEach(o,function(n){n in t?i[n]=l(e[n],t[n]):n in e&&(i[n]=l(void 0,e[n]))});var c=s.concat(r).concat(a).concat(o),h=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===c.indexOf(e)});return n.forEach(h,u),i}},function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,i){"use strict";var n=i(50);e.exports=function(e,t,i,s,r){var a=new Error(e);return n(a,t,i,s,r)}},function(e,t,i){"use strict";var n=i(6),s=i(144),r=i(143),a=i(51),o=i(142),l=i(139),u=i(138),c=i(48);e.exports=function(e){return new Promise(function(t,i){var h=e.data,d=e.headers,f=e.responseType;n.isFormData(h)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(v+":"+g)}var b=o(e.baseURL,e.url);function m(){if(p){var n="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,r={data:f&&"text"!==f&&"json"!==f?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};s(t,i,r),p=null}}if(p.open(e.method.toUpperCase(),a(b,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(m)},p.onabort=function(){p&&(i(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){i(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(c(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var _=(e.withCredentials||u(b))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;_&&(d[e.xsrfHeaderName]=_)}"setRequestHeader"in p&&n.forEach(d,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),f&&"json"!==f&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),i(e),p=null)}),h||(h=null),p.send(h)})}},function(e,t,i){"use strict";e.exports=function(e,t,i,n,s){return e.config=t,i&&(e.code=i),e.request=n,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,i){"use strict";var n=i(6);function s(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var r;if(i)r=i(t);else if(n.isURLSearchParams(t))r=t.toString();else{var a=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(s(t)+"="+s(e))}))}),r=a.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriSchemaValidation=void 0,t.uriSchemaValidation=function(e){return""!==e}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractAppender=void 0;var s=i(15),r=n(i(5));t.AbstractAppender=function(){function e(t){_classCallCheck(this,e),this._sendLogTimeOffset={},this.isInitialized=!1,this.isInitializedSubject=new s.BehaviorSubject(this.isInitialized),this.sendLogTimeOffset=(0,s.timer)(t)}return _createClass(e,[{key:"sendLogTimeOffset",get:function(){return this._sendLogTimeOffset},set:function(e){(0,r.default)(e)||(this._sendLogTimeOffset=e)}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var n=i(160);Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return n.Logger}})},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogMessagesFilter=void 0;var s=i(18),r=n(i(5)),a=i(30),o=function(){function e(t,i,n){_classCallCheck(this,e),this._regularExpression="",this.source=a.Ch5Debug.getConfigKeyValue(a.Ch5Debug.DEBUG_MESSAGE_FILTER_SOURCE_KEY),this.level=(0,r.default)(t)?e.getDefaultLevel():t,this.regularExpression=n||this._regularExpression,this.source=i||this.source}return _createClass(e,[{key:"regularExpression",get:function(){return this._regularExpression},set:function(e){if((0,r.default)(e))this._regularExpression="";else if("/"!==e.charAt(0)||"/"!==e.charAt(e.length-1))this._regularExpression=e;else{var t=e.lastIndexOf("/");this._regularExpression=e.substr(1).substring(0,t-1)}}},{key:"undateSourceFromConfig",value:function(){this.source=a.Ch5Debug.getConfigKeyValue(a.Ch5Debug.DEBUG_MESSAGE_FILTER_SOURCE_KEY)}},{key:"clearFilter",value:function(){this.level=e.getDefaultLevel(),this.regularExpression="",this.source=""}},{key:"applyFilter",value:function(e){var t=this.isMatchingFilterLevel(e.level),i=this.isMatchingFilterRegex(e.message),n=this.isMatchingFilterSource(e.source);return t&&i&&n}},{key:"isMatchingFilterLevel",value:function(e){return e>=this.level}},{key:"isMatchingFilterRegex",value:function(e){return!this.regularExpression||!!new RegExp(this.regularExpression,"i").test(e)}},{key:"isMatchingFilterSource",value:function(e){return!this.source||!(0,r.default)(e)&&e.indexOf(this.source)>-1}}],[{key:"getDefaultLevel",value:function(){return a.Ch5Debug.getConfigKeyValue(a.Ch5Debug.DEBUG_MESSAGE_FILTER_LEVEL_KEY)||s.LogLevelEnum.warning}}]),e}();t.LogMessagesFilter=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refreshCh5Template=t.ch5TemplateSubject=void 0;var n=i(15);t.ch5TemplateSubject=new n.Subject,t.refreshCh5Template=function(e){t.ch5TemplateSubject.next(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5SpinnerTemplate=void 0;var n=i(59),s=i(20),r=function(){function t(e){_classCallCheck(this,t),this._templateDefined=!1,this._element={},this._wrapperElement={},this._scrollableArea={},this._highlightElement={},this._overlayElement={},this._templateElement={},this._childrenObject=null,this._initialchildrenObject=null,this._appendedItemIndex=0,this._prependedItemIndex=0,this._clonedItems={},this.element=e,this.checkTemplateDefined(),!0===this._templateDefined&&(this.templateElement=this._element.querySelector("template"))}return _createClass(t,[{key:"destruct",value:function(){this.childrenObject=null,this.wrapperElement={},this.scrollableArea={},this.templateElement={},this.prependedItemIndex=this.element.size}},{key:"element",get:function(){return this._element},set:function(e){void 0===e&&null===e||(this._element=e)}},{key:"wrapperElement",get:function(){return this._wrapperElement},set:function(e){void 0===e&&null===e||(this._wrapperElement=e)}},{key:"scrollableArea",get:function(){return this._scrollableArea},set:function(e){void 0===e&&null===e||(this._scrollableArea=e)}},{key:"highlightElement",get:function(){return this._highlightElement},set:function(e){void 0===e&&null===e||(this._highlightElement=e)}},{key:"templateElement",get:function(){return this._templateElement},set:function(e){void 0===e&&null===e||(this._templateElement=e,this.iconPositioning())}},{key:"childrenObject",get:function(){return this._childrenObject},set:function(e){void 0===e&&null===e||(this._childrenObject=e)}},{key:"initialchildrenObject",get:function(){return this._initialchildrenObject},set:function(e){void 0===e&&null===e||(this._initialchildrenObject=e)}},{key:"overlayElement",get:function(){return this._overlayElement},set:function(e){void 0===e&&null===e||(this._overlayElement=e)}},{key:"appendedItemIndex",get:function(){return this._appendedItemIndex},set:function(e){(e>this.element.size||e!==this.appendedItemIndex&&null==e)&&(e=0),e>=this.element.size&&(e=0),this._appendedItemIndex=e}},{key:"prependedItemIndex",get:function(){return this._prependedItemIndex},set:function(e){(e>this.element.size||e!==this.prependedItemIndex&&null==e)&&(e=0),e<=0&&(e=this.element.size-1),this._prependedItemIndex=e}},{key:"addChild",value:function(e){return null!=e&&(e.classList.add(n.Ch5Spinner.cssClassPrefix+"__item"),e.style.display="flex",void 0===this.childrenObject||null===this.childrenObject?(this.childrenObject=[e],this.initialchildrenObject=[e]):(this.childrenObject.push(e),this.initialchildrenObject.push(e))),e}},{key:"generateTemplate",value:function(e){var t=this,i=this.element.getItemHeightValue(),s=this.element.getItemHeightMeasurementUnit(),r=this.element.visibleItemScroll,a=this.element.endless;this.overlayElement=document.createElement("div"),this.overlayElement.classList.add(n.Ch5Spinner.cssClassPrefix+"__overlay"),this.wrapperElement=document.createElement("div"),this.wrapperElement.classList.add(n.Ch5Spinner.cssClassPrefix+"__wrapper"),!0===this.element.resize&&(this.wrapperElement.style.width="auto"),this.scrollableArea=document.createElement("div"),this.scrollableArea.classList.add(n.Ch5Spinner.cssClassPrefix+"__scrollarea--animate"),this.highlightElement=document.createElement("div"),this.highlightElement.style.height=this._element.itemHeight,this.highlightElement.style.top=this.element.getHighlightOffset(),this.highlightElement.classList.add(n.Ch5Spinner.cssClassPrefix+"__highlight"),!1===this._templateDefined?this.addDefaultTemplate():(this.cleanTheTemplate(),this.element.label="");for(var o=0;o<e;o++)this.invokeChildElement(o);if(null!==this.childrenObject){if(!0===a){for(var l,u=this.childrenObject,c=u.length-1;c>=u.length-Math.ceil(r/2);c--)this.pushElementToClonedItemsList("prepended",c,!0);for(var h=0;h<Math.ceil(r/2);h++)this.pushElementToClonedItemsList("appended",h);l=-this._clonedItems.prepended.length*i+s,this._clonedItems.prepended[0].style.marginTop=l,this._clonedItems.prepended.forEach(function(e,i){t.scrollableArea.appendChild(e)})}if(this.childrenObject.forEach(function(e){t.scrollableArea.appendChild(e)}),!0===a&&this._clonedItems.appended.forEach(function(e){t.scrollableArea.appendChild(e)}),void 0!==this.childrenObject&&null!==this.childrenObject)for(var d=this.childrenObject.length-1;d>=0;d--)this.childrenObject[d].style.height=this._element.itemHeight}if(this.wrapperElement.style.height=i*r+s,this.wrapperElement.appendChild(this.highlightElement),this.wrapperElement.appendChild(this.scrollableArea),this._element.querySelectorAll("."+n.Ch5Spinner.cssClassPrefix+"__overlay").length||this._element.querySelectorAll("."+n.Ch5Spinner.cssClassPrefix+"__wrapper").length){var f=Array.from(this._element.querySelectorAll("."+n.Ch5Spinner.cssClassPrefix+"__overlay")),p=Array.from(this._element.querySelectorAll("."+n.Ch5Spinner.cssClassPrefix+"__wrapper"));f.forEach(function(e){return e.parentNode.removeChild(e)}),p.forEach(function(e){return e.parentNode.removeChild(e)})}if(this._element.appendChild(this.wrapperElement),this._element.appendChild(this.overlayElement),null!==this.childrenObject&&void 0!==this.childrenObject){for(var v=this.childrenObject.length-1;v>=0;v--){var g=this.childrenObject[v].querySelector("."+n.Ch5Spinner.cssClassPrefix+"__label");if(null!==g&&g.hasAttribute("data-ch5-textcontent-placeholder")){var b=g.getAttribute("data-ch5-textcontent-placeholder");g.removeAttribute("data-ch5-textcontent-placeholder"),g.setAttribute("data-ch5-textcontent",b)}}(parseInt(this._element.itemHeight,10)<=0||isNaN(parseInt(this._element.itemHeight,10)))&&this.handleDefaultItemHeight(this.childrenObject[0])}}},{key:"toggleOverlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.overlayElement.style.zIndex=!0===t?"999999":"",this.overlayElement.style.display=!0!==e?"none":"block"}},{key:"setActiveItem",value:function(e){try{var i=this.getSelectedItem(e);null!==i&&(this.removeActiveItemClass(),i.classList.add(n.Ch5Spinner.cssClassPrefix+"--active"),this.element.selectedItem=i)}catch(e){console.error(t.ERROR.structure)}}},{key:"getSelectedItem",value:function(e){try{if(null!==this.childrenObject){var i=this.childrenObject[e];if(null!=i)return i}}catch(e){console.error(t.ERROR.structure)}return null}},{key:"handleDefaultItemHeight",value:function(e){var t=null,i=1,n=null,s=0,r=0;i+=this.element.signalValueSyncTimeout/60,this.element.signalValueSyncTimeout>i?(this.toggleOverlay(!0,!0),e&&(t=e.querySelector("ch5-image"),n=e.querySelector("label"),s%8==0&&(r=t&&(t.offsetHeight||t.getBoundingClientRect().height)||n&&(n.offsetHeight||n.getBoundingClientRect().height)||e.offsetHeight||e.getBoundingClientRect().height),s++,r>0&&(this.element.itemHeight=r+""))):this.toggleOverlay(!1)}},{key:"resolveId",value:function(e,t){if(0!==t.length){var i=document.createElement("template");return Array.from(t).forEach(function(e){return i.content.appendChild(e)}),""!==this.element.indexId&&(s.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(i,e,this.element.indexId),s.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(i,e,this.element.indexId)),i.content}}},{key:"iconPositioning",value:function(){try{if(null!==this.templateElement&&void 0!==this.templateElement.content){var i=this.templateElement.content.querySelector("."+n.Ch5Spinner.cssClassPrefix+"__icon"),s=this.templateElement.content.querySelector("."+n.Ch5Spinner.cssClassPrefix+"__label"),r=this.element.iconPosition;null!==i&&null!==s&&("last"===r?s.parentNode.insertBefore(i,s.nextSibling):s.parentNode.insertBefore(i,s.previousSibling))}}catch(e){console.error(t.ERROR.structure,e)}}},{key:"pushElementToClonedItemsList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"append",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==this.childrenObject&&void 0!==this.childrenObject[t]){var n=this.childrenObject[t].cloneNode(!0);if(n.classList.add("cloned"),n.style.height=this.element.itemHeight,void 0===this._clonedItems[e.toString()])return void(this._clonedItems[e.toString()]=[n]);i?this._clonedItems[e].unshift(n):this._clonedItems[e].push(n)}}},{key:"invokeChildElement",value:function(e){var t=this.element.querySelector("template"),i=document.importNode(t.content,!0);if(i.children.length>0){var n=this.resolveId(e,i.childNodes);void 0!==n&&(i=n);var r=i.children[0];r.setAttribute("data-initial-index",String(e)),r.setAttribute("role","option"),s.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(r,this.element.getAttribute("contractname")||"",parseInt(this.element.getAttribute("booleanjoinoffset")||"0",10)||0,parseInt(this.element.getAttribute("numericJoinOffset")||"0",10)||0,parseInt(this.element.getAttribute("stringJoinOffset")||"0",10)||0),this.addChild(i.children[0])}}},{key:"checkTemplateDefined",value:function(){null!==this._element.querySelector("template")&&(this._templateDefined=!0)}},{key:"addDefaultTemplate",value:function(){var e=document.createElement("template"),t=document.createElement("ch5-image"),i=document.createElement("label"),s=document.createElement("div"),r=document.createDocumentFragment();this.element.indexId,t.classList.add(n.Ch5Spinner.cssClassPrefix+"__icon"),""!==this.element.receiveStateUrl&&(t.setAttribute("receiveStateUrl",this.element.receiveStateUrl),t.setAttribute("refreshrate","0"),s.appendChild(t)),i.classList.add(n.Ch5Spinner.cssClassPrefix+"__label"),""!==this.element.receiveStateLabel?i.setAttribute("data-ch5-textcontent-placeholder",this.element.receiveStateLabel):i.innerHTML=this.element.label,s.appendChild(i),r.appendChild(s),e.content.appendChild(r),this._element.appendChild(e),this.templateElement=e}},{key:"cleanTheTemplate",value:function(){var e=this.element.querySelector("template");if(null!=e){var t=e.content.children;0===t.length&&e.childNodes.length>0&&(t=e.children);for(var i=t.length-1;i>=0;i--)1!==t[i].nodeType&&t[i].remove()}}},{key:"removeActiveItemClass",value:function(){try{for(var i=this.childrenObject,s=i.length-1;s>=0;s--){var r=i[s],a=n.Ch5Spinner.cssClassPrefix+"--active";r.classList.contains(a)&&r.classList.remove(a)}}catch(e){console.error(t.ERROR.structure)}}}]),t}();t.Ch5SpinnerTemplate=r,r.ERROR={structure:"Wrong template structure"}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Spinner=void 0;var s=i(1),r=i(3),a=i(58),o=i(174),l=i(173),u=i(171),c=i(0),h=n(i(14)),d=i(4),f=i(2),p=function(t){_inherits(n,r.Ch5Common);var i=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=i.call(this))._size=1,e._iconPosition="",e._selectedValue=0,e._itemHeight="",e._visibleItemScroll=0,e._resize=!1,e._endless=!1,e._feedbackMode="",e._signalValueSyncTimeout=0,e._indexId="",e._label="",e._receiveStateValue="",e._receiveStateSize="",e._receiveStateUrl="",e._sendEventOnFocus="",e._sendEventOnChange="",e._sendEventOnOverflow="",e._sendEventOnUnderflow="",e._autoSetItemHeight=!1,e._templateHelper={},e._scrollHelper={},e._eventsHelper={},e._selectedItem={},e._cleanItem=0,e._receiveStateValueSub="",e._receiveStateLabelSub="",e._receiveStateSizeSub="",e._receiveStateLabel="",e._onclean={},e._ondirty={},e._wasInstantiated=!1,e.dirtyFlag=!1,e._mutationObserver={},e._mutationObserver=new o.Ch5SpinnerMutationObserver(_assertThisInitialized(e)),e}return _createClass(n,[{key:"ondirty",get:function(){return this._ondirty},set:function(e){(0,s.isNil)(e)&&(e={}),e instanceof h.default&&this.ondirty instanceof Function||(this._ondirty=e)}},{key:"onclean",get:function(){return this._onclean},set:function(e){(0,s.isNil)(e)&&(e={}),e instanceof h.default&&this.onclean instanceof Function||(this._onclean=e)}},{key:"templateHelper",get:function(){return this.info("<ch5-spinner />.get templateHelper"),this._templateHelper},set:function(e){this.info("<ch5-spinner />.set templateHelper"),this._templateHelper=e}},{key:"scrollHelper",get:function(){return this._scrollHelper},set:function(e){this._scrollHelper=e}},{key:"eventsHelper",get:function(){return this._eventsHelper},set:function(e){this._eventsHelper=e}},{key:"selectedItem",get:function(){return this._selectedItem},set:function(e){this._selectedItem=e}},{key:"cleanItem",get:function(){return this._cleanItem},set:function(e){this._cleanItem=e}},{key:"receiveStateValueSub",get:function(){return this._receiveStateValueSub},set:function(e){this._receiveStateValueSub=e}},{key:"receiveStateSizeSub",get:function(){return this._receiveStateSizeSub},set:function(e){this._receiveStateSizeSub=e}},{key:"wasInstantiated",get:function(){return this._wasInstantiated},set:function(e){this._wasInstantiated=e}},{key:"size",get:function(){return this._size},set:function(e){var t=this.size!==e&&(0,s.isNil)(e)?1:this.adjustMaxSizeValue(e);this.size!==t&&this.setAttribute("size",t+""),this._size=t}},{key:"iconPosition",get:function(){return this._iconPosition},set:function(e){this.iconPosition!==e&&(0,s.isNil)(e)&&(e="first");var t=n.ICONPOSITIONS.filter(function(t){return e.trim()===t});e=t.length>0?t[0]:n.ICONPOSITIONS[0],"rtl"===document.dir&&(e=e===n.ICONPOSITIONS[0]?n.ICONPOSITIONS[1]:n.ICONPOSITIONS[0]),e!==this._iconPosition&&(this.setAttribute("iconposition",e),this.repaint()),this._iconPosition=e}},{key:"selectedValue",get:function(){return this._selectedValue},set:function(e){this.selectedValue!==e&&(0,s.isNil)(e)&&(e=0),this.size<e?e=this.size-1:e<0&&(e=0),e!==this.selectedValue&&(this.setAttribute("selectedValue",e+""),this.scrollHelper instanceof l.Ch5SpinnerScroll&&this._scrollHelper.selectTheItem(e)),this._selectedValue=e}},{key:"selectedValueIndex",get:function(){return this.selectedValue}},{key:"itemHeight",get:function(){return this._itemHeight},set:function(e){this.itemHeight!==e&&(0,s.isNil)(e)&&(e=""),-1===e.indexOf("px")&&-1===e.indexOf("vh")&&(e+="px"),""!==e&&this.itemHeight!==e&&this.setAttribute("itemheight",e),this._itemHeight=e}},{key:"visibleItemScroll",get:function(){return this._visibleItemScroll},set:function(e){this.visibleItemScroll!==e&&(0,s.isNil)(e)&&(e=n.VISIBLEITEMSCROLL),e>this.size&&(e=this.size),(isNaN(e)||e<=0)&&(e=3),e!==this.visibleItemScroll&&this.setAttribute("visibleItemScroll",e.toString()+""),this._visibleItemScroll=e}},{key:"resize",get:function(){return this._resize},set:function(e){this.resize!==e&&(0,s.isNil)(e)&&(e=!1),e!==this.resize&&this.setAttribute("resize",e+""),this._resize=e}},{key:"endless",get:function(){return this._endless},set:function(e){this.endless!==e&&(0,s.isNil)(e)&&(e=!1),e!==this._endless&&(this.setAttribute("endless",e+""),this.repaint()),this._endless=e}},{key:"indexId",get:function(){return this._indexId},set:function(e){this.indexId!==e&&(0,s.isNil)(e)&&(e=""),e!==this.indexId&&(this.setAttribute("indexId",e),this.repaint()),this._indexId=e}},{key:"receiveStateValue",get:function(){return this._attributeValueAsString("receivestatevalue")},set:function(e){this.receiveStateValue!==e&&(0,s.isNil)(e)&&(e=""),e!==this.receiveStateValue&&(this.setAttribute("receiveStateValue",e),this.registerReceiveSignalValue()),this._receiveStateValue=e}},{key:"receiveStateSize",get:function(){return this._attributeValueAsString("receivestatesize")},set:function(e){this.receiveStateSize!==e&&(0,s.isNil)(e)&&(e=""),e!==this.receiveStateSize&&(this.setAttribute("receiveStateSize",e),this.repaint()),this._receiveStateSize=e}},{key:"receiveStateLabel",get:function(){return this._attributeValueAsString("receivestatelabel")},set:function(e){this.receiveStateLabel!==e&&(0,s.isNil)(e)&&(e=""),e!==this.receiveStateLabel&&(this.setAttribute("receiveStateLabel",e),this.repaint()),this._receiveStateLabel=e}},{key:"receiveStateUrl",get:function(){return this._attributeValueAsString("receivestateurl")},set:function(e){this.receiveStateValue!==e&&(0,s.isNil)(e)&&(e=""),e!==this.receiveStateUrl&&(this.setAttribute("receiveStateUrl",e),this.repaint()),this._receiveStateUrl=e}},{key:"sendEventOnFocus",get:function(){return this._sendEventOnFocus},set:function(e){this.sendEventOnFocus!==e&&(0,s.isNil)(e)&&(e=""),e!==this.sendEventOnFocus&&this.setAttribute("sendEventOnFocus",e),this._sendEventOnFocus=e}},{key:"sendEventOnChange",get:function(){return this._sendEventOnChange},set:function(e){this.sendEventOnChange!==e&&(0,s.isNil)(e)&&(e=""),e!==this.sendEventOnChange&&this.setAttribute("sendEventOnChange",e),this._sendEventOnChange=e}},{key:"sendEventOnOverflow",get:function(){return this._sendEventOnOverflow},set:function(e){this.sendEventOnOverflow!==e&&(0,s.isNil)(e)&&(e=""),e!==this.sendEventOnOverflow&&this.setAttribute("sendEventOnOverflow",e),this._sendEventOnOverflow=e}},{key:"sendEventOnUnderflow",get:function(){return this._sendEventOnUnderflow},set:function(e){this.sendEventOnUnderflow!==e&&(0,s.isNil)(e)&&(e=""),e!==this.sendEventOnUnderflow&&this.setAttribute("sendEventOnUnderflow",e),this._sendEventOnUnderflow=e}},{key:"feedbackMode",get:function(){return this._feedbackMode},set:function(e){this.feedbackMode!==e&&(0,s.isNil)(e)&&(e="direct"),n.FEEDBACKMODES.indexOf(e)<0&&(e=n.FEEDBACKMODES[0]),e!==this._feedbackMode&&this.setAttribute("feedbackMode",e),this._feedbackMode=e}},{key:"signalValueSyncTimeout",get:function(){return this._signalValueSyncTimeout},set:function(e){this.signalValueSyncTimeout!==e&&(0,s.isNil)(e)&&(e=1500),e!==this.signalValueSyncTimeout&&this.setAttribute("signalValueSyncTimeout",e+""),this._signalValueSyncTimeout=e}},{key:"label",get:function(){return this._label},set:function(e){var t=e;""!==(e=this.label!==e&&(0,s.isNil)(e)?"":this._getTranslatedValue("label",e))&&this.label!==e&&t!==e&&this.setAttribute("label",e),this._label=e}},{key:"autoSetItemHeight",get:function(){return this._autoSetItemHeight},set:function(e){this._autoSetItemHeight=this.toBoolean(e,!0)}},{key:"connectedCallback",value:function(){var e=this;this.info("<ch5-spinner />.connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",d.Ch5RoleAttributeMapping.ch5Spinner),this.contentCleanUp(),Promise.all([customElements.whenDefined("ch5-spinner")]).then(function(){e._wasInstantiated||(e.cacheComponentChildrens(),e._wasInstantiated=!0,e.initUtilities(),e.initCommonMutationObserver(e))})}},{key:"initSignals",value:function(){this.info("<ch5-spinner />.initSignals()"),this.hasAttribute("receiveStateValue")&&this.registerReceiveSignalValue(),this.hasAttribute("receiveStateSize")&&this.registerReceiveSignalSize(),this.hasAttribute("receiveStateLabel")&&this.registerReceiveSignalLabel()}},{key:"dirtyTimeHandler",value:function(){this.info("<ch5-spinner />.dirtyTimeHandler()"),window.setTimeout(this.dirtyHandler.bind(this),this.signalValueSyncTimeout)}},{key:"disconnectedCallback",value:function(){this.info("<ch5-spinner />.disconnectedCallback()"),this._wasInstantiated=!1,void 0!==this._scrollHelper.destruct&&this._scrollHelper.destruct(),void 0!==this.templateHelper.destruct&&this.templateHelper.destruct(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}},{key:"unsubscribeFromSignals",value:function(){this.info("<ch5-spinner />.unsubscribeFromSignals()"),_get(_getPrototypeOf(n.prototype),"unsubscribeFromSignals",this).call(this),!1===this._keepListeningOnSignalsAfterRemoval&&(this.clearNumberSignalSubscription(this._receiveStateSize,this._receiveStateSizeSub),this._receiveStateUrl="",this.clearNumberSignalSubscription(this._receiveStateValue,this._receiveStateValueSub),this._receiveStateValue="",this.clearStringSignalSubscription(this._receiveStateLabel,this._receiveStateLabelSub),this._receiveStateLabel="")}},{key:"attributeChangedCallback",value:function(e,t,i){if(t!==i&&(this.info('<ch5-spinner />.attributeChangedCallback("'+e+'","'+t+'","'+i+'")'),_get(_getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,e,t,i),this._wasInstantiated&&t!==i)){switch(e){case"size":!1===this.hasAttribute("receiveStateSize")&&(this.size=parseFloat(i),this.repaint());break;case"iconposition":this.iconPosition=i;break;case"selectedvalue":this.selectedValue=parseFloat(i),this._cleanItem=parseFloat(i),this._scrollHelper.constructor===l.Ch5SpinnerScroll&&this._scrollHelper.selectTheItem(parseFloat(i));break;case"itemheight":this.itemHeight=i,this.repaint();break;case"visibleitemscroll":this.visibleItemScroll=parseFloat(i),this.repaint();break;case"indexid":this.indexId=i;break;case"feedbackmode":this.feedbackMode=i;break;case"signalvaluesynctimeout":this.signalValueSyncTimeout=parseFloat(i);break;case"sendeventonchange":this.sendEventOnChange=i;break;case"sendeventonfocus":this.sendEventOnFocus=i;break;case"sendeventonoverflow":this.sendEventOnOverflow=i;break;case"sendEventOnUnderflow":this.sendEventOnUnderflow=i;break;case"receivestatevalue":this.receiveStateValue=i;break;case"receivestatesize":this.receiveStateSize=i;break;case"receivestatelabel":this.receiveStateLabel=i;break;case"receivestateurl":this.receiveStateUrl=i;break;case"show":!this.itemHeight&&i&&this.templateHelper.handleDefaultItemHeight(this.templateHelper.childrenObject[0])}this.addAriaAttributes()}}},{key:"addAriaAttributes",value:function(){this.templateHelper.constructor===a.Ch5SpinnerTemplate&&this.templateHelper.wrapperElement.constructor===HTMLDivElement&&this.templateHelper.wrapperElement.setAttribute("role","listbox")}},{key:"registerReceiveSignalValue",value:function(){var e=this;this.info("<ch5-spinner />.registerReceiveSignalValue()"),this.clearStringSignalSubscription(this.receiveStateValue,this._receiveStateValueSub);var t=c.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),i=c.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==i&&(this._receiveStateValueSub=i.subscribe(function(t){(null!==t||void 0!==t)&&t>=0&&(e.selectedValue=t,e._cleanItem=t,e._scrollHelper.selectTheItem(t))}))}},{key:"registerReceiveSignalLabel",value:function(){var e=this;this.info("<ch5-spinner />.registerReceiveSignalLabel()"),this.clearStringSignalSubscription(this.receiveStateLabel,this._receiveStateLabelSub);var t=c.Ch5Signal.getSubscriptionSignalName(this.receiveStateLabel),i=c.Ch5SignalFactory.getInstance().getStringSignal(t);null!==i&&(this._receiveStateLabelSub=i.subscribe(function(t){null===t&&void 0===t||e.setAttribute("label",t)}))}},{key:"registerReceiveSignalSize",value:function(){var e=this;this.info("<ch5-spinner />.registerReceiveSignalSize()"),this.clearStringSignalSubscription(this.receiveStateSize,this._receiveStateSizeSub);var t=c.Ch5Signal.getSubscriptionSignalName(this.receiveStateSize),i=c.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==i&&(this._receiveStateSizeSub=i.subscribe(function(t){t=e.adjustMaxSizeValue(t),(0,s.isNil)(t)||0===t||e.size===t||(e.size=t,e.repaint())}))}},{key:"repaint",value:function(){this.info("<ch5-spinner />.repaint()");try{if(this.templateHelper.constructor===a.Ch5SpinnerTemplate&&null!==this.parentNode&&this.hasChildNodes()){for(var t=this.childNodes.length-1;t>=0;t--)"TEMPLATE"!==this.childNodes[t].tagName&&this.removeChild(this.childNodes[t]);if(!this.hasChildNodes()||null!==this.childNodes[0]&&"TEMPLATE"===this.childNodes[0].tagName){var i=document.createElement("div");this.parentNode.insertBefore(i,this.nextSibling),this.remove(),i.parentNode.insertBefore(this,i.nextSibling),i.remove()}}}catch(e){console.error("Something wrong with component regeneration",e)}}},{key:"submit",value:function(){if(this.info("<ch5-spinner />.submit()"),"submit"===this.feedbackMode&&(this.dirtyTimeHandler(),this._scrollHelper.getCleanCurrentElementIndex()!==this._cleanItem)){var e=this.sendEventOnChange;if(""!==e&&null!=e){var t=c.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventOnChange);null!==t&&t.publish(this._scrollHelper.getCleanCurrentElement())}}}},{key:"reset",value:function(){this.info("<ch5-spinner />.reset()"),this._scrollHelper.selectTheItem(this.selectedValue),this._cleanItem=this._scrollHelper.getCleanCurrentElementIndex(),this.dirtyFlag=!1,this._eventsHelper.dispatchClean()}},{key:"getValue",value:function(){return this.info("<ch5-spinner />.getValue()"),this._scrollHelper.getCleanCurrentElement()}},{key:"setValue",value:function(e){this.info("<ch5-spinner />.setValue()"),this._scrollHelper.selectTheItem(e)}},{key:"getDirty",value:function(){return this.info("<ch5-spinner />.getDirty()"),this._cleanItem!==this._scrollHelper.getCleanCurrentElementIndex()}},{key:"adjustMaxSizeValue",value:function(e){return e>n.MAX_SIZE?n.MAX_SIZE:e}},{key:"getItemHeightValue",value:function(){var e=parseFloat(this.itemHeight);return!0!==isNaN(e)?e:0}},{key:"getItemHeightMeasurementUnit",value:function(){return this.itemHeight.indexOf("px")>-1?"px":this.itemHeight.indexOf("vh")>-1?"vh":"px"}},{key:"getHighlightOffsetValue",value:function(){var e=this.visibleItemScroll,t=this.getItemHeightValue();return(Math.ceil(e/2)-1)*t}},{key:"getHighlightOffset",value:function(){return this.getHighlightOffsetValue()+this.getItemHeightMeasurementUnit()}},{key:"initAttributes",value:function(){if(_get(_getPrototypeOf(n.prototype),"initAttributes",this).call(this),!0===this.hasAttribute("autosetitemheight")&&(this.autoSetItemHeight=!0),this.hasAttribute("itemHeight")&&(this.itemHeight=null!==this.getAttribute("itemHeight")?this.getAttribute("itemHeight"):""),!1!==this.hasAttribute("itemHeight")&&null!==this.itemHeight||(this.autoSetItemHeight=!0,(0,s.isNil)(this.templateHelper.element)&&(this.itemHeight=n.ITEM_HEIGHT_WHEN_EMPTY),this.setAttribute("autosetitemheight","")),this.hasAttribute("size")&&(this.size=null!==this.getAttribute("size")?parseFloat(this.getAttribute("size")):this.size),this.hasAttribute("iconPosition")?this.iconPosition=null!==this.getAttribute("iconPosition")?this.getAttribute("iconPosition"):n.ICONPOSITIONS[0]:this.iconPosition=n.ICONPOSITIONS[0],this.hasAttribute("selectedValue")&&(this.selectedValue=null!==this.getAttribute("selectedvalue")?parseFloat(this.getAttribute("selectedvalue")):this.selectedValue),this.hasAttribute("visibleItemScroll")?this.visibleItemScroll=null!==this.getAttribute("visibleItemScroll")?parseFloat(this.getAttribute("visibleItemScroll")):this.visibleItemScroll:this.visibleItemScroll=n.VISIBLEITEMSCROLL,this.hasAttribute("resize")&&(this.resize=!!this.hasAttribute("resize")),this.hasAttribute("endless")){var e="false"!==this.getAttribute("endless");this.endless=e}this.hasAttribute("indexId")&&(this.indexId=null!==this.getAttribute("indexId")?this.getAttribute("indexId"):""),this.hasAttribute("label")&&(this.label=null!==this.getAttribute("label")?this.getAttribute("label"):""),this.hasAttribute("feedbackMode")?this.feedbackMode=null!==this.getAttribute("feedbackMode")?this.getAttribute("feedbackMode"):"direct":this.feedbackMode=n.FEEDBACKMODES[0],this.hasAttribute("signalValueSyncTimeout")?this.signalValueSyncTimeout=null!==this.getAttribute("signalValueSyncTimeout")?parseFloat(this.getAttribute("signalValueSyncTimeout")+""):1500:this.signalValueSyncTimeout=n.SYNCTIMEOUT,this.hasAttribute("sendEventOnChange")&&(this.sendEventOnChange=null!==this.getAttribute("sendEventOnChange")?this.getAttribute("sendEventOnChange"):""),this.hasAttribute("sendEventOnFocus")&&(this.sendEventOnFocus=null!==this.getAttribute("sendEventOnFocus")?this.getAttribute("sendEventOnFocus"):""),this.hasAttribute("sendEventOnOverflow")&&(this.sendEventOnOverflow=null!==this.getAttribute("sendEventOnOverflow")?this.getAttribute("sendEventOnOverflow"):""),this.hasAttribute("sendEventOnUnderflow")&&(this.sendEventOnUnderflow=null!==this.getAttribute("sendEventOnUnderflow")?this.getAttribute("sendEventOnUnderflow"):""),this.hasAttribute("receiveStateValue")&&(this.receiveStateValue=null!==this.getAttribute("receiveStateValue")?this.getAttribute("receiveStateValue"):""),this.hasAttribute("receiveStateSize")&&(this.receiveStateSize=null!==this.getAttribute("receiveStateSize")?this.getAttribute("receiveStateSize"):""),this.hasAttribute("receiveStateLabel")&&(this.receiveStateLabel=null!==this.getAttribute("receiveStateLabel")?this.getAttribute("receiveStateLabel"):""),this.hasAttribute("receiveStateUrl")&&(this.receiveStateUrl=null!==this.getAttribute("receiveStateUrl")?this.getAttribute("receiveStateUrl"):""),this.hasAttribute("onclean")&&(this.onclean=new h.default(this,this.getAttribute("onclean"))),this.hasAttribute("ondirty")&&(this.ondirty=new h.default(this,this.getAttribute("ondirty")))}},{key:"initUtilities",value:function(){this.info("<ch5-spinner />.initUtilities()"),this.classList.add(n.cssClassPrefix),this.initAttributes(),this._eventsHelper=new u.Ch5SpinnerEvents(this),this._templateHelper=new a.Ch5SpinnerTemplate(this),this.resolveTemplateChildren(this._templateHelper.templateElement),this._templateHelper.generateTemplate(this.size),this._scrollHelper=new l.Ch5SpinnerScroll(this),this.addAriaAttributes(),this.initSignals()}},{key:"dirtyHandler",value:function(){this.info("<ch5-spinner />.dirtyHandler()"),this.dirtyFlag&&(this._scrollHelper.selectTheItem(this._cleanItem),this._eventsHelper.dispatchClean(),this.dirtyFlag=!1)}},{key:"translateCallback",value:function(e){var t=this;this.info("<ch5-spinner />.translateCallback()"),"label"===e&&null!==this.templateHelper.childrenObject&&this.templateHelper.childrenObject.length>0&&this.templateHelper.childrenObject.forEach(function(e,i){var n=e.cloneNode(!0);n.innerHTML=t._getTranslatedValue("label",e.innerHTML);var s=t.templateHelper.resolveId(i,[n]);e.innerHTML=void 0!==s?s.children[0].innerHTML:n.innerHTML})}}],[{key:"observedAttributes",get:function(){var e=r.Ch5Common.observedAttributes;return["size","iconposition","selectedvalue","itemheight","visibleitemscroll","resize","endless","indexid","label","feedbackmode","signalvaluesynctimeout","sendeventonchange","sendeventonfocus","sendeventonoverflow","sendEventOnUnderflow","receivestatevalue","receivestatesize","receivestatelabel","receivestateurl","show"].concat(e)}},{key:"registerSignalAttributeTypes",value:function(){f.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(n.ELEMENT_NAME,n.SIGNAL_ATTRIBUTE_TYPES)}},{key:"registerSignalAttributeDefaults",value:function(){f.Ch5SignalAttributeRegistry.instance.addElementDefaultAttributeEntries(n.ELEMENT_NAME,{contractName:{attributes:["contractname"],defaultValue:""},booleanJoin:{attributes:["booleanjoinoffset"],defaultValue:"0"},numericJoin:{attributes:["numericjoinoffset"],defaultValue:"0"},stringJoin:{attributes:["stringjoinoffset"],defaultValue:"0"}})}}]),n}();t.Ch5Spinner=p,p.ELEMENT_NAME="ch5-spinner",p.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},r.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",stringJoin:1,contractName:!0},receivestatesize:{direction:"state",numericJoin:1,contractName:!0},receivestatelabel:{direction:"state",stringJoin:1,contractName:!0},receivestateurl:{direction:"state",stringJoin:1,contractName:!0},sendeventonchange:{direction:"event",booleanJoin:1,contractName:!0},sendeventonfocus:{direction:"event",booleanJoin:1,contractName:!0},sendeventonoverflow:{direction:"event",booleanJoin:1,contractName:!0},sendEventonunderflow:{direction:"event",booleanJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),p.primaryCssClass="ch5-spinner",p.cssClassPrefix="ch5-spinner",p.VISIBLEITEMSCROLL=3,p.SYNCTIMEOUT=1500,p.ITEM_HEIGHT_WHEN_EMPTY="33",p.ICONPOSITIONS=["first","last"],p.FEEDBACKMODES=["direct","submit"],p.COMPONENT_DATA={ICON_POSITIONS:{default:p.ICONPOSITIONS[0],values:p.ICONPOSITIONS,key:"icon_position",classListPrefix:"ch5-spinner--"},FEEDBACK_MODES:{default:p.FEEDBACKMODES[0],values:p.FEEDBACKMODES,key:"feedback_modes",classListPrefix:"ch5-spinner--"}},p.MAX_SIZE=30,"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(p.ELEMENT_NAME,p),p.registerSignalAttributeTypes(),p.registerSignalAttributeDefaults()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(178),t)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Select=void 0,i(37);var s=i(3),r=i(39),a=i(0),o=n(i(14)),l=i(20),u=i(4),c=i(1),h=i(2),d=function(e){_inherits(i,s.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).cssClassPrefix="ch5-select",e.iconPosition="first",e.mainPanel={},e.selectedOptionsPanel={},e.selectPanel={},e.comboTrigger={},e.templateVarsData=[],e._selectionTimeout=null,e._multiselectionTimeout=null,e.receiveStateSizeSubscription="",e.receiveStateValueSubscription="",e.receiveStateTemplateVarsSubscription="",e._optionTemplateHTML="",e._lastReceivedSignalValue=-1,e._cleanValue=-1,e._lastSelectedOptIdx=null,e._size=0,e._multiselect=!1,e._selectedValue=-1,e._selectedValues=[],e._cleanValues=[],e._multiselectedValuesMap=[],e._panelScrollHeight="0px",e._minWidth="",e._maxWidth="",e._minHeight="",e._maxHeight="",e._resize=!1,e._mode=i.MODE_VALUES[0],e._feedbackMode=i.FEEDBACK_MODE_VALUES[0],e._signalValueSyncTimeout=i.DEFAULT_SIGNAL_VALUE_SYNC_TIMEOUT,e._indexId="",e._receiveStateValue=null,e._receiveStateSize=null,e._receiveStateTemplateVars=null,e._sendEventOnFocus=null,e._sendEventOnChange=null,e._dirty=!1,e._ondirtyCallback={},e._oncleanCallback={},e._noneSelectedPrompt=i.PLACEHOLDER_DEFAULT,e._comboTriggerHammer=null,e._onFocus=e._onFocus.bind(_assertThisInitialized(e)),e._onBlur=e._onBlur.bind(_assertThisInitialized(e)),e._handleSelectPanelToggle=e._handleSelectPanelToggle.bind(_assertThisInitialized(e)),e._handleOptionSelected=e._handleOptionSelected.bind(_assertThisInitialized(e)),e.closeSelectPanel=e.closeSelectPanel.bind(_assertThisInitialized(e)),e._wasInstatiated=!1,e}return _createClass(i,[{key:"ondirtyCallback",get:function(){return this._ondirtyCallback},set:function(e){null!=e||(e={}),this._ondirtyCallback=e}},{key:"ondirty",get:function(){return this.ondirtyCallback},set:function(e){this.ondirtyCallback=e}},{key:"oncleanCallback",get:function(){return this._oncleanCallback},set:function(e){null!=e||(e={}),this._oncleanCallback=e}},{key:"onclean",get:function(){return this.oncleanCallback},set:function(e){this.oncleanCallback=e}},{key:"connectedCallback",value:function(){var e=this;Promise.all([customElements.whenDefined("ch5-select")]).then(function(){e.info("connectedCallback()"),e.hasAttribute("role")||e.setAttribute("role",u.Ch5RoleAttributeMapping.ch5Select),e.setAttribute("data-ch5-id",e.getCrId()),e.hasAttribute("role")||e.setAttribute("role",u.Ch5RoleAttributeMapping.ch5Spinner),e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e._initOptionTemplate(),""===e._optionTemplateHTML?(e.info("add mutation observer in order to extract template data"),e._startReadyObserver()):(e.info("connectedCallback initializations"),e.initializations()),e.initCommonMutationObserver(e),e.info("Callback loaded - ch5-select"),e._wasInstatiated=!0})}},{key:"disconnectedCallback",value:function(){this.removeEventListeners(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}},{key:"unsubscribeFromSignals",value:function(){this.info("unsubscribeFromSignal()"),_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this),this.clearStringSignalSubscription(this._receiveStateSize,this.receiveStateSizeSubscription),this._receiveStateSize="",this.clearStringSignalSubscription(this._receiveStateTemplateVars,this.receiveStateTemplateVarsSubscription),this._receiveStateTemplateVars="",this.clearStringSignalSubscription(this._receiveStateValue,this.receiveStateValueSubscription),this._receiveStateValue=""}},{key:"initializations",value:function(){this._addMainClass(),this._updateModeClass(),this.initAttributes(),this.multiselect?this._cleanValues=this.selectedValues.slice(0):this._cleanValue=this.selectedValue,this._createMainPanel(),this.templateVarsData=this._getTemplateVarsFromDefaultConfig(),this.selectedOptionsPanel.innerHTML=this.noneSelectedPrompt,this._updateCh5SelectDimensions(),this.shouldComputeDropdownHeight(),this._createSelectPanel(),this.attachEventListeners()}},{key:"shouldComputeDropdownHeight",value:function(){if(this.panelScrollHeight.toString().includes("%")&&!(0,c.isNil)(this.parentElement)&&this.parentElement.offsetHeight>0){var e=parseInt(this.panelScrollHeight,10);this.panelScrollHeight=e>0?"".concat(this.parentElement.offsetHeight/100*e,"px"):""}}},{key:"_initOptionTemplate",value:function(){if(""===this._optionTemplateHTML&&!0!==this._wasInstatiated){var e=this.getElementsByTagName("template")[0];e&&e.innerHTML&&e.innerHTML.length>0?(this.info("optionTemplate.innerHtml ",e.innerHTML),this._validateTmplFirstElAsCh5SelectOption(e.content),this._optionTemplateHTML=e.innerHTML.trim(),e.remove()):e&&e.firstElementChild&&e.firstElementChild.outerHTML&&e.firstElementChild.outerHTML.length>0&&(this.info("optionTemplate.firstElementChild.outerHTML ",e.firstElementChild.outerHTML),this._validateTmplFirstElAsCh5SelectOption(e),this._optionTemplateHTML=e.firstElementChild.outerHTML.trim(),e.remove())}}},{key:"_startReadyObserver",value:function(){var e=this;if(this.querySelector("."+i.MAIN_PANEL_STYLE_CLASS))return this.mainPanel=this.querySelector("."+i.MAIN_PANEL_STYLE_CLASS),this.selectedOptionsPanel=this.querySelector("."+i.SELECTED_ITEMS_STYLE_CLASS),this.selectPanel=this.querySelector("."+i.PANEL_ITEMS_STYLE_CLASS),void this.attachEventListeners();var t=new MutationObserver(function(i){e.info("mutationObserver Callback"),i.forEach(function(i){if(e.info("mutation",i),"childList"===i.type&&i.addedNodes&&i.addedNodes.length>0){for(var n=null,s=0;s<i.addedNodes.length;s++)if("template"===i.addedNodes[s].nodeName.toLowerCase()){n=i.addedNodes[s];break}if(null!==n){e.info("templateElement innerhtml",n.innerHTML),e._validateTmplFirstElAsCh5SelectOption(n);var r=n.innerHTML;""===r.trim()&&(r=n.firstElementChild.outerHTML,e._optionTemplateHTML=r,e.initializations(),t.disconnect(),n.remove())}}})});t.observe(this,{childList:!0,subtree:!1,attributes:!1,characterData:!1})}},{key:"_validateTmplFirstElAsCh5SelectOption",value:function(e){if("ch5-select-option"!==e.firstElementChild.nodeName.toLowerCase())throw new Error("ch5-select, id: ".concat(this.getAttribute("data-ch5-id"),"\n                - no ch5-select-option provided"))}},{key:"_updateCh5SelectDimensions",value:function(){var e=(this._getStyleWidthProps()+this._getStyleHeightProps()).trim();""===e&&(e=this._getCssDimensionsUsingParent(!0)),this.style.cssText=e,this._isValidElement(this.mainPanel)&&(this.mainPanel.style.cssText=this._getStyleHeightProps())}},{key:"_createMainPanel",value:function(){!0!==this._wasInstatiated&&(this.mainPanel=document.createElement("div"),this.mainPanel.classList.add(i.MAIN_PANEL_STYLE_CLASS),this.selectedOptionsPanel=document.createElement("div"),this.selectedOptionsPanel.classList.add(i.SELECTED_ITEMS_STYLE_CLASS),this.mainPanel.appendChild(this.selectedOptionsPanel),this._createComboTrigger(),this.appendChild(this.mainPanel))}},{key:"_createSelectPanel",value:function(){this.selectPanel instanceof HTMLElement&&(this.selectPanel.remove(),this.selectPanel={}),this.selectPanel=document.createElement("div"),this.selectPanel.classList.add(i.PANEL_ITEMS_STYLE_CLASS),this.appendChild(this.selectPanel),this._updateSelectPanelScrollHeight(),this._applyResize(),this.renderCh5SelectOptions()}},{key:"_createComboTrigger",value:function(){!this._isPanel()&&this._isValidElement(this.mainPanel)&&(this.comboTrigger=document.createElement("span"),this.comboTrigger.classList.add(i.COMBO_TRIGGER_STYLE_CLASS),this.comboTrigger.innerHTML=this._getCh5SelectOpenTriggerIcon(),this.mainPanel.appendChild(this.comboTrigger))}},{key:"_handleSelectPanelToggle",value:function(){this._isOpened()?this.closeSelectPanel():this.openSelectPanel()}},{key:"_isOpened",value:function(){return this.classList.contains(i.OPENED_STYLE_CLASS)}},{key:"openSelectPanel",value:function(){this.classList.contains(i.SELECTION_IN_PROGRESS_STYLE_CLASS)||this.classList.add(i.OPENED_STYLE_CLASS)}},{key:"closeSelectPanel",value:function(){this.classList.remove(i.OPENED_STYLE_CLASS)}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n){switch(this.info('ch5-select attributeChangedCallback("'+e+'","'+t+'","'+n+")"),e){case"size":this.size=this.getAttribute("size")||1;break;case"multiselect":this.multiselect=this.hasAttribute("multiselect");break;case"selectedvalue":this.selectedValue=this.getAttribute("selectedValue")||0;break;case"panelscrollheight":this.panelScrollHeight=this.getAttribute("panelScrollHeight")||"";break;case"minwidth":this.minWidth=this.getAttribute("minWidth")||"";break;case"maxwidth":this.maxWidth=this.getAttribute("maxWidth")||"";break;case"minheight":this.minHeight=this.getAttribute("minHeight")||"";break;case"maxheight":this.maxHeight=this.getAttribute("maxHeight")||"";break;case"resize":this.resize=this.hasAttribute("resize");break;case"mode":this.mode=this.getAttribute("mode")||i.MODE_VALUES[0];break;case"feedbackmode":this.feedbackMode=this.getAttribute("feedbackMode")||i.FEEDBACK_MODE_VALUES[0];break;case"signalvaluesynctimeout":this.signalValueSyncTimeout=this.getAttribute("signalValueSyncTimeout")||i.DEFAULT_SIGNAL_VALUE_SYNC_TIMEOUT;break;case"indexid":this.indexId=this.getAttribute("indexId")||"";break;case"receivestatevalue":this.receiveStateValue=this.getAttribute("receiveStateValue")||"";break;case"receivestatesize":this.receiveStateSize=this.getAttribute("receiveStateSize")||"";break;case"receivestatetemplatevars":this.receiveStateTemplateVars=this.getAttribute("receiveStateTemplateVars")||"";break;case"sendeventonfocus":this.sendEventOnFocus=this.getAttribute("sendEventOnFocus")||"";break;case"sendeventonchange":this.sendEventOnChange=this.getAttribute("sendEventOnChange")||"";break;case"noneselectedprompt":this.noneSelectedPrompt=this.getAttribute("noneSelectedPrompt");break;case"ondirty":this.ondirtyCallback=new o.default(this,this.getAttribute("ondirty"));break;case"onclean":this.oncleanCallback=new o.default(this,this.getAttribute("onclean"));break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}"dir"===e&&this._updateOptionsDirAttr()}}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.info("initAttributes()"),this.hasAttribute("size")&&(this.size=this.getAttribute("size")),this.multiselect=this.hasAttribute("multiselect"),this.hasAttribute("selectedValue")&&(this.selectedValue=this.getAttribute("selectedValue")),this.hasAttribute("panelScrollHeight")&&(this.panelScrollHeight=this.getAttribute("panelScrollHeight")),this.hasAttribute("minWidth")&&(this.minWidth=this.getAttribute("minWidth")),this.hasAttribute("maxWidth")&&(this.maxWidth=this.getAttribute("maxWidth")),this.hasAttribute("minHeight")&&(this.minHeight=this.getAttribute("minHeight")),this.hasAttribute("maxHeight")&&(this.maxHeight=this.getAttribute("maxHeight")),this.resize=this.hasAttribute("resize"),this.hasAttribute("mode")&&(this.mode=this.getAttribute("mode")),this.hasAttribute("feedbackMode")&&(this.feedbackMode=this.getAttribute("feedbackMode")),this.hasAttribute("signalValueSyncTimeout")&&(this.signalValueSyncTimeout=this.getAttribute("signalValueSyncTimeout")),this.hasAttribute("indexId")&&(this.indexId=this.getAttribute("indexId")),this.hasAttribute("receiveStateValue")&&(this.receiveStateValue=this.getAttribute("receiveStateValue")),this.hasAttribute("receiveStateSize")&&(this.receiveStateSize=this.getAttribute("receiveStateSize")),this.hasAttribute("receiveStateTemplateVars")&&(this.receiveStateTemplateVars=this.getAttribute("receiveStateTemplateVars")),this.hasAttribute("sendEventOnFocus")&&(this.sendEventOnFocus=this.getAttribute("sendEventOnFocus")),this.hasAttribute("sendEventOnChange")&&(this.sendEventOnChange=this.getAttribute("sendEventOnChange")),this.hasAttribute("noneSelectedPrompt")&&(this.noneSelectedPrompt=this.getAttribute("noneSelectedPrompt"))}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),this.removeEventListeners(),this.addEventListener("focus",this._onFocus),this.addEventListener("blur",this._onBlur),this.addEventListener("option-selected",this._handleOptionSelected),this._isPlain()&&(this.addEventListener("blur",this.closeSelectPanel),this._comboTriggerHammer=new Hammer.Manager(this.mainPanel),this._comboTriggerHammer.add(new Hammer.Tap({event:"tap"})),this._comboTriggerHammer.on("tap",this._handleSelectPanelToggle))}},{key:"removeEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),this.removeEventListener("focus",this._onFocus),this.removeEventListener("blur",this._onBlur),this.removeEventListener("option-selected",this._handleOptionSelected),this._isPlain()&&(null!==this._comboTriggerHammer&&this._comboTriggerHammer.off("tap",this._handleSelectPanelToggle),this.removeEventListener("blur",this.closeSelectPanel))}},{key:"size",get:function(){return this.hasTemplateVars()&&this.templateVarsData.length>this._size?this._size:this.hasTemplateVars()?this.templateVarsData.length:this._size},set:function(e){e=Number(e),(isNaN(e)||e<1)&&(e=1),this._size!==e&&(this._size=e,this.setAttribute("size",e.toString()),this.renderCh5SelectOptions())}},{key:"multiselect",get:function(){return this._multiselect},set:function(e){this._multiselect!==e&&(this._multiselect=e,!0===e?this.setAttribute("multiselect",e.toString()):this.removeAttribute("multiselect"))}},{key:"selectedValue",get:function(){return this._selectedValue},set:function(e){e=Number(e),isNaN(e)&&(e=0),this._selectedValue!==e&&(this._selectedValue=e,this.setAttribute("selectedvalue",e.toString()),this._markOptionAsSelected(this.selectedValue),this._updateSingleSelectionInMainPanel(),!0===this.getDirty()&&this._selectedValue===this._cleanValue&&(this.dirty=!1))}},{key:"selectedValues",get:function(){return this._selectedValues},set:function(e){e instanceof Array==0&&(e=[]),this._selectedValues=e,this._updateMultiSelectionInMainPanel()}},{key:"panelScrollHeight",get:function(){return this._panelScrollHeight},set:function(e){e=this._checkAndSetStringValue(e),this._panelScrollHeight!==e&&(this._panelScrollHeight=e,this.setAttribute("panelscrollheight",e.toString()),this._updateSelectPanelScrollHeight())}},{key:"minWidth",get:function(){return this._minWidth},set:function(e){e=this._checkAndSetStringValue(e),this._minWidth!==e&&(this._minWidth=e,this.setAttribute("minwidth",e))}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(e){e=this._checkAndSetStringValue(e),this._maxWidth!==e&&(this._maxWidth=e,this.setAttribute("maxwidth",e))}},{key:"minHeight",get:function(){return this._minHeight},set:function(e){e=this._checkAndSetStringValue(e),this._minHeight!==e&&(this._minHeight=e,this.setAttribute("minheight",e))}},{key:"maxHeight",get:function(){return this._maxHeight},set:function(e){e=this._checkAndSetStringValue(e),this._maxHeight!==e&&(this._maxHeight=e,this.setAttribute("maxheight",e))}},{key:"resize",get:function(){return this._resize},set:function(e){this._resize!==e&&(this._resize=e,!0===e?this.setAttribute("resize",e.toString()):this.removeAttribute("resize"),this._applyResize())}},{key:"mode",get:function(){return this._mode},set:function(e){i.MODE_VALUES.some(function(t){return t===e})||(e=i.MODE_VALUES[0]),this._mode!==e&&(this._mode=e,this.setAttribute("mode",e.toString()),this._updateModeClass())}},{key:"_isPlain",value:function(){return this.mode===i.MODE_VALUES[0]}},{key:"_isPanel",value:function(){return this.mode===i.MODE_VALUES[1]}},{key:"feedbackMode",get:function(){return this._feedbackMode},set:function(e){i.FEEDBACK_MODE_VALUES.some(function(t){return t===e})||(e=i.FEEDBACK_MODE_VALUES[0]),this._feedbackMode!==e&&(this._feedbackMode=e,this.setAttribute("feedbackmode",e.toString()))}},{key:"signalValueSyncTimeout",get:function(){return this._signalValueSyncTimeout},set:function(e){e=Number(e),(isNaN(e)||e<0)&&(e=i.DEFAULT_SIGNAL_VALUE_SYNC_TIMEOUT),this._signalValueSyncTimeout!==e&&(this._signalValueSyncTimeout=e,this.setAttribute("signalvaluesynctimeout",e.toString()))}},{key:"indexId",get:function(){return this._indexId},set:function(e){e=this._checkAndSetStringValue(e),this._indexId!==e&&(this._indexId=e,this.setAttribute("indexid",e))}},{key:"receiveStateValue",get:function(){return this._attributeValueAsString("receivestatevalue")},set:function(e){e=this._checkAndSetStringValue(e),this._receiveStateValue!==e&&(this._receiveStateValue=e,this.setAttribute("receivestatevalue",e),this._handleReceiveSignalValue())}},{key:"receiveStateSize",get:function(){return this._attributeValueAsString("receivestatesize")},set:function(e){e=this._checkAndSetStringValue(e),this._receiveStateSize!==e&&(this._receiveStateSize=e,this.setAttribute("receivestatesize",e),this._handleReceiveSignalSize())}},{key:"receiveStateTemplateVars",get:function(){return this._attributeValueAsString("receivestatetemplatevars")},set:function(e){e=this._checkAndSetStringValue(e),this._receiveStateTemplateVars!==e&&(this._receiveStateTemplateVars=e,this.setAttribute("receivestatetemplatevars",e),this._handleReceiveSignalTemplateVars())}},{key:"sendEventOnFocus",get:function(){return this._sendEventOnFocus},set:function(e){e=this._checkAndSetStringValue(e),this._sendEventOnFocus!==e&&(this._sendEventOnFocus=e,this.setAttribute("sendeventonfocus",e))}},{key:"sendEventOnChange",get:function(){return this._sendEventOnChange},set:function(e){e=this._checkAndSetStringValue(e),this._sendEventOnChange!==e&&(this._sendEventOnChange=e,this.setAttribute("sendeventonchange",e))}},{key:"_getStyleWidthProps",value:function(){return"".concat(null===this.minWidth||""===this.minWidth?"":"min-width:".concat(this.minWidth,";")," ").concat(null==this.maxWidth||""===this._maxWidth?"":"max-width:".concat(this.maxWidth,";"))}},{key:"_getStyleHeightProps",value:function(){return"".concat(null===this.minHeight||""===this.minHeight?"":"min-height:".concat(this.minHeight,";")," ").concat(null===this.maxHeight||""===this.maxHeight?"":"max-height:".concat(this.maxHeight,";"))}},{key:"_getCh5SelectOpenTriggerIcon",value:function(){return'<svg role="img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"></path></svg>'}},{key:"_getCssDimensionsUsingParent",value:function(e){var t=this.parentElement;if(t&&this._isValidElement(t)){var i=t.getBoundingClientRect(),n="";if(i.width>0&&(n="min-width: 0; max-width:".concat(i.width,"px;")),e)return n;var s="";return i.height>0&&(s="min-height: 0; max-height:".concat(i.height,"px;")),n+s}return""}},{key:"_updateSelectPanelScrollHeight",value:function(){this._isValidElement(this.selectPanel)&&(this.selectPanel.style.maxHeight=parseFloat(this.panelScrollHeight)>0?this.panelScrollHeight:"")}},{key:"_applyResize",value:function(){var e=this.parentElement;if(e&&this._isValidElement(this.selectPanel))if(this.resize){e.style.position="relative",this.style.position="static";var t=e.getBoundingClientRect();this.selectPanel.style.width="auto",this.selectPanel.style.maxWidth="".concat(t.width,"px");var i=this.getBoundingClientRect(),n=Math.abs(t.left-i.left);this.selectPanel.style.left="".concat(n,"px")}else e.style.position="inherit",this.style.position="",this.selectPanel.style.width="",this.selectPanel.style.maxWidth="",this.selectPanel.style.left=""}},{key:"_isValidElement",value:function(e){return"object"==_typeof(e)&&e instanceof HTMLElement}},{key:"_addMainClass",value:function(){this.classList.add(i.CH5_SELECT_MAIN_STYLE_CLASS)}},{key:"_updateModeClass",value:function(){this._isPlain()?(this.classList.remove(i.MODE_PANEL_STYLE_CLASS),this.classList.add(i.MODE_COMBO_STYLE_CLASS)):(this.classList.remove(i.MODE_COMBO_STYLE_CLASS),this.classList.add(i.MODE_PANEL_STYLE_CLASS))}},{key:"_getOptionTemplateWithReplacedVars",value:function(e,t){var i=this,n=this.getOptionTemplateVars(t);return null!==n&&Object.keys(n).forEach(function(t){var s="{{"+t+"}}",r=n[t];e=i.textReplace(e,s,r,!0)}),e}},{key:"_getProcessedOptionEl",value:function(e){var t=this._optionTemplateHTML;this.hasTemplateVars()&&(t=this._getOptionTemplateWithReplacedVars(t,e));var i=document.createElement("template");return i.innerHTML=t,null!==this.indexId&&(l.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(i,e,this.indexId),l.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(i,e,this.indexId)),i.content.firstChild}},{key:"getOptionsListSize",value:function(){return this.selectPanel.querySelectorAll("ch5-select-option").length}},{key:"buildOptions",value:function(e){e=void 0!==e?e:0,this.info("Build ch5-select options starting with index: ".concat(e));for(var t=e;t<this.size;t++){var n=this._getProcessedOptionEl(t),s=t;n.setAttribute("data-ch5-opt-idx",String(s)),n.classList.add(i.PANEL_ITEM_STYLE_CLASS),n.dir=this.dir,this.selectPanel.appendChild(n)}l.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(this,this.getAttribute("contractname")||"",parseInt(this.getAttribute("booleanjoinoffset")||"0",10)||0,parseInt(this.getAttribute("numericJoinOffset")||"0",10)||0,parseInt(this.getAttribute("stringJoinOffset")||"0",10)||0)}},{key:"removeLastOptsFromList",value:function(e,t){for(var i=e;i<t;i++){var n=i,s=this._getOptionElByIdx(n);s instanceof HTMLElement&&(this.info("Removing ch5-select-option ".concat(n)),s.remove())}}},{key:"renderCh5SelectOptions",value:function(){if(this._isValidElement(this.selectPanel)){var e=this.getOptionsListSize();0===e?this.buildOptions():this.size<e?this.removeLastOptsFromList(this.size,e):this.size>e&&this.buildOptions(e),this.multiselect||(this._markOptionAsSelected(this.selectedValue),this._updateSingleSelectionInMainPanel())}}},{key:"textReplace",value:function(e,t,i,n){var s="";return"string"==typeof e&&""!==e&&(s=!0===n?e.replace(new RegExp(t,"g"),i):e.replace(new RegExp(t),i)),s}},{key:"_getTemplateVarsFromDefaultConfig",value:function(){return r.Ch5Config.getTemplateVarsForElement(this)}},{key:"hasTemplateVars",value:function(){return this.templateVarsData.length>0}},{key:"getOptionTemplateVars",value:function(e){var t=this.templateVarsData[e];return null!==t&&"object"==_typeof(t)&&Object.keys(t).length>0?t:null}},{key:"_unsubscribeOldSignal",value:function(e,t,i){var n=null,s=a.Ch5Signal.getSubscriptionSignalName(e);switch(i){case"number":n=a.Ch5SignalFactory.getInstance().getNumberSignal(s);break;case"string":n=a.Ch5SignalFactory.getInstance().getStringSignal(s)}null!==n&&""!==t&&(n.unsubscribe(t),this.receiveStateSizeSubscription="")}},{key:"_handleReceiveSignalSize",value:function(){var e=this;if(""!==this.receiveStateSize&&""!==this.receiveStateSizeSubscription&&(this._unsubscribeOldSignal(this.receiveStateSize,this.receiveStateSizeSubscription,"number"),this.receiveStateSizeSubscription=""),""!==this.receiveStateSize&&null!==this.receiveStateSize){var t=a.Ch5Signal.getSubscriptionSignalName(this.receiveStateSize),i=a.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==i&&(this.receiveStateSizeSubscription=i.subscribe(function(t){var n=Number(t);!isNaN(n)&&i.hasChangedSinceInit()?(e.info("Received new size signal value: ".concat(t)),e.setAttribute("size",String(n))):e.info("Ch5Select receiveSizeSignal signal value for "+e.getAttribute("data-ch5-id")+" is invalid")}))}}},{key:"_handleReceiveSignalTemplateVars",value:function(){var e=this;if(""!==this.receiveStateTemplateVars&&""!==this.receiveStateTemplateVarsSubscription&&(this._unsubscribeOldSignal(this.receiveStateTemplateVars,this.receiveStateTemplateVarsSubscription,"string"),this.receiveStateTemplateVarsSubscription=""),""!==this.receiveStateTemplateVars&&null!==this.receiveStateTemplateVars){var t=a.Ch5Signal.getSubscriptionSignalName(this.receiveStateTemplateVars),i=a.Ch5SignalFactory.getInstance().getStringSignal(t);null!==i&&(this.receiveStateTemplateVarsSubscription=i.subscribe(function(t){var i=null;try{i=JSON.parse(t)}catch(t){e.info("Ch5Select receiveTemplateVarsSignal signal value for "+e.getAttribute("data-ch5-id")+" cannot be parsed")}i instanceof Array&&null!==i?(e.templateVarsData=i,e.selectPanel.innerHTML="",e.renderCh5SelectOptions()):e.info("Ch5Select receiveTemplateVarsSignal signal value for "+e.getAttribute("data-ch5-id")+" is invalid")}))}}},{key:"_setSelectionTimeoutCallback",value:function(e){var t=this,i=""===this.receiveStateValue||null===this.receiveStateValue||void 0===this.receiveStateValue||""===this.receiveStateValueSubscription,n=this._optionsHaveReceiveSignalSelectedAttr();i&&!n||(null!==this._selectionTimeout&&(clearTimeout(this._selectionTimeout),this._selectionTimeout=null),this.info("New selection timeout set..."),this._selectionTimeout=window.setTimeout(function(){var i=n?t._cleanValue:t.lastReceivedSignalValue;i!==e&&(t.setAttribute("selectedValue",String(i)),t._fireChangeEvent(i,e),t.info("Selection timeout: selectedValue was updated to the last value received from receivedSignalValue or receiveStateSelected signals: "+i),t.dirty=!1),clearTimeout(t._selectionTimeout),t._selectionTimeout=null},this._signalValueSyncTimeout))}},{key:"_handleOptionSelected",value:function(e){var t=e.detail.set,i=e.detail.idx;if(this.multiselect){var n=this._getOptionElByIdx(i),s=e.detail.confirmed||!1;this._updateMultiselectedValuesMap(t,i,s),t?(this._addToSelectedOptions(i),this._setOptionSelected(n)):(this._removeFromSelectedOptions(i),this._unsetOptionSelected(n)),this.dirty=!0,this._hasFeedbackModeSubmit()||this._setMultiselectionTimeoutCallback(),this._multiselectValuesAreAllConfirmed()&&(this.info("Multi-selection confirmed, cancel confirmation timeout fallback..."),null!==this._multiselectionTimeout&&(clearTimeout(this._multiselectionTimeout),this._multiselectionTimeout=null),this._multiselectionTimeoutCallback())}else{var r=this.selectedValue;if(e.detail.resetDirty&&(this.dirty=!1,this._cleanValue=t||r!==i?i:0),!t){if(r!==i)return;i=-1,this._lastSelectedOptIdx=r}if(r!==i){var a=this._getOptionElByIdx(t?i:r);a instanceof HTMLElement&&(t?this._markOptionAsSelected(i,a):this._unsetOptionSelected(a),this._closeSelectPanelIfPlain(),this.setAttribute("selectedValue",String(i)),!0!==e.detail.resetDirty&&i!==this._cleanValue&&(this.dirty=!0),this._fireChangeEvent(i,r),this._hasFeedbackModeSubmit()||(this._setSelectionTimeoutCallback(i),this.sendOnChangeSignal(i)))}else r===i&&this._closeSelectPanelIfPlain()}}},{key:"_multiselectValuesAreAllConfirmed",value:function(){return this._multiselectedValuesMap.every(function(e){return!0===e.confirmed})}},{key:"_optionsHaveReceiveSignalSelectedAttr",value:function(){var e=document.createElement("template");e.innerHTML=this._optionTemplateHTML;var t=e.content.firstChild;return null!==t&&t.hasAttribute("receiveStateSelected")&&null!==t.getAttribute("receiveStateSelected")}},{key:"_setMultiselectionTimeoutCallback",value:function(){var e=this;this._optionsHaveReceiveSignalSelectedAttr()&&(null!==this._multiselectionTimeout&&(clearTimeout(this._multiselectionTimeout),this._multiselectionTimeout=null),this.info("New multi-selection timeout set..."),this._multiselectionTimeout=window.setTimeout(function(){e._multiselectionTimeoutCallback(),clearTimeout(e._multiselectionTimeout),e._multiselectionTimeout=null},this._signalValueSyncTimeout))}},{key:"_multiselectionTimeoutCallback",value:function(){var e=this,t=this._multiselectedValuesMap.length>0?this._multiselectedValuesMap.filter(function(t){var i=e._isCleanValue(t.idx);if(!i&&t.selected&&t.confirmed||i&&!t.selected&&!t.confirmed)return 0===t.idx?"0":t.idx}).map(function(e){return e.idx}):[],i=this._multiselectedValuesMap.length>0?this._multiselectedValuesMap.filter(function(t){var i=e._isCleanValue(t.idx);if((i||0===i)&&!t.selected&&t.confirmed)return 0===t.idx?"0":t.idx}).map(function(e){return e.idx}):[],n=this._cleanValues.filter(function(e){return-1===t.indexOf(e)&&-1===i.indexOf(e)}),s=[].concat(_toConsumableArray(t),_toConsumableArray(n)).sort(function(e,t){return e-t});this.info("Update multiselect selected values using confirmed values and previous unchanged selected values",s),this.setValue(s)}},{key:"_isCleanValue",value:function(e){return this._cleanValues.filter(function(t){return t===e})[0]}},{key:"_updateMultiselectedValuesMap",value:function(e,t,i){if("number"==typeof t){var n=this._isCleanValue(t),s=this._multiselectedValuesMap.filter(function(e){return e.idx===t})[0];!this._hasFeedbackModeSubmit()||!s||n||e?s?(s.selected=e,s.confirmed=i):this._multiselectedValuesMap.push({idx:t,selected:e,confirmed:i}):this._multiselectedValuesMap=this._multiselectedValuesMap.filter(function(e){return e.idx!==t})}}},{key:"_hasFeedbackModeSubmit",value:function(){return this.feedbackMode===i.FEEDBACK_MODE_VALUES[1]}},{key:"_fireChangeEvent",value:function(e,t){this.dispatchEvent(new CustomEvent("change",{detail:{newValue:e,oldValue:t},bubbles:!0,cancelable:!1}))}},{key:"_fireDirtyOrCleanEvent",value:function(){this._hasFeedbackModeSubmit()&&(this.dirty?(this.dispatchEvent(new CustomEvent("dirty",{bubbles:!0,cancelable:!1})),this.ondirtyCallback instanceof o.default?this.ondirtyCallback.run({}):this.ondirtyCallback instanceof Function&&this.ondirtyCallback()):(this.dispatchEvent(new CustomEvent("clean",{bubbles:!0,cancelable:!1})),this.oncleanCallback instanceof o.default?this.oncleanCallback.run({}):this.oncleanCallback instanceof Function&&this.oncleanCallback()))}},{key:"sendOnChangeSignal",value:function(e){if("string"==typeof this.sendEventOnChange&&""!==this.sendEventOnChange){var t=a.Ch5SignalFactory.getInstance().getNumberSignal(this.sendEventOnChange);null!==t&&t.publish(e)}}},{key:"_markOptionAsSelected",value:function(e,t){if(!this.multiselect&&this._isValidElement(this.selectPanel)){var n=this.querySelector("ch5-select-option."+i.ITEM_SELECTED_STYLE_CLASS);if(this._unsetOptionSelected(n),e>=0){void 0===t&&(t=null);var s=null!==t?t:this._getOptionElByIdx(e);this._setOptionSelected(s)}}}},{key:"_setOptionSelected",value:function(e){e instanceof HTMLElement&&"function"==typeof e.applySelectedStyleClass&&e.applySelectedStyleClass()}},{key:"_unsetOptionSelected",value:function(e){e instanceof HTMLElement&&"function"==typeof e.removeSelectedStyleClass&&e.removeSelectedStyleClass()}},{key:"_getOptionElByIdx",value:function(e){return this.querySelector('ch5-select-option[data-ch5-opt-idx="'.concat(e,'"]'))}},{key:"_handleReceiveSignalValue",value:function(){var e=this;if(""!==this.receiveStateValue&&""!==this.receiveStateValueSubscription&&(this._unsubscribeOldSignal(this.receiveStateValue,this.receiveStateValueSubscription,"number"),this.receiveStateValueSubscription=""),!this.multiselect&&""!==this.receiveStateValue&&null!==this.receiveStateValue){var t=a.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),i=a.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==i&&(this.receiveStateValueSubscription=i.subscribe(function(t){var n=Number(t);if(!isNaN(n)&&i.hasChangedSinceInit())if(e.info("Received signal value: ".concat(t)),e.lastReceivedSignalValue=n,null===e._selectionTimeout){var s=e.selectedValue;e.setAttribute("selectedValue",String(e.lastReceivedSignalValue)),e.dirty=!1,e._fireChangeEvent(e.lastReceivedSignalValue,s)}else Number(e.selectedValue)===e.lastReceivedSignalValue&&(e.dirty=!1);else e.info("Ch5Select receiveStateValue signal value for "+e.getAttribute("data-ch5-id")+" is invalid")}))}}},{key:"_addToSelectedOptions",value:function(e){"number"==typeof e&&-1===this.selectedValues.indexOf(e)&&(this.selectedValues.push(e),this.selectedValues.sort(function(e,t){return e-t}),this._updateMultiSelectionInMainPanel())}},{key:"_removeFromSelectedOptions",value:function(e){"number"==typeof e&&(this.selectedValues=this.selectedValues.filter(function(t){return t!==e}))}},{key:"_closeSelectPanelIfPlain",value:function(){var e=this;this._isPlain()&&setTimeout(function(){e.closeSelectPanel()},100)}},{key:"submit",value:function(){var e=this;if(this._hasFeedbackModeSubmit()&&this.getDirty())if(this.multiselect)this.info("submit():",this._multiselectedValuesMap),this._setMultiselectionTimeoutCallback(),this._multiselectedValuesMap.length>0&&this._multiselectedValuesMap.forEach(function(t){return e._triggerOptSendSignalOnClick(t.idx)});else{this._setSelectionTimeoutCallback(this.selectedValue),this.sendOnChangeSignal(this.selectedValue);var t=this.selectedValue;0===t&&Number(this._lastSelectedOptIdx)>0&&(t=this._lastSelectedOptIdx),this.info("submit():",t),this._triggerOptSendSignalOnClick(t)}}},{key:"_triggerOptSendSignalOnClick",value:function(e){var t=this._getOptionElByIdx(e);t instanceof HTMLElement&&t.sendClickSignal()}},{key:"dirty",get:function(){return this._dirty},set:function(e){this._dirty!==e&&(this._dirty=e,this._fireDirtyOrCleanEvent())}},{key:"getDirty",value:function(){return this.dirty}},{key:"reset",value:function(){(this._hasFeedbackModeSubmit()||this.getDirty())&&(this.multiselect?(this.info("reset() to:",this._cleanValues),this.setValue(this._cleanValues)):(this.info("reset() to:",this._cleanValue),this.setAttribute("selectedValue",String(this._cleanValue)),this.dirty=!1,this._fireChangeEvent(this.lastReceivedSignalValue,this.selectedValue)))}},{key:"setValue",value:function(e){var t=this;if(this.info("setValue() to:",e),this.multiselect){var i=this.selectedValues.filter(function(t){return-1===e.indexOf(t)});i.length>0&&i.forEach(function(e){var i=t._getOptionElByIdx(e);t._removeFromSelectedOptions(e),t._unsetOptionSelected(i),null!==i&&i.defaultTmplIsUsed()&&i.setToggleValue(!1)});var n=e.filter(function(e){return-1===t.selectedValues.indexOf(e)});n.length>0&&n.forEach(function(e){var i=t._getOptionElByIdx(e);t._addToSelectedOptions(e),t._setOptionSelected(i),null!==i&&i.defaultTmplIsUsed()&&i.setToggleValue(!0)}),this.dirty=!1,this._multiselectedValuesMap=[],this._cleanValues=this.selectedValues.slice(0)}else{var s=this.selectedValue;this.lastReceivedSignalValue=e,this.dirty=!1,this.setAttribute("selectedValue",String(e)),this._fireChangeEvent(e,s)}}},{key:"getValue",value:function(){return this.multiselect?(this.info("getValue():",this.selectedValues),this.selectedValues):(this.info("getValue():",this.selectedValue),this.selectedValue)}},{key:"lastReceivedSignalValue",get:function(){return this._lastReceivedSignalValue},set:function(e){this._lastReceivedSignalValue!==e&&(this._lastReceivedSignalValue=e,this._cleanValue=e)}},{key:"_updateSingleSelectionInMainPanel",value:function(){var e=this._getOptionElByIdx(this.selectedValue);e instanceof HTMLElement?(this.selectedOptionsPanel.innerHTML=e.innerHTML,this._setSelectedClass(!0)):(this.selectedOptionsPanel.innerHTML=this.noneSelectedPrompt,this._setSelectedClass(!1))}},{key:"noneSelectedPrompt",get:function(){return this._getTranslatedValue("noneSelectedPrompt",this._noneSelectedPrompt)||this._noneSelectedPrompt},set:function(e){e=this._checkAndSetStringValue(e,i.PLACEHOLDER_DEFAULT);var t=this._getTranslatedValue("noneSelectedPrompt",e);t!==this._noneSelectedPrompt&&(this.setAttribute("noneSelectedPrompt",t),this._noneSelectedPrompt=e,(!this.multiselect&&-1===this.selectedValue||this.multiselect&&0===this.selectedValues.length)&&(this.selectedOptionsPanel.innerHTML=t))}},{key:"_updateMultiSelectionInMainPanel",value:function(){var e=this;if(this.selectedValues.length>0){var t=[];this.selectedValues.forEach(function(i){var n=e._getOptionElByIdx(i);n instanceof HTMLElement&&t.push(n.optLabel)});var i=t.join(", "),n=this.selectedOptionsPanel.getBoundingClientRect(),s=document.createElement("span");s.style.position="absolute",s.style.visibility="hidden",s.style.fontSize=window.getComputedStyle(this.mainPanel).fontSize,s.textContent=i,this.appendChild(s),s.getBoundingClientRect().width<=n.width?this.selectedOptionsPanel.innerHTML=i:this.selectedOptionsPanel.innerHTML="".concat(this.selectedValues.length," items selected"),this.removeChild(s),this._setSelectedClass(!0)}else this.selectedOptionsPanel.innerHTML=this.noneSelectedPrompt,this._setSelectedClass(!1)}},{key:"_isFocused",value:function(){return this.hasAttribute("focused")}},{key:"_onFocus",value:function(e){var t;this._isFocused()?e.stopImmediatePropagation():(this.info("Ch5Select._onFocus()"),this.setAttribute("focused",""),this._sendFocusSignal(!0),t=new Event(e.type,e),this.dispatchEvent(t),e.preventDefault(),e.stopPropagation())}},{key:"_onBlur",value:function(e){var t;this._isFocused()?(this.info("Ch5Select._onBlur()"),this.removeAttribute("focused"),this._sendFocusSignal(!1),t=new Event(e.type,e),this.dispatchEvent(t),e.preventDefault(),e.stopPropagation()):e.stopImmediatePropagation()}},{key:"_sendFocusSignal",value:function(e){if("string"==typeof this.sendEventOnFocus&&""!==this.sendEventOnFocus){var t=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnFocus);null!==t&&t.publish(e)}}},{key:"getCssClassDisabled",value:function(){return"".concat(this.cssClassPrefix,"--disabled")}},{key:"_setSelectedClass",value:function(e){e?this.classList.add("ch5-select—selected"):this.classList.remove("ch5-select—selected")}},{key:"_updateOptionsDirAttr",value:function(){if(this._isValidElement(this.selectPanel)){var e=this.selectPanel.querySelectorAll("."+i.PANEL_ITEM_STYLE_CLASS);if(0!==e.length)for(var t=0;t<e.length;t++)e[t].dir=this.dir}}}],[{key:"registerSignalAttributeDefaults",value:function(){h.Ch5SignalAttributeRegistry.instance.addElementDefaultAttributeEntries(i.ELEMENT_NAME,{contractName:{attributes:["contractname"],defaultValue:""},booleanJoin:{attributes:["booleanjoinoffset"],defaultValue:"0"},numericJoin:{attributes:["numericjoinoffset"],defaultValue:"0"},stringJoin:{attributes:["stringjoinoffset"],defaultValue:"0"}})}},{key:"observedAttributes",get:function(){return s.Ch5Common.observedAttributes.concat(["size","iconposition","multiselect","selectedvalue","panelscrollheight","minwidth","maxwidth","minheight","maxheight","resize","mode","feedbackmode","signalvaluesynctimeout","indexid","receivestatevalue","receivestatesize","receivestatetemplatevars","sendeventonfocus","sendeventonchange","noneselectedprompt","ondirty","onclean"])}},{key:"registerSignalAttributeTypes",value:function(){h.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}}]),i}();t.Ch5Select=d,d.ELEMENT_NAME="ch5-select",d.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",stringJoin:1,contractName:!0},receivestatesize:{direction:"state",numericJoin:1,contractName:!0},receivestatetemplatevars:{direction:"state",stringJoin:1,contractName:!0},sendeventonfocus:{direction:"event",booleanJoin:1,contractName:!0},sendeventonchange:{direction:"event",booleanJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),d.MAX_SIZE=30,d.MODE_VALUES=["plain","panel"],d.FEEDBACK_MODE_VALUES=["direct","submit"],d.COMPONENT_DATA={MODE_VALUES:{default:d.MODE_VALUES[0],values:d.MODE_VALUES,key:"mode_values",classListPrefix:"ch5-select--"},FEEDBACK_MODE_VALUES:{default:d.FEEDBACK_MODE_VALUES[0],values:d.FEEDBACK_MODE_VALUES,key:"feedback_mode_values",classListPrefix:"ch5-select--"}},d.DEFAULT_SIGNAL_VALUE_SYNC_TIMEOUT=1500,d.PLACEHOLDER_DEFAULT="",d.CH5_SELECT_MAIN_STYLE_CLASS="ch5-select",d.OPENED_STYLE_CLASS="ch5-select__panel-open",d.MAIN_PANEL_STYLE_CLASS="ch5-select__main",d.SELECTED_ITEMS_STYLE_CLASS="ch5-select__selected_items",d.MODE_PANEL_STYLE_CLASS="ch5-select__panel",d.MODE_COMBO_STYLE_CLASS="ch5-select__combo",d.PANEL_ITEMS_STYLE_CLASS="ch5-select__panel__items",d.COMBO_TRIGGER_STYLE_CLASS="ch5-select__combo_trigger",d.PANEL_ITEM_STYLE_CLASS="ch5-select__panel__item",d.SELECTION_IN_PROGRESS_STYLE_CLASS="ch5-select__selection-in-progress",d.ITEM_SELECTED_STYLE_CLASS="ch5-select__panel__item--selected","object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(d.ELEMENT_NAME,d),d.registerSignalAttributeTypes(),d.registerSignalAttributeDefaults()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AttrsI18n=void 0;var n=i(7),s=i(206),r=i(205),a=i(23),o=i(9),l=function(e){_inherits(i,o.CustomAttribute);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.apply(this,arguments)).translatableData=[],e.initialIndexValue=s.CH5_I18N_ATTRIBUTE_CONSTANT.defaultIndex,e}return _createClass(i,[{key:"updateOnChange",value:function(){var e=this;this.removeExtraNode(),this.translatableData.map(function(t,i){var n=document.getElementById(t.uniqueElementId),s=n.getAttribute(t.attributeName)||"";e.updateValueToDom(n,s,i)})}},{key:"handleBeingAddedToDom",value:function(e){var t=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",s=e.hasAttribute("debug");if(!e.id){var a=i.DATA_CH5_EL_ID_PREFIX+(0,r.randomFixedInteger)(i.RANDOM_NUMBER_LENGTH).toString();e.setAttribute("id",a),n.Ch5AttrsLog.info(s,"unique id:-".concat(a," added to element"),e)}this.updateValueToDom(e,t)}},{key:"getTextDisplayInfo",value:function(e){var t={typeOfAttribute:"",attributeSelector:"",valueToTranslate:"",hasAttribute:!1},n=e.trim(),s=n.match(/\[(.*?)\]/);if(!n&&!s)return t;if(n.indexOf("[")===i.EXPECTED_SUBATTRIBUTE_POSITION){var r=_slicedToArray(n.match(/\[(.*?)\]/)[1].split("="),2),a=r[0],o=r[1];t.valueToTranslate=n.replace(n.match(/\[(.*?)\]/)[0],""),t.typeOfAttribute=a,t.attributeSelector=o,t.hasAttribute=!0}return t}},{key:"updateValueToDom",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.initialIndexValue,r=e.hasAttribute("debug");s===this.initialIndexValue&&this.translatableData&&this.removeExtraNode();var a=this.getTextDisplayInfo(t),o="";a.hasAttribute?(o=this.getTranslatedValue(e,a.valueToTranslate,s),a.typeOfAttribute===i.SUBATTRIBUTE_TYPE?(e.querySelector(a.attributeSelector).innerHTML=o,n.Ch5AttrsLog.info(r,"updated value ".concat(o," to inner html"),e)):(e.hasAttribute(a.attributeSelector)&&e.removeAttribute(a.attributeSelector),e.setAttribute(a.attributeSelector,o),n.Ch5AttrsLog.info(r,"updated value ".concat(o," of atrribute ").concat(a.attributeSelector),e))):(o=this.getTranslatedValue(e,t,s),e.innerHTML=o,n.Ch5AttrsLog.info(r,"updated text content ".concat(o," "),e))}},{key:"checkElementExistInDom",value:function(e){return!!document.getElementById(e)}},{key:"removeExtraNode",value:function(){var e=this;this.translatableData=this.translatableData.filter(function(t){return e.checkElementExistInDom(t.uniqueElementId)})}},{key:"getTranslatedValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.initialIndexValue,s={},r=a.Ch5TranslationUtility.getInstance().isTranslationIdentifier(t)?this.doTranslation(t):"";return r&&(s.uniqueElementId=e.id,s.attributeName=i.DATA_CH5_ATTR_NAME,s.attributeValue=t,n!==this.initialIndexValue?this.translatableData[n]=s:this.translatableData.push(s)),r}},{key:"doTranslation",value:function(e){var t=e,i=a.Ch5TranslationUtility.getInstance(),n=i.valuesToTranslation(e);return n&&n.length>0&&n.forEach(function(e){if(i.isTranslationIdentifier(e)){var n=i.stripDownTranslationCharacters(e);if(i.getTranslator().exists(n)){var s=i.getTranslator().t(n);t=t.replace(e,s)}}}),t}}]),i}();t.Ch5AttrsI18n=l,l.DATA_CH5_ATTR_NAME=s.CH5_I18N_ATTRIBUTE_CONSTANT.dataCh5AttrName,l.DATA_CH5_EL_ID_PREFIX=s.CH5_I18N_ATTRIBUTE_CONSTANT.elementIdPrefix,l.RANDOM_NUMBER_LENGTH=s.CH5_I18N_ATTRIBUTE_CONSTANT.randomNumberLength,l.EXPECTED_SUBATTRIBUTE_POSITION=s.CH5_I18N_ATTRIBUTE_CONSTANT.subAttributePosition,l.SUBATTRIBUTE_TYPE=s.CH5_I18N_ATTRIBUTE_CONSTANT.subAttributeType},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AttrsAppendclass=void 0;var n=i(7),s=i(0),r=i(9),a=i(2),o=function(e){_inherits(i,r.CustomAttribute);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,null,[{key:"handleBeingAddedToDom",value:function(e){var t=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",n=e.getAttribute(i.CH5_ATTR_SIG_SUB_KEY);""!==n&&i.handleUnsubscribe(e,t,n),i.handleSubscribe(e,t)}},{key:"handleBeingRemovedFromDom",value:function(e){var t=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",n=e.getAttribute(i.CH5_ATTR_SIG_SUB_KEY);i.handleUnsubscribe(e,t,n)}},{key:"handleSubscribe",value:function(e,t){if(""===t||null===t)return"";var r=e.hasAttribute("debug");n.Ch5AttrsLog.info(r,"handleSubscribe ".concat(t),e);var a=s.Ch5Signal.getSubscriptionSignalName(t),o=s.Ch5SignalFactory.getInstance().getStringSignal(a),l="";return null!==o&&(l=o.subscribe(function(t){var i=t.split(" "),s=e.currentCh5AppendclassVal;if("string"==typeof s&&""!==s){var a=s.split(" ");a.length>0&&a.forEach(function(t){""!==t&&e.classList.contains(t)&&-1===i.indexOf(t)&&e.classList.remove(t)})}i.length>0&&i.forEach(function(t){e.classList.contains(t)||""===t||e.classList.add(t)}),n.Ch5AttrsLog.info(r,"innerHTML updated to ".concat(t),e),e.currentCh5AppendclassVal=t}),e.setAttribute(i.CH5_ATTR_SIG_SUB_KEY,l)),n.Ch5AttrsLog.info(r," subscribed to ".concat(t,", subKey is ").concat(l),e),l}},{key:"handleUnsubscribe",value:function(e,t,i){if(""!==t&&""!==i&&null!==t&&null!==i){var r=e.hasAttribute("debug");n.Ch5AttrsLog.info(r,"handleUnsubscribe: preparing to unsubscribe from ".concat(t," with subKey: ").concat(i),e);var a=s.Ch5Signal.getSubscriptionSignalName(t),o=s.Ch5SignalFactory.getInstance().getStringSignal(a);null!==o&&""!==i&&(o.unsubscribe(i),n.Ch5AttrsLog.info(r," unsubscribed from ".concat(t," with subKey: ").concat(i),e))}}},{key:"handleCh5AppendclassAttrChange",value:function(e,t,n){if("string"==typeof t&&""!==t){var s=n.getAttribute(i.CH5_ATTR_SIG_SUB_KEY)||"";""!==s&&i.handleUnsubscribe(n,t,s)}"string"==typeof e&&""!==e&&e!==t&&i.handleSubscribe(n,e)}},{key:"registerSignalAttributeTypes",value:function(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(i.DATA_CH5_ATTR_NAME,{direction:"state",stringJoin:1,contractName:!0})}}]),i}();t.Ch5AttrsAppendclass=o,o.DATA_CH5_ATTR_NAME="data-ch5-appendclass",o.CH5_ATTR_SIG_SUB_KEY="data-ch5-appendclass-sub-key",o.registerSignalAttributeTypes()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AttrsAppendstyle=void 0;var n=i(7),s=i(0),r=i(9),a=i(2),o=function(e){_inherits(i,r.CustomAttribute);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,null,[{key:"handleBeingAddedToDom",value:function(e){var t=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",n=e.getAttribute(i.CH5_ATTR_SIG_SUB_KEY);""!==n&&i.handleUnsubscribe(e,t,n),i.handleSubscribe(e,t)}},{key:"handleBeingRemovedFromDom",value:function(e){var t=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",n=e.getAttribute(i.CH5_ATTR_SIG_SUB_KEY);i.handleUnsubscribe(e,t,n)}},{key:"handleSubscribe",value:function(e,t){if(""===t||null===t)return"";var r=e.hasAttribute("debug");n.Ch5AttrsLog.info(r,"handleSubscribe ".concat(t),e);var a=s.Ch5Signal.getSubscriptionSignalName(t),o=s.Ch5SignalFactory.getInstance().getStringSignal(a),l="";return null!==o&&(l=o.subscribe(function(t){e.style.cssText!==t&&(e.style.cssText=t,n.Ch5AttrsLog.info(r,"style updated to ".concat(t),e))}),e.setAttribute(i.CH5_ATTR_SIG_SUB_KEY,l)),n.Ch5AttrsLog.info(r," subscribed to ".concat(t,", subKey is ").concat(l),e),l}},{key:"handleUnsubscribe",value:function(e,t,i){if(""!==t&&""!==i&&null!==t&&null!==i){var r=e.hasAttribute("debug");n.Ch5AttrsLog.info(r,"handleUnsubscribe: preparing to unsubscribe from ".concat(t," with subKey: ").concat(i),e);var a=s.Ch5Signal.getSubscriptionSignalName(t),o=s.Ch5SignalFactory.getInstance().getStringSignal(a);null!==o&&""!==i&&(o.unsubscribe(i),n.Ch5AttrsLog.info(r," unsubscribed from ".concat(t," with subKey: ").concat(i),e))}}},{key:"handleCh5AppendstyleAttrChange",value:function(e,t,n){if("string"==typeof t&&""!==t){var s=n.getAttribute(i.CH5_ATTR_SIG_SUB_KEY)||"";""!==s&&i.handleUnsubscribe(n,t,s)}"string"==typeof e&&""!==e&&e!==t&&i.handleSubscribe(n,e)}},{key:"registerSignalAttributeTypes",value:function(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(i.DATA_CH5_ATTR_NAME,{direction:"state",stringJoin:1,contractName:!0})}}]),i}();t.Ch5AttrsAppendstyle=o,o.DATA_CH5_ATTR_NAME="data-ch5-appendstyle",o.CH5_ATTR_SIG_SUB_KEY="data-ch5-appendstyle-sub-key",o.registerSignalAttributeTypes()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AttrsInnerhtml=void 0;var n=i(7),s=i(0),r=i(9),a=i(2),o=function(e){_inherits(i,r.CustomAttribute);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,null,[{key:"handleBeingAddedToDom",value:function(e){var t=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",n=e.getAttribute(i.CH5_ATTR_SIG_SUB_KEY);""!==n&&i.handleUnsubscribe(e,t,n),i.handleSubscribe(e,t)}},{key:"handleBeingRemovedFromDom",value:function(e){var t=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",n=e.getAttribute(i.CH5_ATTR_SIG_SUB_KEY);i.handleUnsubscribe(e,t,n)}},{key:"handleSubscribe",value:function(e,t){if(""===t||null===t)return"";var r=e.hasAttribute("debug");n.Ch5AttrsLog.info(r,"handleSubscribe ".concat(t),e);var a=s.Ch5Signal.getSubscriptionSignalName(t),o=s.Ch5SignalFactory.getInstance().getStringSignal(a),l="";return null!==o&&(l=o.subscribe(function(t){e.innerHTML!==t&&(e.innerHTML=t,n.Ch5AttrsLog.info(r,"innerHTML updated to ".concat(t),e))}),e.setAttribute(i.CH5_ATTR_SIG_SUB_KEY,l)),n.Ch5AttrsLog.info(r," subscribed to ".concat(t,", subKey is ").concat(l),e),l}},{key:"handleUnsubscribe",value:function(e,t,i){if(""!==t&&""!==i&&null!==t&&null!==i){var r=e.hasAttribute("debug");n.Ch5AttrsLog.info(r,"handleUnsubscribe: preparing to unsubscribe from ".concat(t," with subKey: ").concat(i),e);var a=s.Ch5Signal.getSubscriptionSignalName(t),o=s.Ch5SignalFactory.getInstance().getStringSignal(a);null!==o&&""!==i&&(o.unsubscribe(i),n.Ch5AttrsLog.info(r," unsubscribed from ".concat(t," with subKey: ").concat(i),e))}}},{key:"handleCh5InnerhtmlAttrChange",value:function(e,t,n){if("string"==typeof t&&""!==t){var s=n.getAttribute(i.CH5_ATTR_SIG_SUB_KEY)||"";""!==s&&i.handleUnsubscribe(n,t,s)}"string"==typeof e&&""!==e&&e!==t&&i.handleSubscribe(n,e)}},{key:"registerSignalAttributeTypes",value:function(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(i.DATA_CH5_ATTR_NAME,{direction:"state",stringJoin:1,contractName:!0})}}]),i}();t.Ch5AttrsInnerhtml=o,o.DATA_CH5_ATTR_NAME="data-ch5-innerhtml",o.CH5_ATTR_SIG_SUB_KEY="data-ch5-innerhtml-sub-key",o.registerSignalAttributeTypes()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AttrsTextContent=void 0;var n=i(7),s=i(0),r=i(23),a=i(9),o=i(2),l=function(e){_inherits(i,a.CustomAttribute);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,null,[{key:"handleBeingAddedToDom",value:function(e){var t=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",n=e.getAttribute(i.CH5_ATTR_SIG_SUB_KEY);""!==n&&i.handleUnsubscribe(e,t,n),i.handleSubscribe(e,t)}},{key:"handleBeingRemovedFromDom",value:function(e){var t=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",n=e.getAttribute(i.CH5_ATTR_SIG_SUB_KEY);i.handleUnsubscribe(e,t,n)}},{key:"handleSubscribe",value:function(e,t){var a=e.hasAttribute("debug");if(n.Ch5AttrsLog.info(a,"handleSubscribe ".concat(t),e),""===t)return"";var o=e.textContent,l=s.Ch5Signal.getSubscriptionSignalName(t),u=s.Ch5SignalFactory.getInstance().getStringSignal(l),c="";return null!==u&&(c=u.subscribe(function(t){e.textContent!==t&&(e.textContent=r.Ch5TranslationUtility.getInstance().translatedValue(t),n.Ch5AttrsLog.info(a,"textContent changed from ".concat(o," to ").concat(e.textContent),e),o=e.textContent)}),e.setAttribute(i.CH5_ATTR_SIG_SUB_KEY,c)),n.Ch5AttrsLog.info(a," subscribed to ".concat(t,", subKey is ").concat(c),e),c}},{key:"handleUnsubscribe",value:function(e,t,i){var r=e.hasAttribute("debug");if(n.Ch5AttrsLog.info(r,"handleUnsubscribe ".concat(t),e),""!==t&&""!==i){n.Ch5AttrsLog.info(r," preparing to unsubscribe from ".concat(t," with subKey: ").concat(i),e);var a=s.Ch5Signal.getSubscriptionSignalName(t),o=s.Ch5SignalFactory.getInstance().getStringSignal(a);null!==o&&""!==i&&(o.unsubscribe(i),n.Ch5AttrsLog.info(r," unsubscribed from ".concat(t," with subKey: ").concat(i),e))}}},{key:"handleCh5TextContentAttrChange",value:function(e,t,n){if("string"==typeof t&&""!==t){var s=n.getAttribute(i.CH5_ATTR_SIG_SUB_KEY)||"";""!==s&&i.handleUnsubscribe(n,t,s)}"string"==typeof e&&""!==e&&e!==t&&i.handleSubscribe(n,e)}},{key:"registerSignalAttributeTypes",value:function(){o.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(i.DATA_CH5_ATTR_NAME,{direction:"state",stringJoin:1,contractName:!0})}}]),i}();t.Ch5AttrsTextContent=l,l.DATA_CH5_ATTR_NAME="data-ch5-textcontent",l.CH5_ATTR_SIG_SUB_KEY="data-ch5-sub-key",l.registerSignalAttributeTypes()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AttrsHidePulse=void 0;var n=i(7),s=i(0),r=i(9),a=i(2),o=function(e){_inherits(i,r.CustomAttribute);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,null,[{key:"checkAndSubscribeToSignal",value:function(e){if(e.hasAttribute(i.DATA_CH5_ATTR_NAME)){var t=e.hasAttribute("debug"),r=s.Ch5SignalFactory.getInstance(),a=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",o=s.Ch5Signal.getSubscriptionSignalName(a),l=r.getBooleanSignal(o);if(null!==l){var u=l.subscribe(function(t){!1===l.prevValue&&!0===t&&i.handleDataCh5HidePulseReceived(e,t)});n.Ch5AttrsLog.info(t,"Signal subscription complete... ".concat(u),e),e.setAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR,u)}}}},{key:"handleElAddedToDOM",value:function(e){if(e.hasAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)){var t=e.hasAttribute("debug");n.Ch5AttrsLog.info(t,"Added node already has data-ch5-show \n                    subs: ".concat(e.getAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)),e)}else i.checkAndSubscribeToSignal(e)}},{key:"elHasRemovableSigSubscription",value:function(e){return e.hasAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)&&e.hasAttribute(i.DATA_CH5_ATTR_NAME)&&!e.hasAttribute(i.KEEP_SIG_SUBS_ATTR)}},{key:"unsubscribeDataCh5HidePulseSig",value:function(e,t){var i=s.Ch5Signal.getSubscriptionSignalName(e),n=s.Ch5SignalFactory.getInstance().getBooleanSignal(i);n&&n.unsubscribe(t)}},{key:"removeSigSubscription",value:function(e){var t=e.getAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";n.Ch5AttrsLog.info(!0,"Node removed without using signal value... signal subscription: \n                    ".concat(t," needs to be canceled"),e);var s=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"";i.unsubscribeDataCh5HidePulseSig(s,t)}},{key:"handleCh5HidePulseAttributeChange",value:function(e,t,s){var r=s.hasAttribute("debug"),a=s.getAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";"string"==typeof t&&""!==t&&""!==a&&(n.Ch5AttrsLog.info(r,"Unsubscribing ".concat(a),s),this.unsubscribeDataCh5HidePulseSig(t,a),s.removeAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)),"string"==typeof e&&""!==e&&i.checkAndSubscribeToSignal(s)}},{key:"getNoShowType",value:function(e){var t="";if(e.hasAttribute("data-ch5-noshow-type"))t=e.getAttribute("data-ch5-noshow-type")||"";else switch(e.tagName.toLowerCase()){case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t="display";break;case"div":t="remove";break;default:t="visibility"}return i.NOSHOW_VALUES.indexOf(t)>-1?t:i.DEFAULT_NOSHOW_VALUE}},{key:"handleDataCh5HidePulseReceived",value:function(e,t){if(t){var n=i.getNoShowType(e);i.hideElement(e,n)}}},{key:"hideElement",value:function(e,t){switch(n.Ch5AttrsLog.info(e.hasAttribute("debug"),"Hide element using NOSHOW_TYPE: ".concat(t),e),t){case"display":e.classList.add("ch5-hide-dis"),e.classList.remove("ch5-hide-vis");break;case"visibility":e.classList.add("ch5-hide-vis"),e.classList.remove("ch5-hide-dis");break;default:e.setAttribute(i.KEEP_SIG_SUBS_ATTR,"");var s=e.parentElement,r=e.nextSibling;s&&(s.removeChild(e),e.cachedP=s),r&&(e.sib=r)}}},{key:"registerSignalAttributeTypes",value:function(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(i.DATA_CH5_ATTR_NAME,{direction:"state",booleanJoin:1,contractName:!0})}}]),i}();t.Ch5AttrsHidePulse=o,o.DATA_CH5_ATTR_NAME="data-ch5-hidepulse",o.NOSHOW_VALUES=["visibility","display","remove"],o.DEFAULT_NOSHOW_VALUE="display",o.KEEP_SIG_SUBS_ATTR="data-ch5-keep-sig-subscription",o.SIGNAL_SUBSCRIPTION_KEY_ATTR="data-ch5-hide-pulse-subs-key",o.registerSignalAttributeTypes()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AttrsShowPulse=void 0;var n=i(7),s=i(0),r=i(9),a=i(2),o=function(e){_inherits(i,r.CustomAttribute);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,null,[{key:"checkAndSubscribeToSignal",value:function(e){if(e.hasAttribute("data-ch5-noshow-type")){var t=i.getNoShowType(e);i.hideElement(e,t)}if(e.hasAttribute(i.DATA_CH5_ATTR_NAME)){var r=e.hasAttribute("debug"),a=s.Ch5SignalFactory.getInstance(),o=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",l=s.Ch5Signal.getSubscriptionSignalName(o),u=a.getBooleanSignal(l);if(null!==u){var c=u.subscribe(function(t){!1===u.prevValue&&!0===t&&i.handleDataCh5ShowPulseReceived(e,t)});n.Ch5AttrsLog.info(r,"Signal subscription complete... ".concat(c),e),e.setAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR,c)}}}},{key:"handleElAddedToDOM",value:function(e){if(e.hasAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)){var t=e.hasAttribute("debug");n.Ch5AttrsLog.info(t,"Added node already has data-ch5-showpulse \n                    subs: ".concat(e.getAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)),e)}else i.checkAndSubscribeToSignal(e)}},{key:"elHasRemovableSigSubscription",value:function(e){return e.hasAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)&&e.hasAttribute(i.DATA_CH5_ATTR_NAME)&&!e.hasAttribute(i.KEEP_SIG_SUBS_ATTR)}},{key:"unsubscribeDataCh5ShowPulseSig",value:function(e,t){var i=s.Ch5Signal.getSubscriptionSignalName(e),n=s.Ch5SignalFactory.getInstance().getBooleanSignal(i);n&&n.unsubscribe(t)}},{key:"removeSigSubscription",value:function(e){var t=e.getAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";n.Ch5AttrsLog.info(!0,"Node removed without using signal value... signal subscription: \n                    ".concat(t," needs to be canceled"),e);var s=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"";i.unsubscribeDataCh5ShowPulseSig(s,t)}},{key:"handleCh5ShowPulseAttributeChange",value:function(e,t,s){var r=s.hasAttribute("debug"),a=s.getAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";"string"==typeof t&&""!==t&&""!==a&&(n.Ch5AttrsLog.info(r,"Unsubscribing ".concat(a),s),this.unsubscribeDataCh5ShowPulseSig(t,a),s.removeAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)),"string"==typeof e&&""!==e&&i.checkAndSubscribeToSignal(s)}},{key:"handleDataCh5ShowPulseReceived",value:function(e,t){t&&i.showElement(e)}},{key:"showElement",value:function(e){var t,s=e.cachedP,r="Element visibility/display restored.",a=[e];if(s){var o=e.sib;a.push(s),o&&s===o.parentElement?(s.insertBefore(e,o),r="Element re-stamped to DOM using cached parent and sibling elements. "+r,a.push(o),delete e.sib):(s.appendChild(e),r="Element re-stamped to DOM using only cached parent, no sibling element required. "+r),delete e.cachedP,e.removeAttribute(i.KEEP_SIG_SUBS_ATTR)}(t=n.Ch5AttrsLog).info.apply(t,[e.hasAttribute("debug"),r].concat(a)),e.classList.remove("ch5-hide-vis"),e.classList.remove("ch5-hide-dis")}},{key:"getNoShowType",value:function(e){var t="";if(e.hasAttribute("data-ch5-noshow-type"))t=e.getAttribute("data-ch5-noshow-type")||"";else switch(e.tagName.toLowerCase()){case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t="display";break;case"div":t="remove";break;default:t="visibility"}return i.NOSHOW_VALUES.indexOf(t)>-1?t:i.DEFAULT_NOSHOW_VALUE}},{key:"hideElement",value:function(e,t){switch(n.Ch5AttrsLog.info(e.hasAttribute("debug"),"Hide element using NOSHOW_TYPE: ".concat(t),e),t){case"display":e.classList.add("ch5-hide-dis"),e.classList.remove("ch5-hide-vis");break;case"visibility":e.classList.add("ch5-hide-vis"),e.classList.remove("ch5-hide-dis");break;default:e.setAttribute(i.KEEP_SIG_SUBS_ATTR,"");var s=e.parentElement,r=e.nextSibling;s&&(s.removeChild(e),e.cachedP=s),r&&(e.sib=r)}}},{key:"registerSignalAttributeTypes",value:function(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(i.DATA_CH5_ATTR_NAME,{direction:"state",booleanJoin:1,contractName:!0})}}]),i}();t.Ch5AttrsShowPulse=o,o.DATA_CH5_ATTR_NAME="data-ch5-showpulse",o.NOSHOW_VALUES=["visibility","display","remove"],o.DEFAULT_NOSHOW_VALUE="display",o.KEEP_SIG_SUBS_ATTR="data-ch5-keep-sig-subscription",o.SIGNAL_SUBSCRIPTION_KEY_ATTR="data-ch5-show-pulse-subs-key",o.registerSignalAttributeTypes()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AttrsShow=void 0;var n=i(7),s=i(0),r=i(9),a=i(2),o=function(e){_inherits(i,r.CustomAttribute);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,null,[{key:"checkAndSubscribeToSignal",value:function(e){if(e.hasAttribute(i.DATA_CH5_ATTR_NAME)){var t=e.hasAttribute("debug"),r=s.Ch5SignalFactory.getInstance(),a=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"",o=s.Ch5Signal.getSubscriptionSignalName(a),l=r.getBooleanSignal(o);if(l){var u=l.subscribe(function(t){i.handleDataCh5ShowReceived(e,t)});n.Ch5AttrsLog.info(t,"Signal subscription complete... ".concat(u),e),e.setAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR,u)}}}},{key:"handleElAddedToDOM",value:function(e){if(e.hasAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)){var t=e.hasAttribute("debug");n.Ch5AttrsLog.info(t,"Added node already has data-ch5-show \n                    subs: ".concat(e.getAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)),e)}else i.checkAndSubscribeToSignal(e)}},{key:"elHasRemovableSigSubscription",value:function(e){return e.hasAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)&&e.hasAttribute(i.DATA_CH5_ATTR_NAME)&&!e.hasAttribute(i.KEEP_SIG_SUBS_ATTR)}},{key:"unsubscribeDataCh5ShowSig",value:function(e,t){var i=s.Ch5Signal.getSubscriptionSignalName(e),n=s.Ch5SignalFactory.getInstance().getBooleanSignal(i);n&&n.unsubscribe(t)}},{key:"removeSigSubscription",value:function(e){var t=e.getAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";n.Ch5AttrsLog.info(!0,"Node removed without using signal value... signal subscription: \n                    ".concat(t," needs to be canceled"),e);var s=e.getAttribute(i.DATA_CH5_ATTR_NAME)||"";i.unsubscribeDataCh5ShowSig(s,t)}},{key:"handleCh5ShowAttributeChange",value:function(e,t,s){var r=s.hasAttribute("debug"),a=s.getAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)||"";"string"==typeof t&&""!==t&&""!==a&&(n.Ch5AttrsLog.info(r,"Unsubscribing ".concat(a),s),this.unsubscribeDataCh5ShowSig(t,a),s.removeAttribute(i.SIGNAL_SUBSCRIPTION_KEY_ATTR)),"string"==typeof e&&""!==e&&i.checkAndSubscribeToSignal(s)}},{key:"getNoShowType",value:function(e){var t="";if(e.hasAttribute("data-ch5-noshow-type"))t=e.getAttribute("data-ch5-noshow-type")||"";else switch(e.tagName.toLowerCase()){case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t="display";break;case"div":t="remove";break;default:t="visibility"}return i.NOSHOW_VALUES.indexOf(t)>-1?t:i.DEFAULT_NOSHOW_VALUE}},{key:"handleDataCh5ShowReceived",value:function(e,t){if(t)i.showElement(e);else{var n=i.getNoShowType(e);i.hideElement(e,n)}}},{key:"hideElement",value:function(e,t){switch(n.Ch5AttrsLog.info(e.hasAttribute("debug"),"Hide element using NOSHOW_TYPE: ".concat(t),e),t){case"display":e.classList.add("ch5-hide-dis"),e.classList.remove("ch5-hide-vis");break;case"visibility":e.classList.add("ch5-hide-vis"),e.classList.remove("ch5-hide-dis");break;default:e.setAttribute(i.KEEP_SIG_SUBS_ATTR,"");var s=e.parentElement,r=e.nextSibling;s&&(s.removeChild(e),e.cachedP=s),r&&(e.sib=r)}}},{key:"showElement",value:function(e){var t,s=e.cachedP,r="Element visibility/display restored.",a=[e];if(s){var o=e.sib;a.push(s),o&&s===o.parentElement?(s.insertBefore(e,o),r="Element re-stamped to DOM using cached parent and sibling elements. "+r,a.push(o),delete e.sib):(s.appendChild(e),r="Element re-stamped to DOM using only cached parent, no sibling element required. "+r),delete e.cachedP,e.removeAttribute(i.KEEP_SIG_SUBS_ATTR)}(t=n.Ch5AttrsLog).info.apply(t,[e.hasAttribute("debug"),r].concat(a)),e.classList.remove("ch5-hide-vis"),e.classList.remove("ch5-hide-dis")}},{key:"registerSignalAttributeTypes",value:function(){a.Ch5SignalAttributeRegistry.instance.addCustomAttributeEntry(i.DATA_CH5_ATTR_NAME,{direction:"state",booleanJoin:1,contractName:!0})}}]),i}();t.Ch5AttrsShow=o,o.DATA_CH5_ATTR_NAME="data-ch5-show",o.NOSHOW_VALUES=["visibility","display","remove"],o.DEFAULT_NOSHOW_VALUE="display",o.KEEP_SIG_SUBS_ATTR="data-ch5-keep-sig-subscription",o.SIGNAL_SUBSCRIPTION_KEY_ATTR="data-ch5-show-subs-key",o.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(7),t),s(i(221),t),s(i(69),t),s(i(68),t),s(i(67),t),s(i(66),t),s(i(65),t),s(i(63),t),s(i(64),t),s(i(62),t)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Animation=void 0;var s=n(i(1));t.Ch5Animation=function(){function e(t,i,n){_classCallCheck(this,e),this._duration=0,this._defaultDuration=0,this._easeMode="linear",this._wrapper={},this.duration=t,this.defaultDuration=t,this.easeMode=i,this.wrapper=n}return _createClass(e,[{key:"duration",get:function(){return this._duration},set:function(e){s.default.isNil(e)||(this._duration=e)}},{key:"defaultDuration",get:function(){return this._defaultDuration},set:function(e){s.default.isNil(e)||(this._defaultDuration=e)}},{key:"easeMode",get:function(){return this._easeMode},set:function(e){s.default.isNil(e)||(this._easeMode=e)}},{key:"wrapper",get:function(){return this._wrapper},set:function(e){s.default.isNil(e)||(this._wrapper=e)}}]),e}()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ButtonModeState=void 0;var s=i(17),r=i(10),a=i(36),o=i(26),l=n(i(1)),u=function(e){_inherits(i,o.Ch5Log);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._state="normal",e.logger.start("constructor"),e._parentCh5Button=e.getParentButton(),e.logger.stop(),e}return _createClass(i,[{key:"labelInnerHTML",get:function(){return this.getAttribute("labelinnerhtml")},set:function(e){this.logger.start('set labelInnerHTML("'+e+'")'),null!==e?this.setAttribute("labelInnerHTML".toLowerCase(),e):this.removeAttribute("labelInnerHTML"),this._parentCh5Button.createButtonLabel(this),this._parentCh5Button.setButtonDisplay(),this.logger.stop()}},{key:"state",get:function(){return this._state},set:function(e){this.logger.log('set state("'+e+'")'),this._state!==e&&(i.STATES.indexOf(e)>=0?this._state=e:this._state=i.STATES[0],this.setAttribute("state",this._state),this._parentCh5Button.setButtonDisplay())}},{key:"iconClass",get:function(){return this.getAttribute("iconclass")},set:function(e){this.validateAndSetAttributeWithStringType("iconClass",e)}},{key:"hAlignLabel",get:function(){return this.getAttribute("halignlabel")},set:function(e){this.validateAndSetAttributeWithCustomType("hAlignLabel",s.Ch5Button.HORIZONTAL_LABEL_ALIGNMENTS,e)}},{key:"vAlignLabel",get:function(){return this.getAttribute("valignlabel")},set:function(e){this.validateAndSetAttributeWithCustomType("vAlignLabel",s.Ch5Button.VERTICAL_LABEL_ALIGNMENTS,e)}},{key:"checkboxPosition",get:function(){return this.getAttribute("checkboxposition")},set:function(e){this.validateAndSetAttributeWithCustomType("checkboxPosition",s.Ch5Button.CHECKBOX_POSITIONS,e)}},{key:"iconPosition",get:function(){return this.getAttribute("iconposition")},set:function(e){this.validateAndSetAttributeWithCustomType("iconPosition",s.Ch5Button.ICON_POSITIONS,e)}},{key:"iconUrl",get:function(){return this.getAttribute("iconurl")},set:function(e){this.validateAndSetAttributeWithStringType("iconUrl",e)}},{key:"type",get:function(){return this.getAttribute("type")},set:function(e){this.validateAndSetAttributeWithCustomType("type",s.Ch5Button.TYPES,e)}},{key:"customClass",get:function(){return this.getAttribute("customclass")},set:function(e){this.validateAndSetAttributeWithStringType("customClass",e)}},{key:"customStyle",get:function(){return this.getAttribute("customstyle")},set:function(e){this.validateAndSetAttributeWithStringType("customStyle",e)}},{key:"connectedCallback",value:function(){if(this.logger.start("connectedCallback"),!(this.parentElement instanceof a.Ch5ButtonMode))throw new Error("Invalid parent element for ch5-button-mode-state.");if(l.default.isNil(this._parentCh5Button))throw new Error("Missing parent ch5-button element for ch5-button-mode-state.");this.setAttribute("role",r.Ch5RoleAttributeMapping.ch5ButtonModeState),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.logger.stop()}},{key:"disconnectedCallback",value:function(){this.logger.start("disconnectedCallback"),this.logger.stop()}},{key:"attributeChangedCallback",value:function(e,t,n){if(this.logger.start("attributeChangedCallback"),t!==n)switch(this.logger.log('Ch5ButtonModeState.attributeChangedCallback("'+e+'","'+t+'","'+n+')"'),e){case"type":this.hasAttribute("type")?this.type=n:this.type=null;break;case"labelinnerhtml":this.hasAttribute("labelinnerhtml")&&(this.labelInnerHTML=n);break;case"iconclass":this.hasAttribute("iconclass")&&(this.iconClass=n);break;case"customclass":this.hasAttribute("customclass")&&(this.customClass=n);break;case"customstyle":this.hasAttribute("customstyle")&&(this.customStyle=n);break;case"halignlabel":this.hasAttribute("halignlabel")?this.hAlignLabel=n:this.hAlignLabel=null;break;case"valignlabel":this.hasAttribute("valignlabel")?this.vAlignLabel=n:this.vAlignLabel=null;break;case"checkboxposition":this.hasAttribute("checkboxposition")&&(this.checkboxPosition=n);break;case"iconposition":this.hasAttribute("iconposition")&&(this.iconPosition=n);break;case"iconurl":this.hasAttribute("iconurl")&&(this.iconUrl=n);break;case"state":this.hasAttribute("state")&&(this.state=n);break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}this.logger.stop()}},{key:"validateAndSetAttributeWithCustomType",value:function(e,t,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.logger.start("set "+e+'("'+i+'")'),null!==i?t.indexOf(i)>=0?(this.setAttribute(e.toLowerCase(),String(i)),this._parentCh5Button.setButtonDisplay()):!0===n?this.removeAttribute(e):(this.setAttribute(e.toLowerCase(),String(t[0])),this._parentCh5Button.setButtonDisplay()):!0===n?(this.removeAttribute(e),this._parentCh5Button.setButtonDisplay()):(this.setAttribute(e.toLowerCase(),String(t[0])),this._parentCh5Button.setButtonDisplay()),this.logger.stop()}},{key:"validateAndSetAttributeWithStringType",value:function(e,t){this.logger.start("set "+e+'("'+t+'")'),null!==t?this.setAttribute(e.toLowerCase(),t):this.removeAttribute(e),this._parentCh5Button.setButtonDisplay(),this.logger.stop()}},{key:"getParentButton",value:function(){return function e(t){return l.default.isNil(t)||"CH5-BUTTON"===t.nodeName.toString().toUpperCase()?t:e(t.parentNode)}(this.parentElement)}}],[{key:"observedAttributes",get:function(){return o.Ch5Log.observedAttributes.concat(["type","iconclass","halignlabel","valignlabel","checkboxposition","iconposition","iconurl","state","customclass","customstyle","labelinnerhtml"])}}]),i}();t.Ch5ButtonModeState=u,u.ELEMENT_NAME="ch5-button-mode-state",u.STATES=["normal","pressed","selected"],"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(u.ELEMENT_NAME,u)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafariMobile=void 0,t.isSafariMobile=function(){var e=window.navigator.userAgent.toLowerCase(),t=e.indexOf("ipad")>-1||e.indexOf("macintosh")>-1&&"ontouchend"in document||!!e.match(/iPhone/i),i=!!e.match(/WebKit/i);return!(!t||!i||e.match(/CriOS/i))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5CommonLog=void 0;var n=i(0);t.Ch5CommonLog=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";_classCallCheck(this,e),this.isDebugEnabled=t,this.isTraceEnabled=i,this.crId=n}return _createClass(e,[{key:"start",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!0===this.isTraceEnabled){var i="";!1===n.Ch5Debug.CONSOLE_OVERRIDDEN&&(i=(new Date).toISOString()),console.group((""!==t?t+" ":"")+i+": "+this.crId+": "+e)}else!0===this.isDebugEnabled&&this.info(e,t)}},{key:"log",value:function(){for(var e,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];if(!0===this.isTraceEnabled)(e=console).log.apply(e,s);else if(!0===this.isDebugEnabled){var a="";!1===n.Ch5Debug.CONSOLE_OVERRIDDEN&&(a=(new Date).toISOString());try{var o=String((new Error).stack).trim();null!==o&&(o&&(o=o.replace(/^Error\s+/,"")),o&&(o=o.split("\n")[1]),o&&(o=o.replace(/^\s+at Object./,"")),o&&(o=o.replace(/^\s+at HTMLElement./,"")),o&&(o=o.replace(/^\s+at /,"")),o&&(o=o.replace(/ \(.+\)$/,"")),o&&(o=o.replace(/\@.+/,"")),o&&""!==o&&(o="Method is "+o+":")),console.log(a+":"+this.crId+":"+o+":",s)}catch(i){console.log(a+":"+this.crId+":",s)}}}},{key:"info",value:function(e){if(!0===this.isDebugEnabled){var t="";!1===n.Ch5Debug.CONSOLE_OVERRIDDEN&&(t=(new Date).toISOString());for(var i=arguments.length,s=new Array(i>1?i-1:0),r=1;r<i;r++)s[r-1]=arguments[r];try{var a=String((new Error).stack).trim();null!==a&&(a&&(a=a.replace(/^Error\s+/,"")),a&&(a=a.split("\n")[1]),a&&(a=a.replace(/^\s+at Object./,"")),a&&(a=a.replace(/^\s+at HTMLElement./,"")),a&&(a=a.replace(/^\s+at /,"")),a&&(a=a.replace(/ \(.+\)$/,"")),a&&(a=a.replace(/\@.+/,"")),a&&""!==a&&(a="Method is "+a+":")),console.info(t+":"+this.crId+":"+a+e+":"+s)}catch(n){console.info(t+":"+this.crId+":"+e+":"+s)}}}},{key:"error",value:function(e){if(!0===this.isDebugEnabled){var t="";!1===n.Ch5Debug.CONSOLE_OVERRIDDEN&&(t=(new Date).toISOString());for(var i=arguments.length,s=new Array(i>1?i-1:0),r=1;r<i;r++)s[r-1]=arguments[r];try{var a=String((new Error).stack).trim();null!==a&&(a&&(a=a.replace(/^Error\s+/,"")),a&&(a=a.split("\n")[1]),a&&(a=a.replace(/^\s+at Object./,"")),a&&(a=a.replace(/^\s+at HTMLElement./,"")),a&&(a=a.replace(/^\s+at /,"")),a&&(a=a.replace(/ \(.+\)$/,"")),a&&(a=a.replace(/\@.+/,"")),a&&""!==a&&(a="Method is "+a+":")),console.error(t+":"+this.crId+":"+a+e+":"+s)}catch(n){console.error(t+":"+this.crId+":"+e+":"+s)}}}},{key:"stop",value:function(){!0===this.isTraceEnabled&&console.groupEnd()}}]),e}()},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var i=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){var t=_typeof(e);return null!=e&&("object"==t||"function"==t)}},function(e,t,i){(function(t){var i="object"==_typeof(t)&&t&&t.Object===Object&&t;e.exports=i}).call(this,i(96))},function(e,t,i){var n=i(11).Symbol;e.exports=n},function(e,t,i){var n=i(27),s=i(77);e.exports=function(e){if(!s(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var i=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}},function(e,t,i){var n=i(263),s=i(260),r=i(248),a=i(246),o=i(245),l=i(244),u=i(81),c=i(242),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||r(e)))return!e.length;var t=s(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var i in e)if(h.call(e,i))return!1;return!0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ImageUriModel=void 0;var n=i(1);t.Ch5ImageUriModel=function(){function e(t,i,n,s){_classCallCheck(this,e),this._schemas={},this._user="",this._password="",this._location="",this._protocol="",this.schemas=t,this._protocol=this.getProtocol(s),this.user=i,this.password=n,this.location=s}return _createClass(e,[{key:"schemas",get:function(){return this._schemas},set:function(e){(0,n.isNil)(e)||(0,n.isEmpty)(e)||(this._schemas=e)}},{key:"user",get:function(){return this._user},set:function(e){(0,n.isNil)(e)||(0,n.isEmpty)(e)||(this._user=e)}},{key:"password",get:function(){return this._password},set:function(e){(0,n.isNil)(e)||(0,n.isEmpty)(e)||(this._password=e)}},{key:"location",get:function(){return this._location},set:function(e){if(!(0,n.isNil)(e)&&!(0,n.isEmpty)(e)){var t=new RegExp("http(s?)[://]+(www.)*"),i=e.match(t);!(0,n.isNil)(i)&&i.length>0&&(e=e.replace(i[0],"")),this._location=e}}},{key:"toString",value:function(){return this.isValidAuthenticationUri()?"".concat(this._protocol,"://").concat(this.user,":").concat(this.password,"@").concat(this.location):""}},{key:"isValidAuthenticationUri",value:function(){return!((0,n.isNil)(this.password)||(0,n.isEmpty)(this.password)||(0,n.isNil)(this.user)||(0,n.isEmpty)(this.user)||(0,n.isNil)(this.schemas)||(0,n.isEmpty)(this.schemas)&&this.schemas.http)}},{key:"getProtocol",value:function(e){var t=new RegExp("^http(?:s?)"),i=e.match(t);return i&&"https"===i[0]&&this.schemas.https?this.schemas.https:this.schemas.http}}]),e}()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ButtonBase=void 0;var s=i(3),r=i(0),a=i(0),o=n(i(5)),l=i(21),u=i(10),c=i(73),h=i(238),d=i(237),f=n(i(1)),p=i(20),v=function(e){_inherits(i,s.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).BUTTON_PROPERTIES={CHECKBOX_SHOW:{default:!1,valueOnAttributeEmpty:!0,variableName:"_checkboxShow",attributeName:"checkboxShow",propertyName:"checkboxShow",type:"boolean",removeAttributeOnNull:!0,enumeratedValues:["true","false","",!0,!1],componentReference:_assertThisInitialized(e),callback:e.checkboxDisplay.bind(_assertThisInitialized(e))},SELECTED:{default:!1,valueOnAttributeEmpty:!0,variableName:"_selected",attributeName:"selected",propertyName:"selected",removeAttributeOnNull:!0,type:"boolean",enumeratedValues:["true","false","",!0,!1],componentReference:_assertThisInitialized(e),callback:e.setSelectionMethods.bind(_assertThisInitialized(e))},VALIGN_LABEL:{default:i.VERTICAL_LABEL_ALIGNMENTS[0],valueOnAttributeEmpty:i.VERTICAL_LABEL_ALIGNMENTS[0],variableName:"_vAlignLabel",attributeName:"vAlignLabel",propertyName:"vAlignLabel",removeAttributeOnNull:!1,type:"enum",enumeratedValues:i.VERTICAL_LABEL_ALIGNMENTS,componentReference:_assertThisInitialized(e),callback:e.setButtonDisplay.bind(_assertThisInitialized(e))},PRESSED:{default:!1,valueOnAttributeEmpty:!0,variableName:"_pressed",attributeName:"pressed",propertyName:"pressed",removeAttributeOnNull:!0,type:"boolean",enumeratedValues:["true","false","",!0,!1],componentReference:_assertThisInitialized(e)}},e.STATE_CHANGE_TIMEOUTS=500,e.BUTTON_PRIMARY_CLASS="cb-btn",e.pressedCssClassPostfix="--pressed",e.selectedCssClassPostfix="--selected",e.iosCssClassPostfix="--ios-vertical",e.MODES={MIN_LENGTH:0,MAX_LENGTH:99},e.ELEMENT_NAME="ch5-button",e.primaryCssClass="ch5-button",e.cssClassPrefix="ch5-button",e.DEBOUNCE_BUTTON_DISPLAY=25,e._elContainer={},e._elButton={},e._elSpanForLabelOnly={},e._elSpanForLabelIconImg={},e._elIcon={},e._elCheckboxIcon={},e._elIosDots={},e.isLabelLoaded=!1,e._isPressedSubscription=null,e._mode=0,e.isModeSetUsingJavascript=!1,e._pressDelayTime=null,e._pressDelayDistance=null,e._label="",e._labelInnerHTML="",e.isLabelSetUsingJavascript=!1,e.labelSetByJavascriptValue="",e._iconClass="",e._previousIconClass="",e._iconPosition="first",e._checkboxPosition="left",e._checkboxShow=!1,e.isButtonInitiated=!1,e._hAlignLabel="center",e._vAlignLabel="middle",e._orientation="horizontal",e._shape="rounded-rectangle",e._size="regular",e._formType=null,e._stretch=null,e._type="default",e._selected=!1,e._customClassState="",e._sigNameReceiveSelected="",e._subReceiveSelected="",e._sigNameSendOnTouch="",e._sigNameSendOnClick="",e._sigNameReceiveStateMode=null,e._subReceiveSignalMode=null,e._repeatDigitalInterval=null,e._pressable=null,e._iconUrl="",e._previousIconUrl="",e._customClassPressed=null,e._customClassDisabled=null,e.previousExtendedProperties={},e.debounceSetButtonDisplay=e.debounce(function(){e.setButtonDisplayDetails()},e.DEBOUNCE_BUTTON_DISPLAY),e.logger.start("constructor()",e.primaryCssClass),e._wasInstatiated||e.createInternalHtml(),e._wasInstatiated=!0,e._ch5ButtonSignal=new d.Ch5ButtonSignal,e._onBlur=e._onBlur.bind(_assertThisInitialized(e)),e._onFocus=e._onFocus.bind(_assertThisInitialized(e)),e.logger.stop(),e}return _createClass(i,[{key:"label",get:function(){return this._label},set:function(e){this.logger.log('set label("'+e+'")'),(0,o.default)(e)&&(e="");var t=this._getTranslatedValue("label",e);t!==this.label&&(this.setAttribute("label",t),this.setButtonDisplay())}},{key:"labelInnerHTML",get:function(){return this._labelInnerHTML},set:function(e){this.logger.log('set labelInnerHTML("'+e+'")'),(0,o.default)(e)&&(e=""),e!==this.labelInnerHTML&&(this.setAttribute("labelInnerHTML",e),this._labelInnerHTML=e,this.createButtonLabel(this),this.setButtonDisplay())}},{key:"formType",get:function(){return this._formType},set:function(e){this.logger.log('set formType("'+e+'")'),(0,o.default)(e)?this.removeAttribute("formType"):this.setAttribute("formType",e)}},{key:"customClass",get:function(){return this._customClass},set:function(e){this.setButtonAttribute("customClass",e)}},{key:"customStyle",get:function(){return this._customStyle},set:function(e){this.setButtonAttribute("customStyle",e)}},{key:"iconClass",get:function(){return this._iconClass},set:function(e){this.setButtonAttribute("iconClass",e)}},{key:"hAlignLabel",get:function(){return this._hAlignLabel},set:function(e){this.setButtonAttribute("hAlignLabel",e,i.HORIZONTAL_LABEL_ALIGNMENTS,i.HORIZONTAL_LABEL_ALIGNMENTS[0])}},{key:"setButtonAttribute",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;this.logger.log("setButtonAttribute: "+e+' - "'+t+'"'),this[e]!==t&&(0===i.length?f.default.isNil(t)||""===String(t).trim()?(this.removeAttribute(e),this.setButtonDisplay()):(this.setAttribute(e,String(t)),this.setButtonDisplay()):i.indexOf(t)>=0?(this.setAttribute(e,String(t).trim()),this.setButtonDisplay()):f.default.isNil(n)?(this.removeAttribute(e),this.setButtonDisplay()):(this.setAttribute(e,String(n).trim()),this.setButtonDisplay()))}},{key:"vAlignLabel",get:function(){return this._vAlignLabel},set:function(e){this.setAttributeAndProperty(this.BUTTON_PROPERTIES.VALIGN_LABEL,e)}},{key:"mode",get:function(){return this._mode},set:function(e){if(this.logger.log('set mode("'+e+'")'),this._mode!==e){if(Number.isNaN(e))this._mode=0;else if(e>=this.MODES.MIN_LENGTH&&e<=this.MODES.MAX_LENGTH){var t=this.getElementsByTagName("ch5-button-mode");t&&t.length>0&&e<t.length?this._mode=e:this._mode=0}else this._mode=0;this.setAttribute("mode",String(this._mode)),this.setButtonDisplay()}}},{key:"pressDelayTime",get:function(){return this._pressDelayTime},set:function(e){this.logger.log('set pressDelayTime("'+e+'")'),this._pressDelayTime!==e&&null!==e&&(Number.isNaN(e)||(this._pressDelayTime=e,this.setAttribute("pressDelayTime",String(this._pressDelayTime))))}},{key:"pressDelayDistance",get:function(){return this._pressDelayDistance},set:function(e){this.logger.log('set pressDelayDistance("'+e+'")'),this._pressDelayDistance!==e&&null!==e&&(Number.isNaN(e)||(this._pressDelayDistance=e,this.setAttribute("pressDelayDistance",String(this._pressDelayDistance))))}},{key:"checkboxPosition",get:function(){return this._checkboxPosition},set:function(e){this.setButtonAttribute("checkboxPosition",e,i.CHECKBOX_POSITIONS,i.CHECKBOX_POSITIONS[0])}},{key:"checkboxShow",get:function(){return this._checkboxShow},set:function(e){this.logger.log('set checkboxShow("'+e+'")'),this.setAttributeAndProperty(this.BUTTON_PROPERTIES.CHECKBOX_SHOW,e)}},{key:"iconPosition",get:function(){return this._iconPosition},set:function(e){this.setButtonAttribute("iconPosition",e,i.ICON_POSITIONS,i.ICON_POSITIONS[0])}},{key:"iconUrl",get:function(){return this._iconUrl},set:function(e){this.setButtonAttribute("iconUrl",e)}},{key:"orientation",get:function(){return this._orientation},set:function(e){this.logger.log('set orientation("'+e+'")'),this._orientation!==e&&(this._orientation=h.Ch5ButtonUtils.getValidInputValue(i.ORIENTATIONS,e),this.setAttribute("orientation",this._orientation))}},{key:"type",get:function(){return this._type},set:function(e){this.logger.log('set type("'+e+'")'),this._type!==e&&(this.setAttribute("type",h.Ch5ButtonUtils.getValidInputValue(i.TYPES,e)),this.setButtonDisplay())}},{key:"shape",get:function(){return this._shape},set:function(e){this.logger.log('set shape("'+e+'")'),this._shape!==e&&null!==e&&(i.SHAPES.indexOf(e)>=0?this._shape=e:this._shape=i.SHAPES[0],this.setAttribute("shape",this._shape))}},{key:"size",get:function(){return this._size},set:function(e){this.logger.log('set size("'+e+'")'),this._size!==e&&null!==e&&(i.SIZES.indexOf(e)>=0?this._size=e:this._size=i.SIZES[0],this.setAttribute("size",this._size))}},{key:"stretch",get:function(){return this._stretch},set:function(e){this.logger.log('set stretch("'+e+'")'),null!==e?this._stretch!==e&&(i.STRETCHES.indexOf(e)>=0?(this._stretch=e,this.setAttribute("stretch",this._stretch)):(this._stretch=null,this.removeAttribute("stretch"))):(this._stretch=null,this.removeAttribute("stretch")),this.updateCssClasses()}},{key:"selected",get:function(){return this._selected},set:function(e){this.logger.log('set selected("'+e+'")'),(f.default.isNil(this.receiveStateSelected)||""===this.receiveStateSelected)&&this.setAttributeAndProperty(this.BUTTON_PROPERTIES.SELECTED,e)}},{key:"pressed",get:function(){return!!this._pressable&&this._pressable._pressed},set:function(e){var t;this.logger.log('set pressed("'+e+'")'),this.setAttributeAndProperty(this.BUTTON_PROPERTIES.PRESSED,e);var i;i="boolean"==typeof e?e:!!this.hasAttribute("pressed")&&!([!0,!1,"true","false","0","1",0,1,"",null].indexOf(e)<0)&&this.toBoolean(e,!0),this._pressable&&(null===(t=this._pressable)||void 0===t?void 0:t._pressed)!==i&&this._pressable.setPressed(i),this.updateCssClasses()}},{key:"customClassState",get:function(){return this._customClassState},set:function(e){this.logger.log('set customclassstate("'+e+'")'),this._customClassState!==e&&(this._customClassState=e)}},{key:"customClassPressed",get:function(){return this._customClassPressed},set:function(e){this.logger.log('set customClassPressed("'+e+'")'),this._customClassPressed!==e&&(this._customClassPressed=e)}},{key:"customClassDisabled",get:function(){return this._customClassDisabled},set:function(e){this.logger.log('set customClassDisabled("'+e+'")'),this._customClassDisabled!==e&&(this._customClassDisabled=e)}},{key:"sendEventOnClick",get:function(){return this._sigNameSendOnClick},set:function(e){this.logger.log('set sendEventOnClick("'+e+'")'),""!==e&&e!==this._sigNameSendOnClick&&(this._sigNameSendOnClick=e,this.setAttribute("sendeventonclick",e))}},{key:"sendEventOnTouch",get:function(){return this._sigNameSendOnTouch},set:function(e){this.logger.log('set sendEventOnTouch("'+e+'")'),""!==e&&e!==this._sigNameSendOnTouch&&(this._sigNameSendOnTouch=e,this.setAttribute("sendeventontouch",e))}},{key:"receiveStateSelected",get:function(){return this._attributeValueAsString("receivestateselected")},set:function(e){var t=this;if(this.logger.log('set receiveStateSelected("'+e+'")'),e&&this._sigNameReceiveSelected!==e){if(this._sigNameReceiveSelected){var i=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveSelected),n=r.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&n.unsubscribe(this._subReceiveSelected)}this._sigNameReceiveSelected=e,this.setAttribute("receiveStateSelected",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveSelected),a=r.Ch5SignalFactory.getInstance().getBooleanSignal(s);null!==a&&(this._subReceiveSelected=a.subscribe(function(e){e!==t.selected&&t.setAttributeAndProperty(t.BUTTON_PROPERTIES.SELECTED,e,!0)}))}}},{key:"receiveStateLabel",get:function(){return this._attributeValueAsString("receivestatelabel")},set:function(e){this.receiveSignalAsString(this,"receiveStateLabel",e)}},{key:"receiveStateScriptLabelHtml",get:function(){return this._attributeValueAsString("receivestatescriptlabelhtml")},set:function(e){this.receiveSignalAsString(this,"receiveStateScriptLabelHtml",e)}},{key:"receiveStateIconClass",get:function(){return this._attributeValueAsString("receivestateiconclass")},set:function(e){this.receiveSignalAsString(this,"receiveStateIconClass",e)}},{key:"receiveStateIconUrl",get:function(){return this._attributeValueAsString("receivestateiconurl")},set:function(e){this.receiveSignalAsString(this,"receiveStateIconUrl",e)}},{key:"receiveStateMode",get:function(){return this._attributeValueAsString("receivestatemode")},set:function(e){var t=this;if(this.logger.log("set receiveStateMode('"+e+"')"),this.logger.log("this._sigNameReceiveStateMode"+this._sigNameReceiveStateMode),this._sigNameReceiveStateMode!==e&&null!==e){if(this._sigNameReceiveStateMode){this.logger.log("_sigNameReceiveStateMode exists");var i=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveStateMode),n=r.Ch5SignalFactory.getInstance().getNumberSignal(i);this.logger.log("oldReceiveStateSigName",i),this.logger.log("oldSignal",n),null!==n&&n.unsubscribe(this._subReceiveSignalMode)}this._sigNameReceiveStateMode=e,this.setAttribute("receivestatemode",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveStateMode),a=r.Ch5SignalFactory.getInstance().getNumberSignal(s);null!==a&&(this._subReceiveSignalMode=a.subscribe(function(e){!1===t.isModeSetUsingJavascript&&(t.mode=Number(e),t.setButtonDisplay())}))}}},{key:"receiveStateType",get:function(){return this._attributeValueAsString("receivestatetype")},set:function(e){this.receiveSignalAsString(this,"receiveStateType",e)}},{key:"receiveStateCustomClass",get:function(){return this._attributeValueAsString("receivestatecustomclass")},set:function(e){this.receiveSignalAsString(this,"receiveStateCustomClass",e)}},{key:"receiveStateCustomStyle",get:function(){return this._attributeValueAsString("receivestatecustomstyle")},set:function(e){this.receiveSignalAsString(this,"receiveStateCustomStyle",e)}},{key:"connectedCallback",value:function(){var e=this;this.logger.start("connectedCallback()",this.primaryCssClass),(0,a.subscribeInViewPortChange)(this,function(){if(e.elementIsInViewPort&&!f.default.isNil(e.stretch)&&"circle"===e.shape&&e.parentElement){var t=e.parentElement,i=t.offsetHeight,n=t.offsetWidth,s=n<=i?n:i;0!==s&&(e.style.height=s+"px",e.style.width=s+"px")}}),this.isButtonInitiated=!1,this.previousExtendedProperties={},this._listOfAllPossibleComponentCssClasses=this.generateListOfAllPossibleComponentCssClasses(),this.updatePressedClass(this.primaryCssClass+this.pressedCssClassPostfix),this.hasAttribute("role")||this.setAttribute("role",u.Ch5RoleAttributeMapping.ch5Button),this._elContainer.parentElement!==this&&this.appendChild(this._elContainer),this.customClassState&&this.hasAttribute("customclasspressed")&&this.updatePressedClass(this.customClassState),this.attachEventListeners(),this.initAttributes(),this.initCommonMutationObserver(this),this.hasAttribute("customclasspressed")||this.updateCssClassesForCustomState(),customElements.whenDefined("ch5-button").then(function(){e.isButtonInitiated=!0,e.setButtonDisplay(),e.updateCssClasses(),e.componentLoadedEvent(e.ELEMENT_NAME,e.id)}),this.logger.stop()}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.logger.start("initAttributes",this.primaryCssClass),this.hasAttribute("checkboxposition")&&(this.checkboxPosition=this.getAttribute("checkboxposition")),this.hasAttribute("checkboxshow")&&(this.checkboxShow=this.getAttribute("checkboxshow")),this.hasAttribute("customclassselected")&&(this.customClassState=this.getAttribute("customclassselected")),this.hasAttribute("customclasspressed")&&(this.customClassPressed=this.getAttribute("customclasspressed"),this.customClassState=this.customClassPressed),this.hasAttribute("customclassdisabled")&&(this.customClassDisabled=this.getAttribute("customclassdisabled"),this.customClassState=this.customClassDisabled),this.hasAttribute("formtype")&&(this.formType=this.getAttribute("formtype")),this.hasAttribute("halignlabel")&&(this.hAlignLabel=this.getAttribute("halignlabel")),this.hasAttribute("iconclass")&&(this.iconClass=this.getAttribute("iconclass")),this.hasAttribute("iconposition")&&(this.iconPosition=this.getAttribute("iconposition")),this.hasAttribute("iconurl")&&(this.iconUrl=this.getAttribute("iconurl")),this.hasAttribute("label")&&(this.label=this.getAttribute("label")),this.hasAttribute("mode")&&(this.mode=Number(this.getAttribute("mode"))),this.hasAttribute("pressdelaytime")&&(this.pressDelayTime=Number(this.getAttribute("pressdelaytime"))),this.hasAttribute("pressdelaydistance")&&(this.pressDelayDistance=Number(this.getAttribute("pressdelaydistance"))),this.hasAttribute("orientation")&&(this.orientation=this.getAttribute("orientation")),this.hasAttribute("selected")&&(this.selected=this.getAttribute("selected")),this.hasAttribute("shape")&&(this.shape=this.getAttribute("shape")),this.hasAttribute("size")&&(this.size=this.getAttribute("size")),this.hasAttribute("stretch")&&(this.stretch=this.getAttribute("stretch")),this.hasAttribute("type")&&(this.type=this.getAttribute("type")),this.hasAttribute("valignlabel")&&(this.vAlignLabel=this.getAttribute("valignlabel")),this.hasAttribute("pressed")&&(this.logger.log("### P: ",this.getAttribute("pressed")),this.pressed=this.getAttribute("pressed")),this.hasAttribute("labelInnerHTML")&&(this.labelInnerHTML=this.getAttribute("labelInnerHTML")),this.hasAttribute("receivestateselected")&&(this.receiveStateSelected=this.getAttribute("receivestateselected")),this.hasAttribute("receivestatelabel")&&(this.receiveStateLabel=this.getAttribute("receivestatelabel")),this.hasAttribute("receivestatescriptlabelhtml")&&(this.receiveStateScriptLabelHtml=this.getAttribute("receivestatescriptlabelhtml")),this.hasAttribute("receivestateiconclass")&&(this.receiveStateIconClass=this.getAttribute("receivestateiconclass")),this.hasAttribute("receivestateiconurl")&&(this.receiveStateIconUrl=this.getAttribute("receivestateiconurl")),this.hasAttribute("receivestatetype")&&(this.receiveStateType=this.getAttribute("receivestatetype")),this.hasAttribute("receivestatemode")&&(this.receiveStateMode=this.getAttribute("receivestatemode")),this.hasAttribute("sendeventonclick")&&(this.sendEventOnClick=this.getAttribute("sendeventonclick")),this.hasAttribute("sendeventontouch")&&(this.sendEventOnTouch=this.getAttribute("sendeventontouch")),this.updateCssClasses(),this.updateInternalHtml(),this.logger.stop()}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),this._elButton.addEventListener("focus",this._onFocus),this._elButton.addEventListener("blur",this._onBlur),this.logger.log("this._pressable",this._pressable),(0,o.default)(this._pressable)||(this._pressable.init(),this._subscribeToPressableIsPressed())}},{key:"removeEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),this._elButton.removeEventListener("focus",this._onFocus),this._elButton.removeEventListener("blur",this._onBlur),this.style&&(this.style.removeProperty("height"),this.style.removeProperty("width")),(0,o.default)(this._pressable)||this._unsubscribeFromPressableIsPressed()}},{key:"_onFocus",value:function(e){var t;this.logger.start("_onFocus"),t=new Event(e.type,e),this.dispatchEvent(t),e.preventDefault(),e.stopPropagation(),this.logger.stop()}},{key:"_onBlur",value:function(e){var t;this.logger.start("_onBlur"),this.pressed=!1,t=new Event(e.type,e),this.dispatchEvent(t),e.preventDefault(),e.stopPropagation(),this.logger.stop()}},{key:"attributeChangedCallback",value:function(e,t,n){if(this.logger.start("attributeChangedCallback",this.primaryCssClass),t!==n){switch(this.logger.log('ch5-button attributeChangedCallback("'+e+'","'+t+'","'+n+'")'),e){case"customclass":this.customClass=h.Ch5ButtonUtils.getAttributeValue(this,"customclass",n,"");break;case"labelinnerhtml":this.labelInnerHTML=h.Ch5ButtonUtils.getAttributeValue(this,"labelinnerhtml",n,"");break;case"receivestatecustomclass":this.hasAttribute("receivestatecustomclass")?this.receiveStateCustomClass=this.getAttribute("receivestatecustomclass"):(this.clearStringSignalSubscription(this._receiveStateCustomClass,this._subKeySigReceiveCustomClass),this._receiveStateCustomClass="");break;case"customstyle":this.customStyle=h.Ch5ButtonUtils.getAttributeValue(this,"customstyle",n,"");break;case"receivestatecustomstyle":this.hasAttribute("receivestatecustomstyle")?this.receiveStateCustomStyle=this.getAttribute("receivestatecustomstyle"):(this.clearStringSignalSubscription(this._receiveStateCustomStyle,this._subKeySigReceiveCustomStyle),this._receiveStateCustomStyle="");break;case"label":this.label=h.Ch5ButtonUtils.getAttributeValue(this,"label",n,"");break;case"iconclass":this.iconClass=h.Ch5ButtonUtils.getAttributeValue(this,"iconclass",n,"");break;case"iconposition":this.iconPosition=h.Ch5ButtonUtils.getAttributeValue(this,"iconposition",n,i.ICON_POSITIONS[0]);break;case"iconurl":this.iconUrl=h.Ch5ButtonUtils.getAttributeValue(this,"iconurl",n,"");break;case"mode":this.mode=h.Ch5ButtonUtils.getAttributeValue(this,"mode",Number(n),0),this.updateCssClasses(),this.updateInternalHtml();break;case"pressdelaytime":this.pressDelayTime=h.Ch5ButtonUtils.getAttributeValue(this,"pressdelaytime",Number(n),null),this.updatePressDelay();break;case"pressdelaydistance":this.pressDelayDistance=h.Ch5ButtonUtils.getAttributeValue(this,"pressdelaydistance",Number(n),null),this.updatePressDistance();break;case"orientation":this.orientation=h.Ch5ButtonUtils.getAttributeValue(this,"orientation",n,i.ORIENTATIONS[0]),this.updateCssClasses();break;case"type":this.type=h.Ch5ButtonUtils.getAttributeValue(this,"type",n,i.TYPES[0]);break;case"shape":this.shape=h.Ch5ButtonUtils.getAttributeValue(this,"shape",n,i.SHAPES[0]),this.updateCssClasses();break;case"halignlabel":this.hAlignLabel=h.Ch5ButtonUtils.getAttributeValue(this,"halignlabel",n,i.HORIZONTAL_LABEL_ALIGNMENTS[0]);break;case"valignlabel":this.vAlignLabel=h.Ch5ButtonUtils.getAttributeValue(this,"valignlabel",n,i.VERTICAL_LABEL_ALIGNMENTS[0]);break;case"size":this.size=h.Ch5ButtonUtils.getAttributeValue(this,"size",n,i.SIZES[0]),this.updateCssClasses();break;case"stretch":this.stretch=h.Ch5ButtonUtils.getAttributeValue(this,"stretch",n,null),this.updateCssClasses();break;case"selected":this.selected=n;break;case"pressed":this.pressed=n;break;case"checkboxshow":this.checkboxShow=n;break;case"checkboxposition":this.checkboxPosition=h.Ch5ButtonUtils.getAttributeValue(this,"checkboxposition",n,i.CHECKBOX_POSITIONS[0]);break;case"formtype":this.hasAttribute("formtype")&&(this.formType=this.getAttribute("formtype"));break;case"customclassselected":this.customClassState=h.Ch5ButtonUtils.getAttributeValue(this,"customclassselected",n,""),this.updateCssClassesForCustomState();break;case"customclasspressed":this.customClassPressed=h.Ch5ButtonUtils.getAttributeValue(this,"customclasspressed",n,""),this.customClassState=this.customClassPressed,this.updatePressedClass(this.customClassState);break;case"customclassdisabled":this.customClassDisabled=h.Ch5ButtonUtils.getAttributeValue(this,"customclassdisabled",n,""),this.customClassState=this.customClassDisabled,this.updateCssClassesForCustomState();break;case"receivestateselected":this.receiveStateSelected=h.Ch5ButtonUtils.getAttributeValue(this,"receivestateselected",n,"");break;case"receivestatelabel":this.receiveStateLabel=h.Ch5ButtonUtils.getAttributeValue(this,"receivestatelabel",n,"");break;case"receivestatescriptlabelhtml":this.receiveStateScriptLabelHtml=h.Ch5ButtonUtils.getAttributeValue(this,"receivestatescriptlabelhtml",n,"");break;case"sendeventonclick":this.sendEventOnClick=h.Ch5ButtonUtils.getAttributeValue(this,"sendeventonclick",n,"");break;case"sendeventontouch":this.sendEventOnTouch=h.Ch5ButtonUtils.getAttributeValue(this,"sendeventontouch",n,"");break;case"receivestateiconclass":this.receiveStateIconClass=h.Ch5ButtonUtils.getAttributeValue(this,"receivestateiconclass",n,"");break;case"receivestateiconurl":this.receiveStateIconUrl=h.Ch5ButtonUtils.getAttributeValue(this,"receivestateiconurl",n,"");break;case"receivestatetype":this.receiveStateType=h.Ch5ButtonUtils.getAttributeValue(this,"receivestatetype",n,"");break;case"receivestatemode":this.receiveStateMode=h.Ch5ButtonUtils.getAttributeValue(this,"receivestatemode",n,"");break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}this.logger.stop()}else this.logger.stop()}},{key:"createButtonLabel",value:function(e){var t=e.getElementsByTagName("ch5-button-label"),i=Array.prototype.slice.call(t).filter(function(t){return t.parentNode.nodeName.toString().toLowerCase()===e.nodeName.toString().toLowerCase()}),n=null;i&&i.length>0&&!(0,o.default)(i[0].children[0])?n=i[0]:(n=document.createElement("ch5-button-label"),e.appendChild(n));var s=n.querySelector("template");null!==s&&n.removeChild(s),(s=document.createElement("template")).innerHTML=this.decodeInnerHTMLForAttribute(e.labelInnerHTML),n.appendChild(s)}},{key:"updatePressDelay",value:function(){null===this._pressable||f.default.isNil(this._pressable.options)||f.default.isNil(this.pressDelayTime)||isNaN(this.pressDelayTime)||(this._pressable.options.pressDelayTime=this.pressDelayTime)}},{key:"updatePressDistance",value:function(){null===this._pressable||f.default.isNil(this._pressable.options)||f.default.isNil(this.pressDelayDistance)||isNaN(this.pressDelayDistance)||(this._pressable.options.pressDelayDistance=this.pressDelayDistance)}},{key:"_subscribeToPressableIsPressed",value:function(){var e=this;null===this._isPressedSubscription&&null!==this._pressable&&(this._isPressedSubscription=this._pressable.observablePressed.subscribe(function(t){if(e.logger.log("Ch5Button.pressableSubscriptionCb(".concat(t,")"),e.pressed),!1===t)null!==e._repeatDigitalInterval&&window.clearInterval(e._repeatDigitalInterval),e.sendValueForRepeatDigitalWorking(!1),setTimeout(function(){e.setButtonDisplay()},e.STATE_CHANGE_TIMEOUTS);else{e.sendValueForRepeatDigitalWorking(!0),null!==e._repeatDigitalInterval&&window.clearInterval(e._repeatDigitalInterval);var i=0;e._repeatDigitalInterval=window.setInterval(function(){e.sendValueForRepeatDigitalWorking(!0),++i>=150&&(console.warn("Ch5Button MAXIMUM Repeat digitals sent"),window.clearInterval(e._repeatDigitalInterval),e.sendValueForRepeatDigitalWorking(!1))},200),e.setButtonDisplay()}}))}},{key:"_unsubscribeFromPressableIsPressed",value:function(){null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval),null!==this._isPressedSubscription&&(this._isPressedSubscription.unsubscribe(),this._isPressedSubscription=null)}},{key:"disconnectedCallback",value:function(){this.logger.start("disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),(0,a.unSubscribeInViewPortChange)(this),null!==this._pressable&&this._pressable.destroy(),this.disconnectCommonMutationObserver(),this.logger.stop()}},{key:"updatePressedClass",value:function(e){this._pressable=new l.Ch5Pressable(this,{cssTargetElement:this.getTargetElementForCssClassesAndStyle(),cssPressedClass:e})}},{key:"updateForChangeInCustomCssClass",value:function(){var e=this,t=this.getTargetElementForCssClassesAndStyle();this.logger.start("updateForChangeInCustomCssClass()"),this._prevAddedCustomClasses.forEach(function(e){""!==e&&t.classList.remove(e)}),this._prevAddedCustomClasses=[],this.customClass.split(" ").forEach(function(i){""!==i&&(e._prevAddedCustomClasses.push(i),t.classList.add(i))}),this.logger.stop()}},{key:"updateForChangeInStyleCss",value:function(){this.logger.start("updateForChangeInStyleCss()"),this.getTargetElementForCssClassesAndStyle().style.cssText=this.customStyle,this.logger.stop()}},{key:"wrap",value:function(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}},{key:"generateListOfAllPossibleComponentCssClasses",value:function(){var e=this,t=[];return t.push(this.primaryCssClass),i.SHAPES.forEach(function(i){var n=e.primaryCssClass+"--"+i;t.push(n)}),i.TYPES.forEach(function(i){var n=e.primaryCssClass+"--"+i;t.push(n)}),i.HORIZONTAL_LABEL_ALIGNMENTS.forEach(function(i){var n=e.primaryCssClass+"--horizontal-"+i;t.push(n)}),i.VERTICAL_LABEL_ALIGNMENTS.forEach(function(i){var n=e.primaryCssClass+"--vertical-"+i;t.push(n)}),i.SIZES.forEach(function(i){t.push(e.primaryCssClass+"--size-"+i)}),i.STRETCHES.forEach(function(i){t.push(e.primaryCssClass+"--stretch-"+i)}),i.ORIENTATIONS.forEach(function(i){t.push(e.primaryCssClass+"--"+i)}),t.push(this.primaryCssClass+this.selectedCssClassPostfix),t}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this),this._ch5ButtonSignal.unsubscribeAll()}},{key:"updateIconDisplay",value:function(){var e=this;this.logger.start("updateIconDisplay"),(0,o.default)(this._previousIconUrl)||""===this._previousIconUrl||(this._elIcon.style.backgroundImage=""),(0,o.default)(this._previousIconClass)||""===this._previousIconClass||this._previousIconClass.split(" ").forEach(function(t){t=t.trim(),e._elIcon&&e._elIcon.classList&&""!==t&&e._elIcon.classList.remove(t)}),(0,o.default)(this.iconUrl)||""===this.iconUrl?(0,o.default)(this.iconClass)||""===this.iconClass||this.iconClass.split(" ").forEach(function(t){""!==(t=t.trim())&&e._elIcon.classList.add(t)}):this._elIcon.style.backgroundImage=this.iconUrl,this.logger.stop()}},{key:"setLabel",value:function(e){this.labelSetByJavascriptValue=e,this.isLabelSetUsingJavascript=!0,this.setButtonDisplay()}},{key:"setMode",value:function(e){this.mode=e,this.isModeSetUsingJavascript=!0,this.setButtonDisplay()}},{key:"createInternalHtml",value:function(){this.logger.start("createInternalHtml()"),this.clearComponentContent(),this._elContainer=document.createElement("div"),this._elButton=document.createElement("button"),this._elButton.classList.add(this.BUTTON_PRIMARY_CLASS),this._elCheckboxIcon=document.createElement("i"),this._elCheckboxIcon.classList.add("cb-checkbox-icon"),this._elSpanForLabelIconImg=document.createElement("span"),this._elSpanForLabelIconImg.classList.add("cb-lbl"),this._elSpanForLabelOnly=document.createElement("span"),this._elSpanForLabelOnly.classList.add("cb-lbl"),this._elIcon=document.createElement("i"),this._elIcon.classList.add("cb-icon"),this._elContainer.classList.add(this.primaryCssClass),this._elButton.setAttribute("data-ch5-id",this.getCrId()),this._elIcon.classList.add(this.primaryCssClass+"--icon"),this._elSpanForLabelOnly.classList.add(this.primaryCssClass+"--label"),this._elSpanForLabelIconImg.classList.add(this.primaryCssClass+"--span"),this._elContainer.appendChild(this._elButton),this.logger.stop()}},{key:"createIosEllipsis",value:function(){var e=this;(0,c.isSafariMobile)()&&(this._elButton.childNodes.forEach(function(t){t.className===e.primaryCssClass+"--ios-label"&&t.remove()}),this.isLabelLoaded?this.createEllipsisTpl():setTimeout(function(){e.createEllipsisTpl(),e.isLabelLoaded=!0},2e3))}},{key:"createEllipsisTpl",value:function(){if(this._elSpanForLabelOnly.scrollHeight>this._elSpanForLabelOnly.clientHeight){this._elContainer.classList.add(this.primaryCssClass+this.iosCssClassPostfix),this._elIosDots=document.createElement("i"),this._elIosDots.classList.add("dots"),this._elIosDots.innerHTML="...",this._elSpanForLabelOnly.appendChild(this._elIosDots);var e=document.createElement("span");e.classList.add(this.primaryCssClass+"--ios-label"),this._elSpanForLabelOnly.closest("."+this.primaryCssClass+"--ios-label")||this.wrap(this._elSpanForLabelOnly,e)}}},{key:"clearComponentContent",value:function(){var e=this.getElementsByTagName("div");Array.from(e).forEach(function(e){e.remove()})}},{key:"getTargetElementForCssClassesAndStyle",value:function(){return this._elContainer}},{key:"getCssClassDisabled",value:function(){return this.primaryCssClass+"--disabled"}},{key:"sendValueForRepeatDigitalWorking",value:function(e){if(this.info("Ch5Button.sendValueForRepeatDigital(".concat(e,")")),this._sigNameSendOnTouch||this._sigNameSendOnClick){var t=r.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sigNameSendOnTouch),i=r.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sigNameSendOnClick);i&&t&&i.name===t.name?i.publish(_defineProperty({},r.Ch5SignalBridge.REPEAT_DIGITAL_KEY,e)):(t&&t.name&&t.publish(_defineProperty({},r.Ch5SignalBridge.REPEAT_DIGITAL_KEY,e)),i&&i.name&&i.publish(_defineProperty({},r.Ch5SignalBridge.REPEAT_DIGITAL_KEY,e)))}}},{key:"checkboxDisplay",value:function(){var e=this;this.logger.start("checkboxDisplay");var t=[],i=[],n=this.primaryCssClass+"__checkbox";t=[n,n+"--unchecked",n+"--checked"],!0===this._checkboxShow&&!0===this._selected?i=[n,n+"--checked"]:!1===this._checkboxShow||!0===this._checkboxShow&&(i=[n,n+"--unchecked"]),t.forEach(function(t){""!==(t=t.trim())&&e._elCheckboxIcon.classList.remove(t)}),i.forEach(function(t){""!==(t=t.trim())&&e._elCheckboxIcon.classList.add(t)}),this._elCheckboxIcon.classList.remove("cx-button-checkbox-pos-left"),this._elCheckboxIcon.classList.remove("cx-button-checkbox-pos-right"),!0===this.checkboxShow&&this._elCheckboxIcon.classList.add("cx-button-checkbox-pos-"+this.checkboxPosition);var s=!1;this.hasAttribute("checkboxShow")&&!0===this.toBoolean(this.hasAttribute("checkboxshow")&&"false"!==this.getAttribute("checkboxshow"))&&(s=!0),this.logger.log("hasCheckboxIcon",s),this._elCheckboxIcon.parentNode&&this._elCheckboxIcon.remove(),s?"right"===this.checkboxPosition?this._elCheckboxIcon.parentNode!==this._elButton?this._elButton.appendChild(this._elCheckboxIcon):this._elButton.insertBefore(this._elSpanForLabelIconImg,this._elCheckboxIcon):"left"===this.checkboxPosition&&!0===this._elSpanForLabelIconImg.isConnected&&this._elButton.insertBefore(this._elCheckboxIcon,this._elSpanForLabelIconImg):this._elCheckboxIcon.parentNode&&this._elCheckboxIcon.remove(),this.logger.stop()}},{key:"setButtonDisplay",value:function(){0===this.DEBOUNCE_BUTTON_DISPLAY?this.setButtonDisplayDetails():!0===this.isButtonInitiated?this.setButtonDisplayDetails():this.debounceSetButtonDisplay()}},{key:"encodeInnerHTMLForAttribute",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}},{key:"decodeInnerHTMLForAttribute",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}},{key:"setButtonDisplayDetails",value:function(){var e;this.logger.start("setButtonDisplayDetails"),this.DEBOUNCE_BUTTON_DISPLAY=0;var t={};if(this.receiveStateType&&""!==this.receiveStateType){var n=this._ch5ButtonSignal.getVariable("receiveStateType");!(0,o.default)(n)&&i.TYPES.indexOf(n)>=0?t.type=n:(t.type=i.TYPES[0],this._ch5ButtonSignal.setVariable("receiveStateType",i.TYPES[0]))}this.receiveStateIconClass&&""!==this.receiveStateIconClass&&(t.iconClass=this._ch5ButtonSignal.getVariable("receiveStateIconClass")),this.receiveStateIconUrl&&""!==this.receiveStateIconUrl&&(t.iconUrl=this._ch5ButtonSignal.getVariable("receiveStateIconUrl")),this.receiveStateCustomClass&&""!==this.receiveStateCustomClass&&(t.customClass=this._ch5ButtonSignal.getVariable("receiveStateCustomClass")),this.receiveStateCustomStyle&&""!==this.receiveStateCustomStyle&&(t.customStyle=this._ch5ButtonSignal.getVariable("receiveStateCustomStyle")),!0===this.isLabelSetUsingJavascript?t.labelHtml=this.labelSetByJavascriptValue:this.receiveStateScriptLabelHtml&&""!==this.receiveStateScriptLabelHtml?t.labelHtml=this._ch5ButtonSignal.getVariable("receiveStateScriptLabelHtml"):this.receiveStateLabel&&""!==this.receiveStateLabel&&(t.label=this._ch5ButtonSignal.getVariable("receiveStateLabel"));var s=this.getElementsByTagName("ch5-button-mode");if(s&&s.length>0){var r=s[this.mode];if(r){var a=r.getElementsByTagName("ch5-button-mode-state");if(a&&a.length>0){var l=null;if(l=!0===(null===(e=this._pressable)||void 0===e?void 0:e._pressed)?Array.from(a).find(function(e){return"pressed"===e.getAttribute("state")}):!0===this.selected?Array.from(a).find(function(e){return"selected"===e.getAttribute("state")}):Array.from(a).find(function(e){return"normal"===e.getAttribute("state")})){(0,o.default)(t.type)&&!(0,o.default)(l.getAttribute("type"))&&(t.type=l.getAttribute("type")),(0,o.default)(t.iconUrl)&&!(0,o.default)(l.getAttribute("iconurl"))&&(t.iconUrl=l.getAttribute("iconurl")),(0,o.default)(t.iconClass)&&!(0,o.default)(l.getAttribute("iconclass"))&&(t.iconClass=l.getAttribute("iconclass")),(0,o.default)(t.iconPosition)&&!(0,o.default)(l.getAttribute("iconposition"))&&(t.iconPosition=l.getAttribute("iconposition")),(0,o.default)(t.checkboxPosition)&&!(0,o.default)(l.getAttribute("checkboxposition"))&&(t.checkboxPosition=l.getAttribute("checkboxposition")),(0,o.default)(t.customClass)&&!(0,o.default)(l.getAttribute("customclass"))&&(t.customClass=l.getAttribute("customclass")),(0,o.default)(t.customStyle)&&!(0,o.default)(l.getAttribute("customstyle"))&&(t.customStyle=l.getAttribute("customstyle")),(0,o.default)(t.hAlignLabel)&&!(0,o.default)(l.getAttribute("halignlabel"))&&(t.hAlignLabel=l.getAttribute("halignlabel")),(0,o.default)(t.vAlignLabel)&&!(0,o.default)(l.getAttribute("valignlabel"))&&(t.vAlignLabel=l.getAttribute("valignlabel"));var u=l.getElementsByTagName("ch5-button-label");(0,o.default)(t.labelHtml)&&(0,o.default)(t.label)&&u&&u.length>0&&u[0].children[0]&&(t.labelHtml=u[0].children[0].innerHTML)}}(0,o.default)(t.type)&&!(0,o.default)(r.getAttribute("type"))&&(t.type=r.getAttribute("type")),(0,o.default)(t.iconUrl)&&!(0,o.default)(r.getAttribute("iconurl"))&&(t.iconUrl=r.getAttribute("iconurl")),(0,o.default)(t.iconClass)&&!(0,o.default)(r.getAttribute("iconclass"))&&(t.iconClass=r.getAttribute("iconclass")),(0,o.default)(t.iconPosition)&&!(0,o.default)(r.getAttribute("iconposition"))&&(t.iconPosition=r.getAttribute("iconposition")),(0,o.default)(t.checkboxPosition)&&!(0,o.default)(r.getAttribute("checkboxposition"))&&(t.checkboxPosition=r.getAttribute("checkboxposition")),(0,o.default)(t.customClass)&&!(0,o.default)(r.getAttribute("customclass"))&&(t.customClass=r.getAttribute("customclass")),(0,o.default)(t.customStyle)&&!(0,o.default)(r.getAttribute("customstyle"))&&(t.customStyle=r.getAttribute("customstyle")),(0,o.default)(t.hAlignLabel)&&!(0,o.default)(r.getAttribute("halignlabel"))&&(t.hAlignLabel=r.getAttribute("halignlabel")),(0,o.default)(t.vAlignLabel)&&!(0,o.default)(r.getAttribute("valignlabel"))&&(t.vAlignLabel=r.getAttribute("valignlabel"));var c=r.getElementsByTagName("ch5-button-label");if((0,o.default)(t.labelHtml)&&(0,o.default)(t.label)&&c&&c.length>0){var h=Array.prototype.slice.call(c).filter(function(e){return"ch5-button-mode"===e.parentNode.nodeName.toString().toLowerCase()});h&&h.length>0&&!(0,o.default)(h[0].children[0])&&(t.labelHtml=h[0].children[0].innerHTML)}}}if((0,o.default)(t.type)&&!(0,o.default)(this.getAttribute("type"))&&(t.type=this.getAttribute("type")),(0,o.default)(t.iconUrl)&&this.getAttribute("iconurl")&&""!==this.getAttribute("iconurl")&&(t.iconUrl=this.getAttribute("iconurl")),(0,o.default)(t.iconClass)&&this.getAttribute("iconclass")&&""!==this.getAttribute("iconclass")&&(t.iconClass=this.getAttribute("iconclass")),(0,o.default)(t.iconPosition)&&!(0,o.default)(this.getAttribute("iconposition"))&&(t.iconPosition=this.getAttribute("iconposition")),(0,o.default)(t.checkboxPosition)&&!(0,o.default)(this.getAttribute("checkboxposition"))&&(t.checkboxPosition=this.getAttribute("checkboxposition")),(0,o.default)(t.customClass)&&!(0,o.default)(this.getAttribute("customclass"))&&(t.customClass=this.getAttribute("customclass")),(0,o.default)(t.customStyle)&&!(0,o.default)(this.getAttribute("customstyle"))&&(t.customStyle=this.getAttribute("customstyle")),(0,o.default)(t.hAlignLabel)&&!(0,o.default)(this.getAttribute("halignlabel"))&&(t.hAlignLabel=this.getAttribute("halignlabel")),(0,o.default)(t.vAlignLabel)&&!(0,o.default)(this.getAttribute("valignlabel"))&&(t.vAlignLabel=this.getAttribute("valignlabel")),(0,o.default)(t.labelHtml)&&(0,o.default)(t.label)){var d=this.getElementsByTagName("ch5-button-label");if(d&&d.length>0){var f=Array.prototype.slice.call(d).filter(function(e){return"ch5-button"===e.parentNode.nodeName.toString().toLowerCase()});f&&f.length>0&&!(0,o.default)(f[0].children[0])&&(f&&f.length>0&&f[0].children?t.labelHtml=f[0].children[0].innerHTML:(0,o.default)(this.getAttribute("label"))||(t.label=this.getAttribute("label")))}else(0,o.default)(this.getAttribute("label"))||(t.label=this.getAttribute("label"))}(0,o.default)(t.labelHtml)&&(0,o.default)(t.label)&&(t.labelHtml=""),this.updatePropertiesObject(t),p.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(this,this.getAttribute("contractname")||"",parseInt(this.getAttribute("booleanjoinoffset")||"0",10)||0,parseInt(this.getAttribute("numericJoinOffset")||"0",10)||0,parseInt(this.getAttribute("stringJoinOffset")||"0",10)||0),this.logger.stop()}},{key:"updatePropertiesObject",value:function(e){this.logger.start("updatePropertiesObject");var t={updateCssClasses:!1,updateIconDisplay:!1,updateInternalHtml:!1,checkboxDisplay:!1,updateForChangeInCustomCssClass:!1,updateForChangeInStyleCss:!1};(0,o.default)(e.type)?e.type=i.TYPES[0]:-1===i.TYPES.indexOf(e.type)&&(e.type=i.TYPES[0]),this._type=e.type,this.previousExtendedProperties.type!==this.type&&(t.updateCssClasses=!0),this._previousIconUrl=this._iconUrl,this._previousIconClass=this._iconClass,(0,o.default)(e.iconUrl)&&(e.iconUrl=""),this._iconUrl=e.iconUrl,(0,o.default)(e.iconClass)&&(e.iconClass=""),this._iconClass=e.iconClass,this.previousExtendedProperties.iconUrl!==this.iconUrl?(t.updateIconDisplay=!0,t.updateInternalHtml=!0):this.previousExtendedProperties.iconClass!==this.iconClass&&(t.updateIconDisplay=!0,t.updateInternalHtml=!0),(0,o.default)(e.iconPosition)&&(e.iconPosition=i.ICON_POSITIONS[0]),this._iconPosition=e.iconPosition,this.previousExtendedProperties.iconPosition!==this.iconPosition&&(t.updateCssClasses=!0,t.updateInternalHtml=!0),(0,o.default)(e.checkboxPosition)&&(e.checkboxPosition=i.CHECKBOX_POSITIONS[0]),this._checkboxPosition=e.checkboxPosition,this.previousExtendedProperties.checkboxPosition!==this.checkboxPosition&&(t.checkboxDisplay=!0),(0,o.default)(e.customClass)&&(e.customClass=""),this._customClass=e.customClass,this.previousExtendedProperties.customClass!==this.customClass&&(t.updateForChangeInCustomCssClass=!0),(0,o.default)(e.customStyle)&&(e.customStyle=""),this._customStyle=e.customStyle,this.previousExtendedProperties.customStyle!==this.customStyle&&(t.updateForChangeInStyleCss=!0),(0,o.default)(e.hAlignLabel)?e.hAlignLabel=i.HORIZONTAL_LABEL_ALIGNMENTS[0]:-1===i.HORIZONTAL_LABEL_ALIGNMENTS.indexOf(e.hAlignLabel)&&(e.hAlignLabel=i.HORIZONTAL_LABEL_ALIGNMENTS[0]),this._hAlignLabel=e.hAlignLabel,this.previousExtendedProperties.hAlignLabel!==this.hAlignLabel&&(t.updateCssClasses=!0),(0,o.default)(e.vAlignLabel)?e.vAlignLabel=i.VERTICAL_LABEL_ALIGNMENTS[0]:-1===i.VERTICAL_LABEL_ALIGNMENTS.indexOf(e.vAlignLabel)&&(e.vAlignLabel=i.VERTICAL_LABEL_ALIGNMENTS[0]),this._vAlignLabel=e.vAlignLabel,this.previousExtendedProperties.vAlignLabel!==this.vAlignLabel&&(t.updateCssClasses=!0),(0,o.default)(e.labelHtml)?(0,o.default)(e.label)||(this._label=e.label,e.labelHtml=e.label,this._elSpanForLabelOnly.textContent=this._label):(this._label=e.labelHtml,e.label=e.labelHtml,this._elSpanForLabelOnly.innerHTML=this._label),this.previousExtendedProperties.labelHtml!==this.label&&this.previousExtendedProperties.label!==this.label&&(t.updateInternalHtml=!0),!0===t.updateCssClasses&&this.updateCssClasses(),!0===t.updateIconDisplay&&this.updateIconDisplay(),!0===t.updateForChangeInCustomCssClass&&this.updateForChangeInCustomCssClass(),!0===t.updateForChangeInStyleCss&&this.updateForChangeInStyleCss(),!0===t.checkboxDisplay&&this.checkboxDisplay(),!0===t.updateInternalHtml&&this.updateInternalHtml(),this.previousExtendedProperties=e,this.logger.stop()}},{key:"receiveSignalAsString",value:function(e,t,i){this.logger.log("set "+t+'("'+i+'")');var n=t.toLowerCase();e.hasAttribute(n)&&e.getAttribute(n)===i||e.setAttribute(n,i);var s=e._ch5ButtonSignal.setSignal(t,i);(0,o.default)(s)||(e._ch5ButtonSignal.getSignal(t).signalState=s.subscribe(function(i){e._ch5ButtonSignal.getSignal(t).currentValue=i,e._ch5ButtonSignal.setVariable(t,i),e.setButtonDisplay()}))}},{key:"updateInternalHtml",value:function(){var e=this;if(this.logger.start("updateInternalHtml()"),void 0!==this._elButton.insertBefore&&void 0!==this._elIcon.classList){i.ICON_POSITIONS.forEach(function(t,i){e.iconPosition===t?(e._elContainer.classList.add("".concat(e.cssClassPrefix,"--iconposition-").concat(t)),e._elIcon.classList.add("cx-button-icon-pos-".concat(t))):(e._elContainer.classList.remove("".concat(e.cssClassPrefix,"--iconposition-").concat(t)),e._elIcon.classList.remove("cx-button-icon-pos-".concat(t)))});var t=!1,n=!1,s=!1,r=!1;if((!(0,o.default)(this.iconClass)&&""!==this.iconClass||this.receiveStateIconClass&&""!==this.receiveStateIconClass)&&(t=!0),(!(0,o.default)(this.iconUrl)&&""!==this.iconUrl||this.receiveStateIconUrl&&""!==this.receiveStateIconUrl)&&(s=!0),(!(0,o.default)(this.label)&&""!==this.label||this.receiveStateLabel&&""!==this.receiveStateLabel||this.receiveStateScriptLabelHtml&&""!==this.receiveStateScriptLabelHtml)&&(n=!0),this.hasAttribute("aria-label")&&""!==this.getAttribute("aria-label")&&(r=!0),this.logger.log("hasIcon",t),this.logger.log("hasLabel",n),this.logger.log("hasImage",s),this.logger.log("hasAriaLabel",r),!n&&r&&s){var a=this.getAttribute("aria-label");a&&this._elIcon.setAttribute("alt",a)}s?(this._elIcon.style.backgroundImage="url(".concat(this.iconUrl,")"),this._elIcon.classList.remove(this.primaryCssClass+"--icon"),this._elIcon.classList.remove(this.primaryCssClass+"--img"),this._elIcon.classList.add(this.primaryCssClass+"--img")):t&&(this._elIcon.classList.remove(this.primaryCssClass+"--icon"),this._elIcon.classList.remove(this.primaryCssClass+"--img"),this._elIcon.classList.add(this.primaryCssClass+"--icon")),this._elButton.appendChild(this._elSpanForLabelIconImg),this._elSpanForLabelIconImg.appendChild(this._elSpanForLabelOnly),n&&(t||s)?(this.logger.log("Has Label and Icon"),!1===this._elSpanForLabelOnly.isConnected?this._elSpanForLabelIconImg.appendChild(this._elSpanForLabelOnly):this._elIcon.parentNode!==this._elSpanForLabelOnly&&this._elSpanForLabelIconImg.appendChild(this._elSpanForLabelOnly),["last","bottom"].indexOf(this.iconPosition)>=0?this._elIcon.parentNode!==this._elButton?this._elSpanForLabelIconImg.appendChild(this._elIcon):this._elSpanForLabelIconImg.insertBefore(this._elSpanForLabelOnly,this._elIcon):["first","top"].indexOf(this.iconPosition)>=0&&(this.logger.log("insert icon before label"),!0===this._elSpanForLabelOnly.isConnected&&this._elSpanForLabelIconImg.insertBefore(this._elIcon,this._elSpanForLabelOnly))):!n||t||s?n||!t&&!s?(this.logger.log("No Label and No Icon"),this._elIcon.parentNode&&this._elIcon.remove(),this._elSpanForLabelOnly.parentNode&&this._elSpanForLabelOnly.remove()):(this.logger.log("Has Icon Only"),this._elSpanForLabelIconImg.appendChild(this._elIcon),this._elSpanForLabelOnly.parentNode&&this._elSpanForLabelOnly.remove()):(this.logger.log("Has Label Only"),this._elIcon.parentNode&&this._elIcon.remove()),"vertical"===this.orientation&&"circle"!==this.shape&&this.createIosEllipsis()}this.checkboxDisplay(),this.logger.stop()}},{key:"updateCssClasses",value:function(){var e=this;this.logger.start("updateCssClasses()"),_get(_getPrototypeOf(i.prototype),"updateCssClasses",this).call(this);var t=new Set;t.add(this.primaryCssClass),t.add(this.primaryCssClass+"--"+this.shape),!0===this.isButtonInitiated&&t.add(this.primaryCssClass+"--"+this.type),t.add(this.primaryCssClass+"--size-"+this.size),f.default.isNil(this.stretch)||t.add(this.primaryCssClass+"--stretch-"+this.stretch),t.add(this.primaryCssClass+"--"+this.orientation);var n=this.getTargetElementForCssClassesAndStyle();if(void 0!==n.classList){this._listOfAllPossibleComponentCssClasses.forEach(function(e){t.has(e)?n.classList.add(e):n.classList.remove(e)});var s=this.primaryCssClass+this.selectedCssClassPostfix;this._selected?n.classList.add(s):n.classList.remove(s)}if(!f.default.isNil(this.stretch)&&"circle"===this.shape&&this.parentElement){var r=this.parentElement,a=r.offsetHeight,o=r.offsetWidth,l=o<=a?o:a;0!==l&&(this.style.height=l+"px",this.style.width=l+"px")}else this.style.removeProperty("height"),this.style.removeProperty("width");var u=new Set;u.add(this.primaryCssClass+"--horizontal-"+this.hAlignLabel),u.add(this.primaryCssClass+"--vertical-"+this.vAlignLabel),this._listOfAllPossibleComponentCssClasses.forEach(function(t){u.has(t)?e._elSpanForLabelIconImg.classList.add(t):e._elSpanForLabelIconImg.classList.remove(t)}),this.logger.stop()}},{key:"updateCssClassesForCustomState",value:function(){var e=this.getTargetElementForCssClassesAndStyle();if(void 0!==e.classList){var t=this.customClassState;this._customClassState&&e.classList.add(t)}}},{key:"setSelectionMethods",value:function(){this.setButtonDisplay(),this.checkboxDisplay(),this.updateCssClasses()}}],[{key:"observedAttributes",get:function(){return s.Ch5Common.observedAttributes.concat(["label","labelinnerhtml","iconclass","iconposition","orientation","iconurl","checkboxshow","checkboxposition","halignlabel","valignlabel","pressdelaytime","pressdelaydistance","shape","size","stretch","type","formtype","mode","pressed","selected","customclassselected","customclasspressed","customclassdisabled","receivestatemode","receivestateselected","receivestatelabel","receivestatescriptlabelhtml","receivestateiconclass","receivestateiconurl","receivestatetype","sendeventonclick","sendeventontouch"])}}]),i}();t.Ch5ButtonBase=v,v.TYPES=["default","primary","info","text","danger","warning","success","secondary"],v.SHAPES=["rounded-rectangle","rectangle","tab","circle","oval"],v.SIZES=["regular","x-small","small","large","x-large"],v.STRETCHES=["both","width","height"],v.ICON_POSITIONS=["first","last","top","bottom"],v.CHECKBOX_POSITIONS=["left","right"],v.HORIZONTAL_LABEL_ALIGNMENTS=["center","left","right"],v.VERTICAL_LABEL_ALIGNMENTS=["middle","top","bottom"],v.ORIENTATIONS=["horizontal","vertical"],v.COMPONENT_DATA={TYPES:{default:v.TYPES[0],values:v.TYPES,key:"type",attribute:"type",classListPrefix:"ch5-button--"},SHAPES:{default:v.SHAPES[0],values:v.SHAPES,key:"shape",attribute:"shape",classListPrefix:"ch5-button--"},SIZES:{default:v.SIZES[0],values:v.SIZES,key:"size",attribute:"size",classListPrefix:"ch5-button--size-"},STRETCH:{default:null,values:v.STRETCHES,key:"stretch",attribute:"stretch",classListPrefix:"ch5-button--stretch-"},ICON_POSITIONS:{default:v.ICON_POSITIONS[0],values:v.ICON_POSITIONS,key:"iconposition",attribute:"iconPosition",classListPrefix:"ch5-button--iconposition-"},CHECKBOX_POSITIONS:{default:v.CHECKBOX_POSITIONS[0],values:v.CHECKBOX_POSITIONS,key:"checkboxposition",attribute:"checkboxPosition",classListPrefix:"cx-button-checkbox-pos-"},HORIZONTAL_LABEL_ALIGNMENTS:{default:v.HORIZONTAL_LABEL_ALIGNMENTS[0],values:v.HORIZONTAL_LABEL_ALIGNMENTS,key:"halignlabel",attribute:"hAlignLabel",classListPrefix:"ch5-button--horizontal-"},VERTICAL_LABEL_ALIGNMENTS:{default:v.VERTICAL_LABEL_ALIGNMENTS[0],values:v.VERTICAL_LABEL_ALIGNMENTS,key:"valignlabel",attribute:"vAlignLabel",classListPrefix:"ch5-button--vertical-"},ORIENTATIONS:{default:v.ORIENTATIONS[0],values:v.ORIENTATIONS,key:"orientation",classListPrefix:"ch5-button--"}},v.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatemode:{direction:"state",numericJoin:1,contractName:!0},receivestateselected:{direction:"state",booleanJoin:1,contractName:!0},receivestatelabel:{direction:"state",stringJoin:1,contractName:!0},receivestatescriptlabelhtml:{direction:"state",stringJoin:1,contractName:!0},receivestateiconclass:{direction:"state",stringJoin:1,contractName:!0},receivestateiconurl:{direction:"state",stringJoin:1,contractName:!0},receivestatetype:{direction:"state",stringJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventontouch:{direction:"event",booleanJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}})},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Date.now();e.start||(e.start=n);var s=n-e.start>i;e.timeoutIdentifier&&!s||(clearTimeout(e.timeoutIdentifier),e.timeoutIdentifier=setTimeout(function(){return t()},i),e.start=s?n:e.start)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsubscribeState=void 0;var n=i(8),s=i(12);t.unsubscribeState=function(e,t,i){var r=n.Ch5SignalFactory.getInstance();switch(t=s.Ch5Signal.getSubscriptionSignalName(t),e.toLowerCase()){case"b":case"boolean":var a=r.getBooleanSignal(t);null!==a&&a.unsubscribe(i);break;case"n":case"number":case"numeric":var o=r.getNumberSignal(t);null!==o&&o.unsubscribe(i);break;case"s":case"string":var l=r.getStringSignal(t);null!==l&&l.unsubscribe(i);break;case"o":case"object":var u=r.getObjectSignal(t);null!==u&&u.unsubscribe(i)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectSignalValue=t.getStringSignalValue=t.getNumericSignalValue=t.getBooleanSignalValue=t.getState=void 0;var n=i(8),s=i(12);function r(e,t){var i=n.Ch5SignalFactory.getInstance(),r=null;null!=t&&(r=t),e=s.Ch5Signal.getSubscriptionSignalName(e);var a=i.getBooleanSignal(e,!1);return null!==a&&a.hasChangedSinceInit()&&(r=a.value),r}function a(e,t){var i=n.Ch5SignalFactory.getInstance(),r=null;null!=t&&(r=t),e=s.Ch5Signal.getSubscriptionSignalName(e);var a=i.getNumberSignal(e,!1);return null!==a&&a.hasChangedSinceInit()&&(r=a.value),r}function o(e,t){var i=n.Ch5SignalFactory.getInstance(),r=null;null!=t&&(r=t),e=s.Ch5Signal.getSubscriptionSignalName(e);var a=i.getStringSignal(e,!1);return null!==a&&a.hasChangedSinceInit()&&(r=a.value),r}function l(e,t){var i=n.Ch5SignalFactory.getInstance(),r=null;null!=t&&(r=t),e=s.Ch5Signal.getSubscriptionSignalName(e);var a=i.getObjectSignal(e,!1);return null!==a&&a.hasChangedSinceInit()&&(r=a.value),r}t.getState=function(e,t,i){var n=null;switch(e.toLowerCase()){case"b":case"boolean":n=void 0!==i?r(t,i):r(t);break;case"n":case"number":case"numeric":n=void 0!==i?a(t,i):a(t);break;case"s":case"string":n=void 0!==i?o(t,i):o(t);break;case"o":case"object":n=void 0!==i?l(t,i):l(t)}return n},t.getBooleanSignalValue=r,t.getNumericSignalValue=a,t.getStringSignalValue=o,t.getObjectSignalValue=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResetEventNames=void 0,function(e){e.startOfUpdateRange="StartOfUpdateRange",e.startOfUpdateRangeSO="StartOfUpdateRangeSO",e.clearAll="ClearAll",e.clearRange="ClearRange",e.endOfUpdate="EndOfUpdate",e.startOfUpdate="StartOfUpdate"}(t.ResetEventNames||(t.ResetEventNames={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ResyncConstants=void 0;var n=_createClass(function e(){_classCallCheck(this,e)});t.Ch5ResyncConstants=n,n.JOIN_NUMBER_SIGNAL_NAME_PREFIX="fb"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Resync=void 0;var n=i(0),s=i(90),r=i(0),a=i(89),o=function(){function e(){_classCallCheck(this,e),this.ch5SignalFactory=n.Ch5SignalFactory.getInstance(),this.LOG_KEY="Ch5Resync",this.startOfUpdateCounter=0,this.statesRef=this.ch5SignalFactory.getStates(),this._statesAtDefaultValue={}}return _createClass(e,[{key:"onReceiveStartOfUpdate",value:function(e){r.Ch5Debug.info(this.LOG_KEY,"Start of Update called with ".concat(JSON.stringify(e))),this.initializeStartOfUpdateTimer(),this.startOfUpdateCounter+=1,this.setDefaultStatesOnStartOfUpdate(e)}},{key:"onReceiveStartOfUpdateRange",value:function(e,t,i){r.Ch5Debug.shouldDisplay(this.LOG_KEY)&&r.Ch5Debug.info(this.LOG_KEY,"Start of Update Range called with ".concat(JSON.stringify(t))),a.ResetEventNames.startOfUpdateRange===e&&(this.initializeStartOfUpdateTimer(),this.startOfUpdateCounter+=1),this.addDefaultJoinsOnClearRange(t.boolean.joinLow,t.boolean.joinHigh,"boolean"),this.addDefaultJoinsOnClearRange(t.numeric.joinLow,t.numeric.joinHigh,"number"),this.addDefaultJoinsOnClearRange(t.string.joinLow,t.string.joinHigh,"string"),this.addDefaultStatesOnClearRange(t.boolean.stateNames,"boolean",i),this.addDefaultStatesOnClearRange(t.numeric.stateNames,"number",i),this.addDefaultStatesOnClearRange(t.string.stateNames,"string",i),r.Ch5Debug.shouldDisplay(this.LOG_KEY)&&r.Ch5Debug.info(this.LOG_KEY,"Start Of Update Range:".concat(JSON.stringify(this._statesAtDefaultValue)))}},{key:"onReceiveUpdatedState",value:function(e,t,i){this.InUpdateState&&(r.Ch5Debug.info(this.LOG_KEY,"Updated ".concat(i,":").concat(e)),void 0!==this._statesAtDefaultValue[i]&&void 0!==this._statesAtDefaultValue[i][e]&&delete this._statesAtDefaultValue[i][e])}},{key:"onReceiveEndOfUpdate",value:function(){r.Ch5Debug.info(this.LOG_KEY,"End of Update called with counter ".concat(this.startOfUpdateCounter)),this.startOfUpdateCounter>0&&(this.startOfUpdateCounter-=1,0===this.startOfUpdateCounter&&this.resetRemainingStates())}},{key:"resetRemainingStates",value:function(){this.startOfUpdateCounter=0,void 0!==this.startOfUpdateCounter&&(window.clearTimeout(this.startOfUpdateTimer),this.startOfUpdateTimer=void 0),this.setRemainingStatesToDefaultValue(),this._statesAtDefaultValue={}}},{key:"addDefaultJoinsOnClearRange",value:function(e,t,i){if(0!==e||0!==t){void 0===this._statesAtDefaultValue[i]&&(this._statesAtDefaultValue[i]={});for(var n=e;n<=t;n++)this._statesAtDefaultValue[i][s.Ch5ResyncConstants.JOIN_NUMBER_SIGNAL_NAME_PREFIX+n.toString()]=!0}}},{key:"addDefaultStatesOnClearRange",value:function(e,t,i){if(void 0!==e&&0!==e.length){void 0===this._statesAtDefaultValue[t]&&(this._statesAtDefaultValue[t]={});var n,s=_createForOfIteratorHelper(e);try{for(s.s();!(n=s.n()).done;){var r=n.value;this._statesAtDefaultValue[t][r]=!0}}catch(a){s.e(a)}finally{s.f()}}}},{key:"setDefaultStatesOnStartOfUpdate",value:function(t){for(var i in this._statesAtDefaultValue={},this.statesRef)if(this.statesRef.hasOwnProperty(i))for(var n in void 0===this._statesAtDefaultValue[i]&&(this._statesAtDefaultValue[i]={}),this.statesRef[i])if(this.statesRef[i].hasOwnProperty(n)){var s=this.statesRef[i];e.checkIfStateShouldBeIncluded(t,s[n]._name)&&s[n].receivedFromSignalBridge&&(this._statesAtDefaultValue[i][s[n]._name]=!0)}r.Ch5Debug.shouldDisplay(this.LOG_KEY)&&r.Ch5Debug.info(this.LOG_KEY,"Start of Update:".concat(JSON.stringify(this._statesAtDefaultValue)))}},{key:"setRemainingStatesToDefaultValue",value:function(){for(var e in r.Ch5Debug.shouldDisplay(this.LOG_KEY)&&r.Ch5Debug.info(this.LOG_KEY,"End Of Update:".concat(JSON.stringify(this._statesAtDefaultValue))),this._statesAtDefaultValue)if(Object.prototype.hasOwnProperty.call(this._statesAtDefaultValue,e)){var i=this._statesAtDefaultValue[e];for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(!this.statesRef[e][n])continue;try{switch(e){case"boolean":this.statesRef[e][n].fromSignalBridge(!1);break;case"number":this.statesRef[e][n].fromSignalBridge(0),this.statesRef.object[n]&&this.statesRef.object[n].fromSignalBridge({rcb:{value:0,time:0}});break;case"string":this.statesRef[e][n].fromSignalBridge("")}}catch(t){console.log("[INFO] Failed to publish signal: "+n+" of type: "+e)}}}}},{key:"initializeStartOfUpdateTimer",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.START_OF_UPDATE_TIME_LIMIT;window.clearTimeout(this.startOfUpdateTimer),this.startOfUpdateTimer=window.setTimeout(function(){r.Ch5Debug.info(t.LOG_KEY,"Timeout waiting for EndOfUpdate remainingEOUs:".concat(t.startOfUpdateCounter)),t.resetRemainingStates()},i)}},{key:"InUpdateState",get:function(){return void 0!==this.startOfUpdateTimer}}],[{key:"checkIfStateShouldBeIncluded",value:function(e,t){if("Csig.State_Synchronization"===t)return!1;var i,n=_createForOfIteratorHelper(e.excludePrefixes);try{for(n.s();!(i=n.n()).done;){var s=i.value;if(t&&t.startsWith(s))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}},{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();t.Ch5Resync=o,o.START_OF_UPDATE_TIME_LIMIT=6e4},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerTranslation=void 0;var n=i(29),s=i(8);t.triggerTranslation=function(e){var t=s.Ch5SignalFactory.getInstance().getStringSignal(n.languageChangedSignalName),i=n.translationFactory.translator.language;null!=i||""===e||(i=e),null!==t&&t.publish(i)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5TranslationListeners=void 0;var n=i(92);t.Ch5TranslationListeners=function(){function e(t){_classCallCheck(this,e),this.translator={},this.translator=t,this.init()}return _createClass(e,[{key:"init",value:function(){this.translator.on("initialized",this.onInitialized.bind(this)),this.translator.on("loaded",this.onLoaded.bind(this)),this.translator.on("added",this.onAdded.bind(this)),this.translator.on("languageChanged",this.onLanguageChanged.bind(this))}},{key:"onInitialized",value:function(e){this.translate(e.language)}},{key:"onLanguageChanged",value:function(e){this.translate(e)}},{key:"onLoaded",value:function(e){this.translate()}},{key:"onAdded",value:function(e,t){this.translate()}},{key:"translate",value:function(e){(0,n.triggerTranslation)(e)}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5TranslationConfiguration=void 0;var n=_createClass(function e(){_classCallCheck(this,e)});t.Ch5TranslationConfiguration=n,n.translationTokenStartDelimiter="-+",n.translationTokenEndDelimiter="+-"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5SignalBehaviorSubject=void 0;var n=i(15),s=i(23);t.Ch5SignalBehaviorSubject=function(e){_inherits(i,n.BehaviorSubject);var t=_createSuper(i);function i(e,n){var s;return _classCallCheck(this,i),(s=t.call(this,e))._prevValue=n,s}return _createClass(i,[{key:"prevValue",get:function(){return this.getPrevValue()}},{key:"getPrevValue",value:function(){return this._prevValue}},{key:"next",value:function(e){if(this._prevValue=this.value,"string"==typeof e){var t=e;s.Ch5TranslationUtility.getInstance().isTranslationIdentifier(e)&&(t=s.Ch5TranslationUtility.getInstance().translatedValue(e)),_get(_getPrototypeOf(i.prototype),"next",this).call(this,t)}else _get(_getPrototypeOf(i.prototype),"next",this).call(this,e)}}]),i}()},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(i=window)}e.exports=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5SignalBridge=void 0;var n=i(1),s=i(30),r=function(){function e(){_classCallCheck(this,e),this._isWebView=!1,this._isWebKit=!1,s.Ch5Debug.info("Ch5SignalBridge.constructor"," start "),this._subscriptions={boolean:new Set,number:new Set,object:new Set,string:new Set},this._localPublishers={boolean:new Set,number:new Set,object:new Set,string:new Set},this._isWebView="undefined"!=typeof JSInterface&&"function"==typeof JSInterface.bridgeSendBooleanToNative&&"function"==typeof JSInterface.bridgeSendIntegerToNative&&"function"==typeof JSInterface.bridgeSendStringToNative,this._isWebKit="undefined"!=typeof webkit&&void 0!==webkit.messageHandlers&&void 0!==webkit.messageHandlers.bridgeSendBooleanToNative&&void 0!==webkit.messageHandlers.bridgeSendIntegerToNative&&void 0!==webkit.messageHandlers.bridgeSendStringToNative&&void 0!==webkit.messageHandlers.bridgeSendObjectToNative}return _createClass(e,[{key:"subscribe",value:function(e,t){if(s.Ch5Debug.info("Ch5SignalBridge.subscribe",'"'+e+'":"'+t+'"'),!this._subscriptions[t].has(e)&&!this._localPublishers[t].has(e))if(this._subscriptions[t].add(e),this._isWebView&&"function"==typeof JSInterface.bridgeSubscribeBooleanSignalFromNative&&"function"==typeof JSInterface.bridgeSubscribeIntegerSignalFromNative&&"function"==typeof JSInterface.bridgeSubscribeStringSignalFromNative&&"function"==typeof JSInterface.bridgeSubscribeObjectSignalFromNative)switch(t){case"boolean":JSInterface.bridgeSubscribeBooleanSignalFromNative(e);break;case"number":JSInterface.bridgeSubscribeIntegerSignalFromNative(e);break;case"string":JSInterface.bridgeSubscribeStringSignalFromNative(e);break;case"object":default:JSInterface.bridgeSubscribeObjectSignalFromNative(e)}else if(this._isWebKit&&void 0!==webkit.messageHandlers.bridgeSubscribeBooleanSignalFromNative&&void 0!==webkit.messageHandlers.bridgeSubscribeIntegerSignalFromNative&&void 0!==webkit.messageHandlers.bridgeSubscribeStringSignalFromNative&&void 0!==webkit.messageHandlers.bridgeSubscribeObjectSignalFromNative)switch(t){case"boolean":webkit.messageHandlers.bridgeSubscribeBooleanSignalFromNative.postMessage(this.createPMParam(e));break;case"number":webkit.messageHandlers.bridgeSubscribeIntegerSignalFromNative.postMessage(this.createPMParam(e));break;case"string":webkit.messageHandlers.bridgeSubscribeStringSignalFromNative.postMessage(this.createPMParam(e));break;case"object":default:webkit.messageHandlers.bridgeSubscribeObjectSignalFromNative.postMessage(this.createPMParam(e))}}},{key:"unsubscribe",value:function(e,t){if(s.Ch5Debug.info("Ch5SignalBridge.unsubscribe",'"'+e+'":"'+t+'"'),this._subscriptions[t].has(e))if(this._subscriptions[t].delete(e),this._isWebView&&"function"==typeof JSInterface.bridgeUnsubscribeBooleanSignalFromNative&&"function"==typeof JSInterface.bridgeUnsubscribeIntegerSignalFromNative&&"function"==typeof JSInterface.bridgeUnsubscribeStringSignalFromNative&&"function"==typeof JSInterface.bridgeUnsubscribeObjectSignalFromNative)switch(t){case"boolean":JSInterface.bridgeUnsubscribeBooleanSignalFromNative(e);break;case"number":JSInterface.bridgeUnsubscribeIntegerSignalFromNative(e);break;case"string":JSInterface.bridgeUnsubscribeStringSignalFromNative(e);break;case"object":default:JSInterface.bridgeUnsubscribeObjectSignalFromNative(e)}else if(this._isWebKit&&void 0!==webkit.messageHandlers.bridgeUnsubscribeBooleanSignalFromNative&&void 0!==webkit.messageHandlers.bridgeUnsubscribeIntegerSignalFromNative&&void 0!==webkit.messageHandlers.bridgeUnsubscribeStringSignalFromNative)switch(t){case"boolean":webkit.messageHandlers.bridgeUnsubscribeBooleanSignalFromNative.postMessage(this.createPMParam(e));break;case"number":webkit.messageHandlers.bridgeUnsubscribeIntegerSignalFromNative.postMessage(this.createPMParam(e));break;case"string":webkit.messageHandlers.bridgeUnsubscribeStringSignalFromNative.postMessage(this.createPMParam(e));break;case"object":default:webkit.messageHandlers.bridgeUnsubscribeStringSignalFromNative.postMessage(this.createPMParam(e))}}},{key:"publish",value:function(e,t){s.Ch5Debug.info("Ch5SignalBridge.publish",'"'+e+'":'+t);var i=_typeof(t);switch(this.unsubscribe(e,i),this._localPublishers[i].add(e),i){case"boolean":this.sendBooleanToNative(e,t);break;case"number":this.sendIntegerToNative(e,t);break;case"string":this.sendStringToNative(e,t);break;default:this.sendObjectToNative(e,t)}}},{key:"sendBooleanToNative",value:function(e,t){s.Ch5Debug.info("Ch5SignalBridge.sendBooleanToNative",'"'+e+'":'+t),this._isWebView?JSInterface.bridgeSendBooleanToNative(e,t):this._isWebKit?webkit.messageHandlers.bridgeSendBooleanToNative.postMessage(this.createPMParam(e,t)):this._isWebXPanel()&&CommunicationInterface.bridgeSendBooleanToNative(e,t)}},{key:"sendIntegerToNative",value:function(e,t){s.Ch5Debug.info("Ch5SignalBridge.sendIntegerToNative",'"'+e+'":'+t),this._isWebView?JSInterface.bridgeSendIntegerToNative(e,t):this._isWebKit?webkit.messageHandlers.bridgeSendIntegerToNative.postMessage(this.createPMParam(e,t)):this._isWebXPanel()&&CommunicationInterface.bridgeSendIntegerToNative(e,t)}},{key:"sendStringToNative",value:function(e,t){s.Ch5Debug.info("Ch5SignalBridge.sendStringToNative",'"'+e+'":"'+t+'"'),this._isWebView?JSInterface.bridgeSendStringToNative(e,t):this._isWebKit?webkit.messageHandlers.bridgeSendStringToNative.postMessage(this.createPMParam(e,t)):this._isWebXPanel()&&CommunicationInterface.bridgeSendStringToNative(e,t)}},{key:"sendObjectToNative",value:function(e,t){var i="Ch5SignalBridge.sendObjectToNative";s.Ch5Debug.shouldDisplay(i)&&s.Ch5Debug.info(i,'"'.concat(e,'": ').concat(JSON.stringify(t))),this._isWebView?JSInterface.bridgeSendObjectToNative(e,JSON.stringify(t)):this._isWebKit?webkit.messageHandlers.bridgeSendObjectToNative.postMessage(this.createPMParam(e,t)):this._isWebXPanel()&&CommunicationInterface.bridgeSendObjectToNative(e,JSON.stringify(t))}},{key:"sendArrayToNative",value:function(e){}},{key:"_isWebXPanel",value:function(){var e="undefined"!=typeof CommunicationInterface&&(0,n.isFunction)(CommunicationInterface.bridgeSendBooleanToNative)&&(0,n.isFunction)(CommunicationInterface.bridgeSendIntegerToNative)&&(0,n.isFunction)(CommunicationInterface.bridgeSendStringToNative)&&(0,n.isFunction)(CommunicationInterface.bridgeSendObjectToNative);return e&&(this._isWebView=!1),e}},{key:"createPMParam",value:function(e,t){var i;return i=void 0!==t?{signal:e,value:t}:{signal:e},JSON.stringify(i)}}]),e}();t.Ch5SignalBridge=r,r.REPEAT_DIGITAL_KEY="repeatdigital"},function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach(function(t){d(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}i.r(t),i.d(t,"changeLanguage",function(){return he}),i.d(t,"createInstance",function(){return ae}),i.d(t,"exists",function(){return pe}),i.d(t,"getFixedT",function(){return de}),i.d(t,"hasLoadedNamespace",function(){return ge}),i.d(t,"init",function(){return oe}),i.d(t,"loadLanguages",function(){return me}),i.d(t,"loadNamespaces",function(){return be}),i.d(t,"loadResources",function(){return le}),i.d(t,"reloadResources",function(){return ue}),i.d(t,"setDefaultNamespace",function(){return ve}),i.d(t,"t",function(){return fe}),i.d(t,"use",function(){return ce});var g={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},b=new(function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.init(t,i)}return a(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||g,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,i,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(i).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,v(v({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}()),m=function(){function e(){s(this,e),this.observers={}}return a(e,[{key:"on",value:function(e,t){var i=this;return e.split(" ").forEach(function(e){i.observers[e]=i.observers[e]||[],i.observers[e].push(t)}),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(function(e){return e!==t}):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.observers[e]&&[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,i)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,[e].concat(i))})}}]),e}();function _(){var e,t,i=new Promise(function(i,n){e=i,t=n});return i.resolve=e,i.reject=t,i}function S(e){return null==e?"":""+e}function y(e,t,i){function n(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function s(){return!e||"string"==typeof e}for(var r="string"!=typeof t?[].concat(t):t.split(".");r.length>1;){if(s())return{};var a=n(r.shift());!e[a]&&i&&(e[a]=new i),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return s()?{}:{obj:e,k:n(r.shift())}}function C(e,t,i){var n=y(e,t,Object);n.obj[n.k]=i}function E(e,t){var i=y(e,t),n=i.obj,s=i.k;if(n)return n[s]}function A(e,t,i){var n=E(e,i);return void 0!==n?n:E(t,i)}function T(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function k(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return w[e]}):e}var I="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,O=[" ",",","?","!",";"];function P(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function L(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?P(Object(i),!0).forEach(function(t){d(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var N=function(e){u(i,m);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=h(e);if(t){var s=h(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return c(this,i)}}(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return s(this,i),n=t.call(this),I&&m.call(o(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return a(i,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,r=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];i&&"string"!=typeof i&&(a=a.concat(i)),i&&"string"==typeof i&&(a=a.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(a=e.split("."));var o=E(this.data,a);return o||!r||"string"!=typeof i?o:function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[i])return t[i];for(var s=i.split(n),r=t,a=0;a<s.length;++a){if(!r)return;if("string"==typeof r[s[a]]&&a+1<s.length)return;if(void 0===r[s[a]]){for(var o=2,l=s.slice(a,a+o).join(n),u=r[l];void 0===u&&s.length>a+o;)o++,u=r[l=s.slice(a,a+o).join(n)];if(void 0===u)return;if(i.endsWith(l)){if("string"==typeof u)return u;if(l&&"string"==typeof u[l])return u[l]}var c=s.slice(a+o).join(n);return c?e(u,c,n):void 0}r=r[s[a]]}return r}}(this.data&&this.data[e]&&this.data[e][t],i,s)}},{key:"addResource",value:function(e,t,i,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r=".");var a=[e,t];i&&(a=a.concat(r?i.split(r):i)),e.indexOf(".")>-1&&(n=t,t=(a=e.split("."))[1]),this.addNamespaces(t),C(this.data,a,n),s.silent||this.emit("added",e,t,i,n)}},{key:"addResources",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var s in i)"string"!=typeof i[s]&&"[object Array]"!==Object.prototype.toString.apply(i[s])||this.addResource(e,t,s,i[s],{silent:!0});n.silent||this.emit("added",e,t,i)}},{key:"addResourceBundle",value:function(e,t,i,n,s){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(n=i,i=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var o=E(this.data,a)||{};n?function e(t,i,n){for(var s in i)"__proto__"!==s&&"constructor"!==s&&(s in t?"string"==typeof t[s]||t[s]instanceof String||"string"==typeof i[s]||i[s]instanceof String?n&&(t[s]=i[s]):e(t[s],i[s],n):t[s]=i[s]);return t}(o,i,s):o=L(L({},o),i),C(this.data,a,o),r.silent||this.emit("added",e,t,i)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?L(L({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(function(e){return t[e]&&Object.keys(t[e]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),i}(),x={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,i,n,s){var r=this;return e.forEach(function(e){r.processors[e]&&(t=r.processors[e].process(t,i,n,s))}),t}};function R(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function M(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?R(Object(i),!0).forEach(function(t){d(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var V={},H=function(e){u(i,m);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=h(e);if(t){var s=h(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return c(this,i)}}(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,i),n=t.call(this),I&&m.call(o(n)),function(e,t,i){["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(function(e){t[e]&&(i[e]=t[e])})}(0,e,o(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=b.create("translator"),n}return a(i,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var i=this.resolve(e,t);return i&&void 0!==i.res}},{key:"extractFromKey",value:function(e,t){var i=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");var n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=t.ns||this.options.defaultNS||[],r=i&&e.indexOf(i)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,i){t=t||"",i=i||"";var n=O.filter(function(e){return t.indexOf(e)<0&&i.indexOf(e)<0});if(0===n.length)return!0;var s=new RegExp("(".concat(n.map(function(e){return"?"===e?"\\?":e}).join("|"),")")),r=!s.test(e);if(!r){var a=e.indexOf(i);a>0&&!s.test(e.substring(0,a))&&(r=!0)}return r}(e,i,n));if(r&&!a){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:s};var l=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(l[0])>-1)&&(s=l.shift()),e=l.join(n)}return"string"==typeof s&&(s=[s]),{key:e,namespaces:s}}},{key:"translate",value:function(e,t,s){var r=this;if("object"!==n(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=this.extractFromKey(e[e.length-1],t),l=o.key,u=o.namespaces,c=u[u.length-1],h=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(d){var f=t.nsSeparator||this.options.nsSeparator;return c+f+l}return l}var p=this.resolve(e,t),v=p&&p.res,g=p&&p.usedKey||l,b=p&&p.exactUsedKey||l,m=Object.prototype.toString.apply(v),_=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject;if(S&&v&&"string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v&&["[object Number]","[object Function]","[object RegExp]"].indexOf(m)<0&&("string"!=typeof _||"[object Array]"!==m)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,v,M(M({},t),{},{ns:u})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");if(a){var y="[object Array]"===m,C=y?[]:{},E=y?b:g;for(var A in v)if(Object.prototype.hasOwnProperty.call(v,A)){var T="".concat(E).concat(a).concat(A);C[A]=this.translate(T,M(M({},t),{joinArrays:!1,ns:u})),C[A]===T&&(C[A]=v[A])}v=C}}else if(S&&"string"==typeof _&&"[object Array]"===m)(v=v.join(_))&&(v=this.extendTranslation(v,e,t,s));else{var w=!1,k=!1,I=void 0!==t.count&&"string"!=typeof t.count,O=i.hasDefaultValue(t),P=I?this.pluralResolver.getSuffix(h,t.count,t):"",L=t["defaultValue".concat(P)]||t.defaultValue;!this.isValidLookup(v)&&O&&(w=!0,v=L),this.isValidLookup(v)||(k=!0,v=l);var N=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:v,x=O&&L!==v&&this.options.updateMissing;if(k||w||x){if(this.logger.log(x?"updateKey":"missingKey",h,c,l,x?L:v),a){var R=this.resolve(l,M(M({},t),{},{keySeparator:!1}));R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var V=[],H=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&H&&H[0])for(var D=0;D<H.length;D++)V.push(H[D]);else"all"===this.options.saveMissingTo?V=this.languageUtils.toResolveHierarchy(t.lng||this.language):V.push(t.lng||this.language);var B=function(e,i,n){var s=O&&n!==v?n:N;r.options.missingKeyHandler?r.options.missingKeyHandler(e,c,i,s,x,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,c,i,s,x,t),r.emit("missingKey",e,c,i,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?V.forEach(function(e){r.pluralResolver.getSuffixes(e).forEach(function(i){B([e],l+i,t["defaultValue".concat(i)]||L)})}):B(V,l,L))}v=this.extendTranslation(v,e,t,p,s),k&&v===l&&this.options.appendNamespaceToMissingKey&&(v="".concat(c,":").concat(l)),(k||w)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(e,t,i,n,s){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,i,n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(M(M({},i),{interpolation:M(M({},this.options.interpolation),i.interpolation)}));var a,o="string"==typeof e&&(i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables);if(o){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var u=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(u=M(M({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,i.lng||this.language,i),o){var c=e.match(this.interpolator.nestingRegexp);a<(c&&c.length)&&(i.nest=!1)}!1!==i.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return s&&s[0]===n[0]&&!i.context?(r.logger.warn("It seems you are nesting recursively key: ".concat(n[0]," in key: ").concat(t[0])),null):r.translate.apply(r,n.concat([t]))},i)),i.interpolation&&this.interpolator.reset()}var h=i.postProcess||this.options.postProcess,d="string"==typeof h?[h]:h;return null!=e&&d&&d.length&&!1!==i.applyPostProcessor&&(e=x.handle(d,e,t,this.options&&this.options.postProcessPassResolved?M({i18nResolved:n},i):i,this)),e}},{key:"resolve",value:function(e){var t,i,n,s,r,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,o),u=l.key;i=u;var c=l.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var h=void 0!==o.count&&"string"!=typeof o.count,d=h&&!o.ordinal&&0===o.count&&a.pluralResolver.shouldUseIntlApi(),f=void 0!==o.context&&("string"==typeof o.context||"number"==typeof o.context)&&""!==o.context,p=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);c.forEach(function(e){a.isValidLookup(t)||(r=e,!V["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(r)&&(V["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(i,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(function(i){if(!a.isValidLookup(t)){s=i;var r,l,c=[u];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(c,u,i,e,o);else if(h&&(l=a.pluralResolver.getSuffix(i,o.count,o)),h&&(c.push(u+l),d&&c.push(u+"_zero")),f){var p="".concat(u).concat(a.options.contextSeparator).concat(o.context);c.push(p),h&&(c.push(p+l),d&&c.push(p+"_zero"))}for(;r=c.pop();)a.isValidLookup(t)||(n=r,t=a.getResource(i,e,r,o))}}))})}}),{res:t,usedKey:i,exactUsedKey:n,usedLng:s,usedNS:r}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,"defaultValue".length)&&void 0!==e[t])return!0;return!1}}]),i}();function D(e){return e.charAt(0).toUpperCase()+e.slice(1)}var B=function(){function e(t){s(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=b.create("languageUtils")}return a(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map(function(e){return e.toLowerCase()}):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=D(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=D(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=D(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,i=this;return e?(e.forEach(function(e){if(!t){var n=i.formatLanguageCode(e);i.options.supportedLngs&&!i.isSupportedCode(n)||(t=n)}}),!t&&this.options.supportedLngs&&e.forEach(function(e){if(!t){var n=i.getLanguagePartFromCode(e);if(i.isSupportedCode(n))return t=n;t=i.options.supportedLngs.find(function(e){if(0===e.indexOf(n))return e})}}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}},{key:"toResolveHierarchy",value:function(e,t){var i=this,n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],r=function(e){e&&(i.isSupportedCode(e)?s.push(e):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),n.forEach(function(e){s.indexOf(e)<0&&r(i.formatLanguageCode(e))}),s}}]),e}(),F=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],U={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},j=["v1","v2","v3"],z={zero:0,one:1,two:2,few:3,many:4,other:5},Y=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.languageUtils=t,this.options=i,this.logger=b.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){var e={};return F.forEach(function(t){t.lngs.forEach(function(i){e[i]={numbers:t.nr,plurals:U[t.fc]}})}),e}()}return a(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,i).map(function(e){return"".concat(t).concat(e)})}},{key:"getSuffixes",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(function(e,t){return z[e]-z[t]}).map(function(e){return"".concat(t.options.prepend).concat(e)}):n.numbers.map(function(n){return t.getSuffix(e,n,i)}):[]}},{key:"getSuffix",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.select(t)):this.getSuffixRetroCompatible(n,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var i=this,n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),s=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===s?s="plural":1===s&&(s=""));var r=function(){return i.options.prepend&&s.toString()?i.options.prepend+s.toString():s.toString()};return"v1"===this.options.compatibilityJSON?1===s?"":"number"==typeof s?"_plural_".concat(s.toString()):r():"v2"===this.options.compatibilityJSON?r():this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}},{key:"shouldUseIntlApi",value:function(){return!j.includes(this.options.compatibilityJSON)}}]),e}();function W(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?W(Object(i),!0).forEach(function(t){d(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.logger=b.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return a(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:k,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?T(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?T(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?T(t.nestingPrefix):t.nestingPrefixEscaped||T("$t("),this.nestingSuffix=t.nestingSuffix?T(t.nestingSuffix):t.nestingSuffixEscaped||T(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(e,t,i,n){var s,r,a,o=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(o.formatSeparator)<0){var s=A(t,l,e);return o.alwaysFormat?o.format(s,void 0,i,G(G(G({},n),t),{},{interpolationkey:e})):s}var r=e.split(o.formatSeparator),a=r.shift().trim(),u=r.join(o.formatSeparator).trim();return o.format(A(t,l,a),u,i,G(G(G({},n),t),{},{interpolationkey:a}))};this.resetRegExp();var h=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,d=n&&n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return o.escapeValue?u(o.escape(e)):u(e)}}].forEach(function(t){for(a=0;s=t.regex.exec(e);){if(void 0===(r=c(s[1].trim())))if("function"==typeof h){var i=h(e,s,n);r="string"==typeof i?i:""}else{if(d){r=s[0];continue}o.logger.warn("missed to pass in variable ".concat(s[1]," for interpolating ").concat(e)),r=""}else"string"==typeof r||o.useRawValueToEscape||(r=S(r));var l=t.safeValue(r);if(e=e.replace(s[0],l),d?(t.regex.lastIndex+=l.length,t.regex.lastIndex-=s[0].length):t.regex.lastIndex=0,++a>=o.maxReplaces)break}}),e}},{key:"nest",value:function(e,t){var i,n,s=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=G({},r);function o(e,t){var i=this.nestingOptionsSeparator;if(e.indexOf(i)<0)return e;var n=e.split(new RegExp("".concat(i,"[ ]*{"))),s="{".concat(n[1]);e=n[0],s=(s=this.interpolate(s,a)).replace(/'/g,'"');try{a=JSON.parse(s),t&&(a=G(G({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(i).concat(s)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;i=this.nestingRegexp.exec(e);){var l=[],u=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){var c=i[1].split(this.formatSeparator).map(function(e){return e.trim()});i[1]=c.shift(),l=c,u=!0}if((n=t(o.call(this,i[1].trim(),a),a))&&i[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=S(n)),n||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),n=""),u&&(n=l.reduce(function(e,t){return s.format(e,t,r.lng,G(G({},r),{},{interpolationkey:i[1].trim()}))},n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}]),e}();function X(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?X(Object(i),!0).forEach(function(t){d(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):X(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.logger=b.create("formatter"),this.options=t,this.formats={number:function(e,t,i){return new Intl.NumberFormat(t,i).format(e)},currency:function(e,t,i){return new Intl.NumberFormat(t,K(K({},i),{},{style:"currency"})).format(e)},datetime:function(e,t,i){return new Intl.DateTimeFormat(t,K({},i)).format(e)},relativetime:function(e,t,i){return new Intl.RelativeTimeFormat(t,K({},i)).format(e,i.range||"day")},list:function(e,t,i){return new Intl.ListFormat(t,K({},i)).format(e)}},this.init(t)}return a(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e]=t}},{key:"format",value:function(e,t,i,n){var s=this;return t.split(this.formatSeparator).reduce(function(e,t){var r=function(e){var t=e.toLowerCase().trim(),i={};if(e.indexOf("(")>-1){var n=e.split("(");t=n[0].toLowerCase().trim();var s=n[1].substring(0,n[1].length-1);"currency"===t&&s.indexOf(":")<0?i.currency||(i.currency=s.trim()):"relativetime"===t&&s.indexOf(":")<0?i.range||(i.range=s.trim()):s.split(";").forEach(function(e){if(e){var t=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":")),n=t[0],s=t.slice(1).join(":");"false"===s.trim()&&(i[n.trim()]=!1),"true"===s.trim()&&(i[n.trim()]=!0),isNaN(s.trim())||(i[n.trim()]=parseInt(s.trim(),10)),i[n.trim()]||(i[n.trim()]=s.trim())}})}return{formatName:t,formatOptions:i}}(t),a=r.formatName,o=r.formatOptions;if(s.formats[a]){var l=e;try{var u=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},c=u.locale||u.lng||n.locale||n.lng||i;l=s.formats[a](e,c,K(K(K({},o),n),u))}catch(e){s.logger.warn(e)}return l}return s.logger.warn("there was no format function for ".concat(a)),e},e)}}]),e}();function $(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function Z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$(Object(i),!0).forEach(function(t){d(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var Q=function(e){u(i,m);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=h(e);if(t){var s=h(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return c(this,i)}}(i);function i(e,n,r){var a,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,i),a=t.call(this),I&&m.call(o(a)),a.backend=e,a.store=n,a.services=r,a.languageUtils=r.languageUtils,a.options=l,a.logger=b.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(r,l.backend,l),a}return a(i,[{key:"queueLoad",value:function(e,t,i,n){var s=this,r=[],a=[],o=[],l=[];return e.forEach(function(e){var n=!0;t.forEach(function(t){var o="".concat(e,"|").concat(t);!i.reload&&s.store.hasResourceBundle(e,t)?s.state[o]=2:s.state[o]<0||(1===s.state[o]?a.indexOf(o)<0&&a.push(o):(s.state[o]=1,n=!1,a.indexOf(o)<0&&a.push(o),r.indexOf(o)<0&&r.push(o),l.indexOf(t)<0&&l.push(t)))}),n||o.push(e)}),(r.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:n}),{toLoad:r,pending:a,toLoadLanguages:o,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,i){var n=e.split("|"),s=n[0],r=n[1];t&&this.emit("failedLoading",s,r,t),i&&this.store.addResourceBundle(s,r,i),this.state[e]=t?-1:2;var a={};this.queue.forEach(function(i){!function(e,t,i,n){var s=y(e,t,Object),r=s.obj,a=s.k;r[a]=r[a]||[],r[a].push(i)}(i.loaded,[s],r),function(e,t){for(var i=e.indexOf(t);-1!==i;)e.splice(i,1),i=e.indexOf(t)}(i.pending,e),t&&i.errors.push(t),0!==i.pending.length||i.done||(Object.keys(i.loaded).forEach(function(e){a[e]||(a[e]=[]),i.loaded[e].length&&i.loaded[e].forEach(function(t){a[e].indexOf(t)<0&&a[e].push(t)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(e,t,i){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[i](e,t,function(o,l){o&&l&&s<5?setTimeout(function(){n.read.call(n,e,t,i,s+1,2*r,a)},r):a(o,l)}):a(null,{})}},{key:"prepareLoading",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var r=this.queueLoad(e,t,n,s);if(!r.toLoad.length)return r.pending.length||s(),null;r.toLoad.forEach(function(e){i.loadOne(e)})}},{key:"load",value:function(e,t,i){this.prepareLoading(e,t,{},i)}},{key:"reload",value:function(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}},{key:"loadOne",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("|"),s=n[0],r=n[1];this.read(s,r,"read",void 0,void 0,function(n,a){n&&t.logger.warn("".concat(i,"loading namespace ").concat(r," for language ").concat(s," failed"),n),!n&&a&&t.logger.log("".concat(i,"loaded namespace ").concat(r," for language ").concat(s),a),t.loaded(e,n,a)})}},{key:"saveMissing",value:function(e,t,i,n,s){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=i&&""!==i&&(this.backend&&this.backend.create&&this.backend.create(e,t,i,n,null,Z(Z({},r),{},{isUpdate:s})),e&&e[0]&&this.store.addResource(e[0],t,i,n))}}]),i}();function ee(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function te(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function ie(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?te(Object(i),!0).forEach(function(t){d(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):te(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function ne(){}var se=function(e){u(i,m);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=h(e);if(t){var s=h(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return c(this,i)}}(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(s(this,i),e=t.call(this),I&&m.call(o(e)),e.options=ee(n),e.services={},e.logger=b,e.modules={external:[]},function(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}(o(e)),r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),c(e,o(e));setTimeout(function(){e.init(n,r)},0)}return e}return a(i,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(i=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var s={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===n(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===n(e[2])||"object"===n(e[3])){var i=e[3]||e[2];Object.keys(i).forEach(function(e){t[e]=i[e]})}return t},interpolation:{escapeValue:!0,format:function(e,t,i,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function r(e){return e?"function"==typeof e?new e:e:null}if(this.options=ie(ie(ie({},s),this.options),ee(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ie(ie({},s.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var a;this.modules.logger?b.init(r(this.modules.logger),this.options):b.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!=typeof Intl&&(a=J);var o=new B(this.options);this.store=new N(this.options.resources,this.options);var l=this.services;l.logger=b,l.resourceStore=this.store,l.languageUtils=o,l.pluralResolver=new Y(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format||(l.formatter=r(a),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new q(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new Q(r(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];e.emit.apply(e,[t].concat(n))}),this.modules.languageDetector&&(l.languageDetector=r(this.modules.languageDetector),l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=r(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new H(this.services,this.options),this.translator.on("*",function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];e.emit.apply(e,[t].concat(n))}),this.modules.external.forEach(function(t){t.init&&t.init(e)})}if(this.format=this.options.interpolation.format,i||(i=ne),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){e[t]=function(){var i;return(i=e.store)[t].apply(i,arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){e[t]=function(){var i;return(i=e.store)[t].apply(i,arguments),e}});var c=_(),h=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(n),i(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),c}},{key:"loadResources",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne,n="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return i();var s=[],r=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){s.indexOf(e)<0&&s.push(e)})};n?r(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return r(e)}),this.options.preload&&this.options.preload.forEach(function(e){return r(e)}),this.services.backendConnector.load(s,this.options.ns,i)}else i(null)}},{key:"reloadResources",value:function(e,t,i){var n=_();return e||(e=this.languages),t||(t=this.options.ns),i||(i=ne),this.services.backendConnector.reload(e,t,function(e){n.resolve(),i(e)}),n}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&x.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var i=this;this.isLanguageChangingTo=e;var n=_();this.emit("languageChanging",e);var s=function(e){if(i.language=e,i.languages=i.services.languageUtils.toResolveHierarchy(e),i.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<i.languages.length;t++){var n=i.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&i.store.hasLanguageSomeTranslations(n)){i.resolvedLanguage=n;break}}},r=function(r){e||r||!i.services.languageDetector||(r=[]);var a="string"==typeof r?r:i.services.languageUtils.getBestMatchFromCodes(r);a&&(i.language||s(a),i.translator.language||i.translator.changeLanguage(a),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(a)),i.loadResources(a,function(e){!function(e,r){r?(s(r),i.translator.changeLanguage(r),i.isLanguageChangingTo=void 0,i.emit("languageChanged",r),i.logger.log("languageChanged",r)):i.isLanguageChangingTo=void 0,n.resolve(function(){return i.t.apply(i,arguments)}),t&&t(e,function(){return i.t.apply(i,arguments)})}(e,a)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(e,t,i){var s=this,r=function e(t,r){var a;if("object"!==n(r)){for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];a=s.options.overloadTranslationOptionHandler([t,r].concat(l))}else a=ie({},r);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns;var c=s.options.keySeparator||".",h=i?"".concat(i).concat(c).concat(t):t;return s.t(h,a)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.resolvedLanguage||this.languages[0],s=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var a=function(e,i){var n=t.services.backendConnector.state["".concat(e,"|").concat(i)];return-1===n||2===n};if(i.precheck){var o=i.precheck(this,a);if(void 0!==o)return o}return!!this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||!(!a(n,e)||s&&!a(r,e))}},{key:"loadNamespaces",value:function(e,t){var i=this,n=_();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(function(e){i.options.ns.indexOf(e)<0&&i.options.ns.push(e)}),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var i=_();"string"==typeof e&&(e=[e]);var n=this.options.preload||[],s=e.filter(function(e){return n.indexOf(e)<0});return s.length?(this.options.preload=n.concat(s),this.loadResources(function(e){i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne,s=ie(ie(ie({},this.options),t),{isClone:!0}),r=new i(s);return["store","services","language"].forEach(function(t){r[t]=e[t]}),r.services=ie({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new H(r.services,r.options),r.translator.on("*",function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];r.emit.apply(r,[e].concat(i))}),r.init(s,n),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}();d(se,"createInstance",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new se(e,t)});var re=se.createInstance();re.createInstance=se.createInstance;var ae=re.createInstance,oe=re.init,le=re.loadResources,ue=re.reloadResources,ce=re.use,he=re.changeLanguage,de=re.getFixedT,fe=re.t,pe=re.exists,ve=re.setDefaultNamespace,ge=re.hasLoadedNamespace,be=re.loadNamespaces,me=re.loadLanguages;t.default=re},function(e,t,i){"use strict";function n(e){return null!==e&&"object"==_typeof(e)&&"constructor"in e&&e.constructor===Object}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach(function(i){void 0===e[i]?e[i]=t[i]:n(t[i])&&n(e[i])&&Object.keys(t[i]).length>0&&s(e[i],t[i])})}i.r(t);var r={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){var e="undefined"!=typeof document?document:{};return s(e,r),e}var o={document:r,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function l(){var e="undefined"!=typeof window?window:{};return s(e,o),e}var u=function(e){_inherits(i,_wrapNativeSuper(Array));var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),"number"==typeof e?n=t.call(this,e):function(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}(_assertThisInitialized(n=t.call.apply(t,[this].concat(_toConsumableArray(e||[]))))),_possibleConstructorReturn(n)}return _createClass(i)}();function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach(function(e){Array.isArray(e)?t.push.apply(t,_toConsumableArray(c(e))):t.push(e)}),t}function h(e,t){return Array.prototype.filter.call(e,t)}function d(e,t){var i=l(),n=a(),s=[];if(!t&&e instanceof u)return e;if(!e)return new u(s);if("string"==typeof e){var r=e.trim();if(r.indexOf("<")>=0&&r.indexOf(">")>=0){var o="div";0===r.indexOf("<li")&&(o="ul"),0===r.indexOf("<tr")&&(o="tbody"),0!==r.indexOf("<td")&&0!==r.indexOf("<th")||(o="tr"),0===r.indexOf("<tbody")&&(o="table"),0===r.indexOf("<option")&&(o="select");var c=n.createElement(o);c.innerHTML=r;for(var h=0;h<c.childNodes.length;h+=1)s.push(c.childNodes[h])}else s=function(e,t){if("string"!=typeof e)return[e];for(var i=[],n=t.querySelectorAll(e),s=0;s<n.length;s+=1)i.push(n[s]);return i}(e.trim(),t||n)}else if(e.nodeType||e===i||e===n)s.push(e);else if(Array.isArray(e)){if(e instanceof u)return e;s=e}return new u(function(e){for(var t=[],i=0;i<e.length;i+=1)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(s))}d.fn=u.prototype;var f="resize scroll".split(" ");function p(e){return function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];if(void 0===i[0]){for(var s=0;s<this.length;s+=1)f.indexOf(e)<0&&(e in this[s]?this[s][e]():d(this[s]).trigger(e));return this}return this.on.apply(this,[e].concat(i))}}p("click"),p("blur"),p("focus"),p("focusin"),p("focusout"),p("keyup"),p("keydown"),p("keypress"),p("submit"),p("change"),p("mousedown"),p("mousemove"),p("mouseup"),p("mouseenter"),p("mouseleave"),p("mouseout"),p("mouseover"),p("touchstart"),p("touchend"),p("touchmove"),p("resize"),p("scroll");var v={addClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=c(t.map(function(e){return e.split(" ")}));return this.forEach(function(e){var t;(t=e.classList).add.apply(t,_toConsumableArray(n))}),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=c(t.map(function(e){return e.split(" ")}));return this.forEach(function(e){var t;(t=e.classList).remove.apply(t,_toConsumableArray(n))}),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=c(t.map(function(e){return e.split(" ")}));return h(this,function(e){return n.filter(function(t){return e.classList.contains(t)}).length>0}).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=c(t.map(function(e){return e.split(" ")}));this.forEach(function(e){n.forEach(function(t){e.classList.toggle(t)})})},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(e,t);else for(var n in e)this[i][n]=e[n],this[i].setAttribute(n,e[n]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?"".concat(e,"ms"):e;return this},on:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],s=t[1],r=t[2],a=t[3];function o(e){var t=e.target;if(t){var i=e.target.dom7EventData||[];if(i.indexOf(e)<0&&i.unshift(e),d(t).is(s))r.apply(t,i);else for(var n=d(t).parents(),a=0;a<n.length;a+=1)d(n[a]).is(s)&&r.apply(n[a],i)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),r.apply(this,t)}"function"==typeof t[1]&&(n=t[0],r=t[1],a=t[2],s=void 0),a||(a=!1);for(var u,c=n.split(" "),h=0;h<this.length;h+=1){var f=this[h];if(s)for(u=0;u<c.length;u+=1){var p=c[u];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[p]||(f.dom7LiveListeners[p]=[]),f.dom7LiveListeners[p].push({listener:r,proxyListener:o}),f.addEventListener(p,o,a)}else for(u=0;u<c.length;u+=1){var v=c[u];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[v]||(f.dom7Listeners[v]=[]),f.dom7Listeners[v].push({listener:r,proxyListener:l}),f.addEventListener(v,l,a)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],s=t[1],r=t[2],a=t[3];"function"==typeof t[1]&&(n=t[0],r=t[1],a=t[2],s=void 0),a||(a=!1);for(var o=n.split(" "),l=0;l<o.length;l+=1)for(var u=o[l],c=0;c<this.length;c+=1){var h=this[c],d=void 0;if(!s&&h.dom7Listeners?d=h.dom7Listeners[u]:s&&h.dom7LiveListeners&&(d=h.dom7LiveListeners[u]),d&&d.length)for(var f=d.length-1;f>=0;f-=1){var p=d[f];r&&p.listener===r?(h.removeEventListener(u,p.proxyListener,a),d.splice(f,1)):r&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===r?(h.removeEventListener(u,p.proxyListener,a),d.splice(f,1)):r||(h.removeEventListener(u,p.proxyListener,a),d.splice(f,1))}}return this},trigger:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var n=l(),s=t[0].split(" "),r=t[1],a=0;a<s.length;a+=1)for(var o=s[a],u=0;u<this.length;u+=1){var c=this[u];if(n.CustomEvent){var h=new n.CustomEvent(o,{detail:r,bubbles:!0,cancelable:!0});c.dom7EventData=t.filter(function(e,t){return t>0}),c.dispatchEvent(h),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",function i(n){n.target===this&&(e.call(this,n),t.off("transitionend",i))}),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=l();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=l(),t=a(),i=this[0],n=i.getBoundingClientRect(),s=t.body,r=i.clientTop||s.clientTop||0,o=i.clientLeft||s.clientLeft||0,u=i===e?e.scrollY:i.scrollTop,c=i===e?e.scrollX:i.scrollLeft;return{top:n.top+u-r,left:n.left+c-o}}return null},css:function(e,t){var i,n=l();if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i+=1)for(var s in e)this[i].style[s]=e[s];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(i=0;i<this.length;i+=1)this[i].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(function(t,i){e.apply(t,[t,i])}),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,i,n=l(),s=a(),r=this[0];if(!r||void 0===e)return!1;if("string"==typeof e){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(t=d(e),i=0;i<t.length;i+=1)if(t[i]===r)return!0;return!1}if(e===s)return r===s;if(e===n)return r===n;if(e.nodeType||e instanceof u){for(t=e.nodeType?[e]:e,i=0;i<t.length;i+=1)if(t[i]===r)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return d([]);if(e<0){var i=t+e;return d(i<0?[]:[this[i]])}return d([this[e]])},append:function(){for(var e,t=a(),i=0;i<arguments.length;i+=1){e=i<0||arguments.length<=i?void 0:arguments[i];for(var n=0;n<this.length;n+=1)if("string"==typeof e){var s=t.createElement("div");for(s.innerHTML=e;s.firstChild;)this[n].appendChild(s.firstChild)}else if(e instanceof u)for(var r=0;r<e.length;r+=1)this[n].appendChild(e[r]);else this[n].appendChild(e)}return this},prepend:function(e){var t,i,n=a();for(t=0;t<this.length;t+=1)if("string"==typeof e){var s=n.createElement("div");for(s.innerHTML=e,i=s.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(s.childNodes[i],this[t].childNodes[0])}else if(e instanceof u)for(i=0;i<e.length;i+=1)this[t].insertBefore(e[i],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&d(this[0].nextElementSibling).is(e)?d([this[0].nextElementSibling]):d([]):this[0].nextElementSibling?d([this[0].nextElementSibling]):d([]):d([])},nextAll:function(e){var t=[],i=this[0];if(!i)return d([]);for(;i.nextElementSibling;){var n=i.nextElementSibling;e?d(n).is(e)&&t.push(n):t.push(n),i=n}return d(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&d(t.previousElementSibling).is(e)?d([t.previousElementSibling]):d([]):t.previousElementSibling?d([t.previousElementSibling]):d([])}return d([])},prevAll:function(e){var t=[],i=this[0];if(!i)return d([]);for(;i.previousElementSibling;){var n=i.previousElementSibling;e?d(n).is(e)&&t.push(n):t.push(n),i=n}return d(t)},parent:function(e){for(var t=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(e?d(this[i].parentNode).is(e)&&t.push(this[i].parentNode):t.push(this[i].parentNode));return d(t)},parents:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var n=this[i].parentNode;n;)e?d(n).is(e)&&t.push(n):t.push(n),n=n.parentNode;return d(t)},closest:function(e){var t=this;return void 0===e?d([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var n=this[i].querySelectorAll(e),s=0;s<n.length;s+=1)t.push(n[s]);return d(t)},children:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var n=this[i].children,s=0;s<n.length;s+=1)e&&!d(n[s]).is(e)||t.push(n[s]);return d(t)},filter:function(e){return d(h(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(v).forEach(function(e){Object.defineProperty(d.fn,e,{value:v[e],writable:!0})});var g,b,m,_=d;function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,t)}function y(){return Date.now()}function C(e){var t,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",r=l(),a=function(e){var t,i=l();return i.getComputedStyle&&(t=i.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return r.WebKitCSSMatrix?((i=a.transform||a.webkitTransform).split(",").length>6&&(i=i.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),n=new r.WebKitCSSMatrix("none"===i?"":i)):t=(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===s&&(i=r.WebKitCSSMatrix?n.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===s&&(i=r.WebKitCSSMatrix?n.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),i||0}function E(e){return"object"==_typeof(e)&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function A(){for(var e,t=Object(arguments.length<=0?void 0:arguments[0]),i=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var s=n<0||arguments.length<=n?void 0:arguments[n];if(null!=s&&(e=s,!("undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType))))for(var r=Object.keys(Object(s)).filter(function(e){return i.indexOf(e)<0}),a=0,o=r.length;a<o;a+=1){var l=r[a],u=Object.getOwnPropertyDescriptor(s,l);void 0!==u&&u.enumerable&&(E(t[l])&&E(s[l])?s[l].__swiper__?t[l]=s[l]:A(t[l],s[l]):!E(t[l])&&E(s[l])?(t[l]={},s[l].__swiper__?t[l]=s[l]:A(t[l],s[l])):t[l]=s[l])}}return t}function T(e,t,i){e.style.setProperty(t,i)}function w(e){var t,i=e.swiper,n=e.targetPosition,s=e.side,r=l(),a=-i.translate,o=null,u=i.params.speed;i.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(i.cssModeFrameID);var c=n>a?"next":"prev",h=function(e,t){return"next"===c&&e>=t||"prev"===c&&e<=t};!function e(){t=(new Date).getTime(),null===o&&(o=t);var l=Math.max(Math.min((t-o)/u,1),0),c=.5-Math.cos(l*Math.PI)/2,d=a+c*(n-a);if(h(d,n)&&(d=n),i.wrapperEl.scrollTo(_defineProperty({},s,d)),h(d,n))return i.wrapperEl.style.overflow="hidden",i.wrapperEl.style.scrollSnapType="",setTimeout(function(){i.wrapperEl.style.overflow="",i.wrapperEl.scrollTo(_defineProperty({},s,d))}),void r.cancelAnimationFrame(i.cssModeFrameID);i.cssModeFrameID=r.requestAnimationFrame(e)}()}function k(){return g||(e=l(),t=a(),g={smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,i)}catch(e){}return t}(),gestures:"ongesturestart"in e}),g;var e,t}function I(e){var t=e.swiper,i=e.runCallbacks,n=e.direction,s=e.step,r=t.activeIndex,a=t.previousIndex,o=n;if(o||(o=r>a?"next":r<a?"prev":"reset"),t.emit("transition".concat(s)),i&&r!==a){if("reset"===o)return void t.emit("slideResetTransition".concat(s));t.emit("slideChangeTransition".concat(s)),"next"===o?t.emit("slideNextTransition".concat(s)):t.emit("slidePrevTransition".concat(s))}}function O(){var e=this,t=e.params,i=e.el;if(!i||0!==i.offsetWidth){t.breakpoints&&e.setBreakpoint();var n=e.allowSlideNext,s=e.allowSlidePrev,r=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=s,e.allowSlideNext=n,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}}var P=!1;function L(){}var N=function(e,t){var i=a(),n=e.params,s=e.touchEvents,r=e.el,o=e.wrapperEl,l=e.device,u=e.support,c=!!n.nested,h="on"===t?"addEventListener":"removeEventListener",d=t;if(u.touch){var f=!("touchstart"!==s.start||!u.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};r[h](s.start,e.onTouchStart,f),r[h](s.move,e.onTouchMove,u.passiveListener?{passive:!1,capture:c}:c),r[h](s.end,e.onTouchEnd,f),s.cancel&&r[h](s.cancel,e.onTouchEnd,f)}else r[h](s.start,e.onTouchStart,!1),i[h](s.move,e.onTouchMove,c),i[h](s.end,e.onTouchEnd,!1);(n.preventClicks||n.preventClicksPropagation)&&r[h]("click",e.onClick,!0),n.cssMode&&o[h]("scroll",e.onScroll),n.updateOnWindowResize?e[d](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",O,!0):e[d]("observerUpdate",O,!0)},x=function(e,t){return e.grid&&t.grid&&t.grid.rows>1},R={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1},M={eventsEmitter:{on:function(e,t,i){var n=this;if("function"!=typeof t)return n;var s=i?"unshift":"push";return e.split(" ").forEach(function(e){n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][s](t)}),n},once:function(e,t,i){var n=this;if("function"!=typeof t)return n;function s(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];n.off(e,s),s.__emitterProxy&&delete s.__emitterProxy,t.apply(n,r)}return s.__emitterProxy=t,n.on(e,s,i)},onAny:function(e,t){var i=this;if("function"!=typeof e)return i;var n=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[n](e),i},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off:function(e,t){var i=this;return i.eventsListeners?(e.split(" ").forEach(function(e){void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach(function(n,s){(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&i.eventsListeners[e].splice(s,1)})}),i):i},emit:function(){var e,t,i,n=this;if(!n.eventsListeners)return n;for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return"string"==typeof r[0]||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),i=n):(e=r[0].events,t=r[0].data,i=r[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(function(e){n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(function(n){n.apply(i,[e].concat(_toConsumableArray(t)))}),n.eventsListeners&&n.eventsListeners[e]&&n.eventsListeners[e].forEach(function(e){e.apply(i,t)})}),n}},update:{updateSize:function(){var e,t,i=this,n=i.$el;e=void 0!==i.params.width&&null!==i.params.width?i.params.width:n[0].clientWidth,t=void 0!==i.params.height&&null!==i.params.height?i.params.height:n[0].clientHeight,0===e&&i.isHorizontal()||0===t&&i.isVertical()||(e=e-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),t=t-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(i,{width:e,height:t,size:i.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function i(e,i){return parseFloat(e.getPropertyValue(t(i))||0)}var n=e.params,s=e.$wrapperEl,r=e.size,a=e.rtlTranslate,o=e.wrongRTL,l=e.virtual&&n.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,c=s.children(".".concat(e.params.slideClass)),h=l?e.virtual.slides.length:c.length,d=[],f=[],p=[],v=n.slidesOffsetBefore;"function"==typeof v&&(v=n.slidesOffsetBefore.call(e));var g=n.slidesOffsetAfter;"function"==typeof g&&(g=n.slidesOffsetAfter.call(e));var b=e.snapGrid.length,m=e.slidesGrid.length,_=n.spaceBetween,S=-v,y=0,C=0;if(void 0!==r){"string"==typeof _&&_.indexOf("%")>=0&&(_=parseFloat(_.replace("%",""))/100*r),e.virtualSize=-_,a?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),n.centeredSlides&&n.cssMode&&(T(e.wrapperEl,"--swiper-centered-offset-before",""),T(e.wrapperEl,"--swiper-centered-offset-after",""));var E,A=n.grid&&n.grid.rows>1&&e.grid;A&&e.grid.initSlides(h);for(var w="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter(function(e){return void 0!==n.breakpoints[e].slidesPerView}).length>0,k=0;k<h;k+=1){E=0;var I=c.eq(k);if(A&&e.grid.updateSlide(k,I,h,t),"none"!==I.css("display")){if("auto"===n.slidesPerView){w&&(c[k].style[t("width")]="");var O=getComputedStyle(I[0]),P=I[0].style.transform,L=I[0].style.webkitTransform;if(P&&(I[0].style.transform="none"),L&&(I[0].style.webkitTransform="none"),n.roundLengths)E=e.isHorizontal()?I.outerWidth(!0):I.outerHeight(!0);else{var N=i(O,"width"),x=i(O,"padding-left"),R=i(O,"padding-right"),M=i(O,"margin-left"),V=i(O,"margin-right"),H=O.getPropertyValue("box-sizing");if(H&&"border-box"===H)E=N+M+V;else{var D=I[0],B=D.clientWidth;E=N+x+R+M+V+(D.offsetWidth-B)}}P&&(I[0].style.transform=P),L&&(I[0].style.webkitTransform=L),n.roundLengths&&(E=Math.floor(E))}else E=(r-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),c[k]&&(c[k].style[t("width")]="".concat(E,"px"));c[k]&&(c[k].swiperSlideSize=E),p.push(E),n.centeredSlides?(S=S+E/2+y/2+_,0===y&&0!==k&&(S=S-r/2-_),0===k&&(S=S-r/2-_),Math.abs(S)<.001&&(S=0),n.roundLengths&&(S=Math.floor(S)),C%n.slidesPerGroup==0&&d.push(S),f.push(S)):(n.roundLengths&&(S=Math.floor(S)),(C-Math.min(e.params.slidesPerGroupSkip,C))%e.params.slidesPerGroup==0&&d.push(S),f.push(S),S=S+E+_),e.virtualSize+=E+_,y=E,C+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+g,a&&o&&("slide"===n.effect||"coverflow"===n.effect)&&s.css({width:"".concat(e.virtualSize+n.spaceBetween,"px")}),n.setWrapperSize&&s.css(_defineProperty({},t("width"),"".concat(e.virtualSize+n.spaceBetween,"px"))),A&&e.grid.updateWrapperSize(E,d,t),!n.centeredSlides){for(var F=[],U=0;U<d.length;U+=1){var j=d[U];n.roundLengths&&(j=Math.floor(j)),d[U]<=e.virtualSize-r&&F.push(j)}d=F,Math.floor(e.virtualSize-r)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-r)}if(0===d.length&&(d=[0]),0!==n.spaceBetween){var z=e.isHorizontal()&&a?"marginLeft":t("marginRight");c.filter(function(e,t){return!n.cssMode||t!==c.length-1}).css(_defineProperty({},z,"".concat(_,"px")))}if(n.centeredSlides&&n.centeredSlidesBounds){var Y=0;p.forEach(function(e){Y+=e+(n.spaceBetween?n.spaceBetween:0)});var W=(Y-=n.spaceBetween)-r;d=d.map(function(e){return e<0?-v:e>W?W+g:e})}if(n.centerInsufficientSlides){var G=0;if(p.forEach(function(e){G+=e+(n.spaceBetween?n.spaceBetween:0)}),(G-=n.spaceBetween)<r){var q=(r-G)/2;d.forEach(function(e,t){d[t]=e-q}),f.forEach(function(e,t){f[t]=e+q})}}if(Object.assign(e,{slides:c,snapGrid:d,slidesGrid:f,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){T(e.wrapperEl,"--swiper-centered-offset-before","".concat(-d[0],"px")),T(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-p[p.length-1]/2,"px"));var X=-e.snapGrid[0],K=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(function(e){return e+X}),e.slidesGrid=e.slidesGrid.map(function(e){return e+K})}h!==u&&e.emit("slidesLengthChange"),d.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==m&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,i=this,n=[],s=i.virtual&&i.params.virtual.enabled,r=0;"number"==typeof e?i.setTransition(e):!0===e&&i.setTransition(i.params.speed);var a=function(e){return s?i.slides.filter(function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e})[0]:i.slides.eq(e)[0]};if("auto"!==i.params.slidesPerView&&i.params.slidesPerView>1)if(i.params.centeredSlides)i.visibleSlides.each(function(e){n.push(e)});else for(t=0;t<Math.ceil(i.params.slidesPerView);t+=1){var o=i.activeIndex+t;if(o>i.slides.length&&!s)break;n.push(a(o))}else n.push(a(i.activeIndex));for(t=0;t<n.length;t+=1)if(void 0!==n[t]){var l=n[t].offsetHeight;r=l>r?l:r}(r||0===r)&&i.$wrapperEl.css("height","".concat(r,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,t=this,i=t.params,n=t.slides,s=t.rtlTranslate,r=t.snapGrid;if(0!==n.length){void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();var a=-e;s&&(a=e),n.removeClass(i.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var o=0;o<n.length;o+=1){var l=n[o],u=l.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(u-=n[0].swiperSlideOffset);var c=(a+(i.centeredSlides?t.minTranslate():0)-u)/(l.swiperSlideSize+i.spaceBetween),h=(a-r[0]+(i.centeredSlides?t.minTranslate():0)-u)/(l.swiperSlideSize+i.spaceBetween),d=-(a-u),f=d+t.slidesSizesGrid[o];(d>=0&&d<t.size-1||f>1&&f<=t.size||d<=0&&f>=t.size)&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(o),n.eq(o).addClass(i.slideVisibleClass)),l.progress=s?-c:c,l.originalProgress=s?-h:h}t.visibleSlides=_(t.visibleSlides)}},updateProgress:function(e){var t=this;if(void 0===e){var i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}var n=t.params,s=t.maxTranslate()-t.minTranslate(),r=t.progress,a=t.isBeginning,o=t.isEnd,l=a,u=o;0===s?(r=0,a=!0,o=!0):(a=(r=(e-t.minTranslate())/s)<=0,o=r>=1),Object.assign(t,{progress:r,isBeginning:a,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),a&&!l&&t.emit("reachBeginning toEdge"),o&&!u&&t.emit("reachEnd toEdge"),(l&&!a||u&&!o)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function(){var e,t=this,i=t.slides,n=t.params,s=t.$wrapperEl,r=t.activeIndex,a=t.realIndex,o=t.virtual&&n.virtual.enabled;i.removeClass("".concat(n.slideActiveClass," ").concat(n.slideNextClass," ").concat(n.slidePrevClass," ").concat(n.slideDuplicateActiveClass," ").concat(n.slideDuplicateNextClass," ").concat(n.slideDuplicatePrevClass)),(e=o?t.$wrapperEl.find(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(r,'"]')):i.eq(r)).addClass(n.slideActiveClass),n.loop&&(e.hasClass(n.slideDuplicateClass)?s.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(a,'"]')).addClass(n.slideDuplicateActiveClass):s.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(a,'"]')).addClass(n.slideDuplicateActiveClass));var l=e.nextAll(".".concat(n.slideClass)).eq(0).addClass(n.slideNextClass);n.loop&&0===l.length&&(l=i.eq(0)).addClass(n.slideNextClass);var u=e.prevAll(".".concat(n.slideClass)).eq(0).addClass(n.slidePrevClass);n.loop&&0===u.length&&(u=i.eq(-1)).addClass(n.slidePrevClass),n.loop&&(l.hasClass(n.slideDuplicateClass)?s.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicateNextClass):s.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?s.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicatePrevClass):s.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,i=this,n=i.rtlTranslate?i.translate:-i.translate,s=i.slidesGrid,r=i.snapGrid,a=i.params,o=i.activeIndex,l=i.realIndex,u=i.snapIndex,c=e;if(void 0===c){for(var h=0;h<s.length;h+=1)void 0!==s[h+1]?n>=s[h]&&n<s[h+1]-(s[h+1]-s[h])/2?c=h:n>=s[h]&&n<s[h+1]&&(c=h+1):n>=s[h]&&(c=h);a.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}if(r.indexOf(n)>=0)t=r.indexOf(n);else{var d=Math.min(a.slidesPerGroupSkip,c);t=d+Math.floor((c-d)/a.slidesPerGroup)}if(t>=r.length&&(t=r.length-1),c!==o){var f=parseInt(i.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(i,{snapIndex:t,realIndex:f,previousIndex:o,activeIndex:c}),i.emit("activeIndexChange"),i.emit("snapIndexChange"),l!==f&&i.emit("realIndexChange"),(i.initialized||i.params.runCallbacksOnInit)&&i.emit("slideChange")}else t!==u&&(i.snapIndex=t,i.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,i=this,n=i.params,s=_(e).closest(".".concat(n.slideClass))[0],r=!1;if(s)for(var a=0;a<i.slides.length;a+=1)if(i.slides[a]===s){r=!0,t=a;break}if(!s||!r)return i.clickedSlide=void 0,void(i.clickedIndex=void 0);i.clickedSlide=s,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(_(s).attr("data-swiper-slide-index"),10):i.clickedIndex=t,n.slideToClickedSlide&&void 0!==i.clickedIndex&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}},translate:{getTranslate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y",t=this.params,i=this.rtlTranslate,n=this.translate,s=this.$wrapperEl;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;var r=C(s[0],e);return i&&(r=-r),r||0},setTranslate:function(e,t){var i=this,n=i.rtlTranslate,s=i.params,r=i.$wrapperEl,a=i.wrapperEl,o=i.progress,l=0,u=0;i.isHorizontal()?l=n?-e:e:u=e,s.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),s.cssMode?a[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-l:-u:s.virtualTranslate||r.transform("translate3d(".concat(l,"px, ").concat(u,"px, 0px)")),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?l:u;var c=i.maxTranslate()-i.minTranslate();(0===c?0:(e-i.minTranslate())/c)!==o&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4?arguments[4]:void 0,r=this,a=r.params,o=r.wrapperEl;if(r.animating&&a.preventInteractionOnTransition)return!1;var l,u=r.minTranslate(),c=r.maxTranslate();if(l=n&&e>u?u:n&&e<c?c:e,r.updateProgress(l),a.cssMode){var h=r.isHorizontal();if(0===t)o[h?"scrollLeft":"scrollTop"]=-l;else{var d;if(!r.support.smoothScroll)return w({swiper:r,targetPosition:-l,side:h?"left":"top"}),!0;o.scrollTo((_defineProperty(d={},h?"left":"top",-l),_defineProperty(d,"behavior","smooth"),d))}return!0}return 0===t?(r.setTransition(0),r.setTranslate(l),i&&(r.emit("beforeTransitionStart",t,s),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(l),i&&(r.emit("beforeTransitionStart",t,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,i&&r.emit("transitionEnd"))}),r.$wrapperEl[0].addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){var i=this;i.params.cssMode||i.$wrapperEl.transition(e),i.emit("setTransition",e,t)},transitionStart:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,i=this,n=i.params;n.cssMode||(n.autoHeight&&i.updateAutoHeight(),I({swiper:i,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,i=this.params;this.animating=!1,i.cssMode||(this.setTransition(0),I({swiper:this,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if("number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(_typeof(e),"] given."));if("string"==typeof e){var r=parseInt(e,10);if(!isFinite(r))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=r}var a=this,o=e;o<0&&(o=0);var l=a.params,u=a.snapGrid,c=a.slidesGrid,h=a.previousIndex,d=a.activeIndex,f=a.rtlTranslate,p=a.wrapperEl,v=a.enabled;if(a.animating&&l.preventInteractionOnTransition||!v&&!n&&!s)return!1;var g=Math.min(a.params.slidesPerGroupSkip,o),b=g+Math.floor((o-g)/a.params.slidesPerGroup);b>=u.length&&(b=u.length-1),(d||l.initialSlide||0)===(h||0)&&i&&a.emit("beforeSlideChangeStart");var m,_=-u[b];if(a.updateProgress(_),l.normalizeSlideIndex)for(var S=0;S<c.length;S+=1){var y=-Math.floor(100*_),C=Math.floor(100*c[S]),E=Math.floor(100*c[S+1]);void 0!==c[S+1]?y>=C&&y<E-(E-C)/2?o=S:y>=C&&y<E&&(o=S+1):y>=C&&(o=S)}if(a.initialized&&o!==d){if(!a.allowSlideNext&&_<a.translate&&_<a.minTranslate())return!1;if(!a.allowSlidePrev&&_>a.translate&&_>a.maxTranslate()&&(d||0)!==o)return!1}if(m=o>d?"next":o<d?"prev":"reset",f&&-_===a.translate||!f&&_===a.translate)return a.updateActiveIndex(o),l.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==l.effect&&a.setTranslate(_),"reset"!==m&&(a.transitionStart(i,m),a.transitionEnd(i,m)),!1;if(l.cssMode){var A=a.isHorizontal(),T=f?_:-_;if(0===t){var k=a.virtual&&a.params.virtual.enabled;k&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),p[A?"scrollLeft":"scrollTop"]=T,k&&requestAnimationFrame(function(){a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1})}else{var I;if(!a.support.smoothScroll)return w({swiper:a,targetPosition:T,side:A?"left":"top"}),!0;p.scrollTo((_defineProperty(I={},A?"left":"top",T),_defineProperty(I,"behavior","smooth"),I))}return!0}return a.setTransition(t),a.setTranslate(_),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,n),a.transitionStart(i,m),0===t?a.transitionEnd(i,m):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(i,m))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,s=this,r=e;return s.params.loop&&(r+=s.loopedSlides),s.slideTo(r,t,i,n)},slideNext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,n=this,s=n.animating,r=n.enabled,a=n.params;if(!r)return n;var o=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic("current",!0),1));var l=n.activeIndex<a.slidesPerGroupSkip?1:o;if(a.loop){if(s&&a.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}return a.rewind&&n.isEnd?n.slideTo(0,e,t,i):n.slideTo(n.activeIndex+l,e,t,i)},slidePrev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,n=this,s=n.params,r=n.animating,a=n.snapGrid,o=n.slidesGrid,l=n.rtlTranslate;if(!n.enabled)return n;if(s.loop){if(r&&s.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var c,h=u(l?n.translate:-n.translate),d=a[a.map(function(e){return u(e)}).indexOf(h)-1];void 0===d&&s.cssMode&&(a.forEach(function(e,t){h>=e&&(c=t)}),void 0!==c&&(d=a[c>0?c-1:c]));var f=0;return void 0!==d&&((f=o.indexOf(d))<0&&(f=n.activeIndex-1),"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(f=f-n.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),s.rewind&&n.isBeginning?n.slideTo(n.slides.length-1,e,t,i):n.slideTo(f,e,t,i)},slideReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;return this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=this,r=s.activeIndex,a=Math.min(s.params.slidesPerGroupSkip,r),o=a+Math.floor((r-a)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[o]){var u=s.snapGrid[o];l-u>(s.snapGrid[o+1]-u)*n&&(r+=s.params.slidesPerGroup)}else{var c=s.snapGrid[o-1];l-c<=(s.snapGrid[o]-c)*n&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,e,t,i)},slideToClickedSlide:function(){var e,t=this,i=t.params,n=t.$wrapperEl,s="auto"===i.slidesPerView?t.slidesPerViewDynamic():i.slidesPerView,r=t.clickedIndex;if(i.loop){if(t.animating)return;e=parseInt(_(t.clickedSlide).attr("data-swiper-slide-index"),10),i.centeredSlides?r<t.loopedSlides-s/2||r>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),r=n.children(".".concat(i.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(i.slideDuplicateClass,")")).eq(0).index(),S(function(){t.slideTo(r)})):t.slideTo(r):r>t.slides.length-s?(t.loopFix(),r=n.children(".".concat(i.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(i.slideDuplicateClass,")")).eq(0).index(),S(function(){t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}},loop:{loopCreate:function(){var e=this,t=a(),i=e.params,n=e.$wrapperEl,s=n.children().length>0?_(n.children()[0].parentNode):n;s.children(".".concat(i.slideClass,".").concat(i.slideDuplicateClass)).remove();var r=s.children(".".concat(i.slideClass));if(i.loopFillGroupWithBlank){var o=i.slidesPerGroup-r.length%i.slidesPerGroup;if(o!==i.slidesPerGroup){for(var l=0;l<o;l+=1){var u=_(t.createElement("div")).addClass("".concat(i.slideClass," ").concat(i.slideBlankClass));s.append(u)}r=s.children(".".concat(i.slideClass))}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=r.length),e.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),e.loopedSlides+=i.loopAdditionalSlides,e.loopedSlides>r.length&&(e.loopedSlides=r.length);var c=[],h=[];r.each(function(t,i){var n=_(t);i<e.loopedSlides&&h.push(t),i<r.length&&i>=r.length-e.loopedSlides&&c.push(t),n.attr("data-swiper-slide-index",i)});for(var d=0;d<h.length;d+=1)s.append(_(h[d].cloneNode(!0)).addClass(i.slideDuplicateClass));for(var f=c.length-1;f>=0;f-=1)s.prepend(_(c[f].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,i=e.activeIndex,n=e.slides,s=e.loopedSlides,r=e.allowSlidePrev,a=e.allowSlideNext,o=e.snapGrid,l=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var u=-o[i]-e.getTranslate();i<s?(t=n.length-3*s+i,t+=s,e.slideTo(t,0,!1,!0)&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u)):i>=n.length-s&&(t=-n.length+i+s,t+=s,e.slideTo(t,0,!1,!0)&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u)),e.allowSlidePrev=r,e.allowSlideNext=a,e.emit("loopFix")},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,i=this.slides;e.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass,",.").concat(t.slideClass,".").concat(t.slideBlankClass)).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){if(!(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var t="container"===this.params.touchEventsTarget?this.el:this.wrapperEl;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this["container"===this.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function(){var e=this,t=a(),i=e.params,n=e.support;e.onTouchStart=function(e){var t=this,i=a(),n=l(),s=t.touchEventsData,r=t.params,o=t.touches;if(t.enabled&&(!t.animating||!r.preventInteractionOnTransition)){!t.animating&&r.cssMode&&r.loop&&t.loopFix();var u=e;u.originalEvent&&(u=u.originalEvent);var c=_(u.target);if(("wrapper"!==r.touchEventsTarget||c.closest(t.wrapperEl).length)&&(s.isTouchEvent="touchstart"===u.type,(s.isTouchEvent||!("which"in u)||3!==u.which)&&!(!s.isTouchEvent&&"button"in u&&u.button>0||s.isTouched&&s.isMoved))){r.noSwipingClass&&""!==r.noSwipingClass&&u.target&&u.target.shadowRoot&&e.path&&e.path[0]&&(c=_(e.path[0]));var h=r.noSwipingSelector?r.noSwipingSelector:".".concat(r.noSwipingClass),d=!(!u.target||!u.target.shadowRoot);if(r.noSwiping&&(d?function(e){return function t(i){return i&&i!==a()&&i!==l()?(i.assignedSlot&&(i=i.assignedSlot),i.closest(e)||t(i.getRootNode().host)):null}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this)}(h,u.target):c.closest(h)[0]))t.allowClick=!0;else if(!r.swipeHandler||c.closest(r.swipeHandler)[0]){o.currentX="touchstart"===u.type?u.targetTouches[0].pageX:u.pageX,o.currentY="touchstart"===u.type?u.targetTouches[0].pageY:u.pageY;var f=o.currentX,p=o.currentY,v=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,g=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(v&&(f<=g||f>=n.innerWidth-g)){if("prevent"!==v)return;e.preventDefault()}if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=p,s.touchStartTime=y(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1),"touchstart"!==u.type){var b=!0;c.is(s.focusableElements)&&(b=!1),i.activeElement&&_(i.activeElement).is(s.focusableElements)&&i.activeElement!==c[0]&&i.activeElement.blur();var m=b&&t.allowTouchMove&&r.touchStartPreventDefault;!r.touchStartForcePreventDefault&&!m||c[0].isContentEditable||u.preventDefault()}t.emit("touchStart",u)}}}}.bind(e),e.onTouchMove=function(e){var t=a(),i=this,n=i.touchEventsData,s=i.params,r=i.touches,o=i.rtlTranslate;if(i.enabled){var l=e;if(l.originalEvent&&(l=l.originalEvent),n.isTouched){if(!n.isTouchEvent||"touchmove"===l.type){var u="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),c="touchmove"===l.type?u.pageX:l.pageX,h="touchmove"===l.type?u.pageY:l.pageY;if(l.preventedByNestedSwiper)return r.startX=c,void(r.startY=h);if(!i.allowTouchMove)return i.allowClick=!1,void(n.isTouched&&(Object.assign(r,{startX:c,startY:h,currentX:c,currentY:h}),n.touchStartTime=y()));if(n.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop)if(i.isVertical()){if(h<r.startY&&i.translate<=i.maxTranslate()||h>r.startY&&i.translate>=i.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(c<r.startX&&i.translate<=i.maxTranslate()||c>r.startX&&i.translate>=i.minTranslate())return;if(n.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&_(l.target).is(n.focusableElements))return n.isMoved=!0,void(i.allowClick=!1);if(n.allowTouchCallbacks&&i.emit("touchMove",l),!(l.targetTouches&&l.targetTouches.length>1)){r.currentX=c,r.currentY=h;var d=r.currentX-r.startX,f=r.currentY-r.startY;if(!(i.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(f,2))<i.params.threshold)){var p;if(void 0===n.isScrolling)i.isHorizontal()&&r.currentY===r.startY||i.isVertical()&&r.currentX===r.startX?n.isScrolling=!1:d*d+f*f>=25&&(p=180*Math.atan2(Math.abs(f),Math.abs(d))/Math.PI,n.isScrolling=i.isHorizontal()?p>s.touchAngle:90-p>s.touchAngle);if(n.isScrolling&&i.emit("touchMoveOpposite",l),void 0===n.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(n.startMoving=!0)),n.isScrolling)n.isTouched=!1;else if(n.startMoving){i.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),n.isMoved||(s.loop&&!s.cssMode&&i.loopFix(),n.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!s.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",l)),i.emit("sliderMove",l),n.isMoved=!0;var v=i.isHorizontal()?d:f;r.diff=v,v*=s.touchRatio,o&&(v=-v),i.swipeDirection=v>0?"prev":"next",n.currentTranslate=v+n.startTranslate;var g=!0,b=s.resistanceRatio;if(s.touchReleaseOnEdges&&(b=0),v>0&&n.currentTranslate>i.minTranslate()?(g=!1,s.resistance&&(n.currentTranslate=i.minTranslate()-1+Math.pow(-i.minTranslate()+n.startTranslate+v,b))):v<0&&n.currentTranslate<i.maxTranslate()&&(g=!1,s.resistance&&(n.currentTranslate=i.maxTranslate()+1-Math.pow(i.maxTranslate()-n.startTranslate-v,b))),g&&(l.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),i.allowSlidePrev||i.allowSlideNext||(n.currentTranslate=n.startTranslate),s.threshold>0){if(!(Math.abs(v)>s.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,n.currentTranslate=n.startTranslate,void(r.diff=i.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}s.followFinger&&!s.cssMode&&((s.freeMode&&s.freeMode.enabled&&i.freeMode||s.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&s.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(n.currentTranslate),i.setTranslate(n.currentTranslate))}}}}}else n.startMoving&&n.isScrolling&&i.emit("touchMoveOpposite",l)}}.bind(e),e.onTouchEnd=function(e){var t=this,i=t.touchEventsData,n=t.params,s=t.touches,r=t.rtlTranslate,a=t.slidesGrid;if(t.enabled){var o=e;if(o.originalEvent&&(o=o.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",o),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&n.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);n.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var l,u=y(),c=u-i.touchStartTime;if(t.allowClick){var h=o.path||o.composedPath&&o.composedPath();t.updateClickedSlide(h&&h[0]||o.target),t.emit("tap click",o),c<300&&u-i.lastClickTime<300&&t.emit("doubleTap doubleClick",o)}if(i.lastClickTime=y(),S(function(){t.destroyed||(t.allowClick=!0)}),!i.isTouched||!i.isMoved||!t.swipeDirection||0===s.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,l=n.followFinger?r?t.translate:-t.translate:-i.currentTranslate,!n.cssMode)if(t.params.freeMode&&n.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:l});else{for(var d=0,f=t.slidesSizesGrid[0],p=0;p<a.length;p+=p<n.slidesPerGroupSkip?1:n.slidesPerGroup){var v=p<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;void 0!==a[p+v]?l>=a[p]&&l<a[p+v]&&(d=p,f=a[p+v]-a[p]):l>=a[p]&&(d=p,f=a[a.length-1]-a[a.length-2])}var g=(l-a[d])/f,b=d<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(c>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(g>=n.longSwipesRatio?t.slideTo(d+b):t.slideTo(d)),"prev"===t.swipeDirection&&(g>1-n.longSwipesRatio?t.slideTo(d+b):t.slideTo(d))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||o.target!==t.navigation.nextEl&&o.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(d+b),"prev"===t.swipeDirection&&t.slideTo(d)):o.target===t.navigation.nextEl?t.slideTo(d+b):t.slideTo(d)}}}}.bind(e),i.cssMode&&(e.onScroll=function(){var e=this,t=e.wrapperEl,i=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var n=e.maxTranslate()-e.minTranslate();(0===n?0:(e.translate-e.minTranslate())/n)!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}.bind(e)),e.onClick=function(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}.bind(e),n.touch&&!P&&(t.addEventListener("touchstart",L),P=!0),N(e,"on")},detachEvents:function(){N(this,"off")}},breakpoints:{setBreakpoint:function(){var e=this,t=e.activeIndex,i=e.initialized,n=e.loopedSlides,s=void 0===n?0:n,r=e.params,a=e.$el,o=r.breakpoints;if(o&&(!o||0!==Object.keys(o).length)){var l=e.getBreakpoint(o,e.params.breakpointsBase,e.el);if(l&&e.currentBreakpoint!==l){var u=(l in o?o[l]:void 0)||e.originalParams,c=x(e,r),h=x(e,u),d=r.enabled;c&&!h?(a.removeClass("".concat(r.containerModifierClass,"grid ").concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses()):!c&&h&&(a.addClass("".concat(r.containerModifierClass,"grid")),(u.grid.fill&&"column"===u.grid.fill||!u.grid.fill&&"column"===r.grid.fill)&&a.addClass("".concat(r.containerModifierClass,"grid-column")),e.emitContainerClasses());var f=u.direction&&u.direction!==r.direction,p=r.loop&&(u.slidesPerView!==r.slidesPerView||f);f&&i&&e.changeDirection(),A(e.params,u);var v=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),d&&!v?e.disable():!d&&v&&e.enable(),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",u),p&&i&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-s+e.loopedSlides,0,!1)),e.emit("breakpoint",u)}}},getBreakpoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"window",i=arguments.length>2?arguments[2]:void 0;if(e&&("container"!==t||i)){var n=!1,s=l(),r="window"===t?s.innerHeight:i.clientHeight,a=Object.keys(e).map(function(e){if("string"==typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:r*t,point:e}}return{value:e,point:e}});a.sort(function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)});for(var o=0;o<a.length;o+=1){var u=a[o],c=u.point,h=u.value;"window"===t?s.matchMedia("(min-width: ".concat(h,"px)")).matches&&(n=c):h<=i.clientWidth&&(n=c)}return n||"max"}}},checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked,i=e.params,n=i.slidesOffsetBefore;if(n){var s=e.slides.length-1,r=e.slidesGrid[s]+e.slidesSizesGrid[s]+2*n;e.isLocked=e.size>r}else e.isLocked=1===e.snapGrid.length;!0===i.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===i.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){var e=this.classNames,t=this.params,i=this.rtl,n=this.$el,s=this.device,r=this.support,a=function(e,t){var i=[];return e.forEach(function(e){"object"==_typeof(e)?Object.keys(e).forEach(function(n){e[n]&&i.push(t+n)}):"string"==typeof e&&i.push(t+e)}),i}(["initialized",t.direction,{"pointer-events":!r.touch},{"free-mode":this.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides}],t.containerModifierClass);e.push.apply(e,_toConsumableArray(a)),n.addClass(_toConsumableArray(e).join(" ")),this.emitContainerClasses()},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(e,t,i,n,s,r){var a,o=l();function u(){r&&r()}_(e).parent("picture")[0]||e.complete&&s?u():t?((a=new o.Image).onload=u,a.onerror=u,n&&(a.sizes=n),i&&(a.srcset=i),t&&(a.src=t)):u()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var i=0;i<e.imagesToLoad.length;i+=1){var n=e.imagesToLoad[i];e.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,t)}}}},V={},H=function(){function e(){var t,i,n,s;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];if(1===a.length&&a[0].constructor&&"Object"===Object.prototype.toString.call(a[0]).slice(8,-1)?s=a[0]:(n=(t=_slicedToArray(a,2))[0],s=t[1]),s||(s={}),s=A({},s),n&&!s.el&&(s.el=n),s.el&&_(s.el).length>1){var u=[];return _(s.el).each(function(t){var i=A({},s,{el:t});u.push(new e(i))}),u}var c=this;c.__swiper__=!0,c.support=k(),c.device=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b||(b=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgent,t=k(),i=l(),n=i.navigator.platform,s=e||i.navigator.userAgent,r={ios:!1,android:!1},a=i.screen.width,o=i.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/),c=s.match(/(iPad).*OS\s([\d_]+)/),h=s.match(/(iPod)(.*OS\s([\d_]+))?/),d=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===n,p="MacIntel"===n;return!c&&p&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(a,"x").concat(o))>=0&&((c=s.match(/(Version)\/([\d.]+)/))||(c=[0,1,"13_0_0"]),p=!1),u&&!f&&(r.os="android",r.android=!0),(c||d||h)&&(r.os="ios",r.ios=!0),r}(e)),b}({userAgent:s.userAgent}),c.browser=function(){return m||(t=l(),m={isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}),m;var e,t}(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=_toConsumableArray(c.__modules__),s.modules&&Array.isArray(s.modules)&&(i=c.modules).push.apply(i,_toConsumableArray(s.modules));var h={};c.modules.forEach(function(e){e({swiper:c,extendParams:function(e,t){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.keys(i)[0],s=i[n];"object"==_typeof(s)&&null!==s?(["navigation","pagination","scrollbar"].indexOf(n)>=0&&!0===e[n]&&(e[n]={auto:!0}),n in e&&"enabled"in s?(!0===e[n]&&(e[n]={enabled:!0}),"object"!=_typeof(e[n])||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),A(t,i)):A(t,i)):A(t,i)}}(s,h),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});var d=A({},R,h);return c.params=A({},d,V,s),c.originalParams=A({},c.params),c.passedParams=A({},s),c.params&&c.params.on&&Object.keys(c.params.on).forEach(function(e){c.on(e,c.params.on[e])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),c.$=_,Object.assign(c,{enabled:c.params.enabled,el:n,classNames:[],slides:_(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===c.params.direction},isVertical:function(){return"vertical"===c.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return c.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},c.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},c.support.touch||!c.params.simulateTouch?c.touchEventsTouch:c.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:y(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}return _createClass(e,[{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){e=Math.min(Math.max(e,0),1);var i=this.minTranslate(),n=(this.maxTranslate()-i)*e+i;this.translateTo(n,void 0===t?0:t),this.updateActiveIndex(),this.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter(function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)});e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return e.className.split(" ").filter(function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)}).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each(function(i){var n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.params,n=this.slides,s=this.slidesGrid,r=this.slidesSizesGrid,a=this.size,o=this.activeIndex,l=1;if(i.centeredSlides){for(var u,c=n[o].swiperSlideSize,h=o+1;h<n.length;h+=1)n[h]&&!u&&(l+=1,(c+=n[h].swiperSlideSize)>a&&(u=!0));for(var d=o-1;d>=0;d-=1)n[d]&&!u&&(l+=1,(c+=n[d].swiperSlideSize)>a&&(u=!0))}else if("current"===e)for(var f=o+1;f<n.length;f+=1)(t?s[f]+r[f]-s[o]<a:s[f]-s[o]<a)&&(l+=1);else for(var p=o-1;p>=0;p-=1)s[o]-s[p]<a&&(l+=1);return l}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,i=e.params;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(n(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||n(),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function n(){var t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,n=i.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e?i:(i.$el.removeClass("".concat(i.params.containerModifierClass).concat(n)).addClass("".concat(i.params.containerModifierClass).concat(e)),i.emitContainerClasses(),i.params.direction=e,i.slides.each(function(t){"vertical"===e?t.style.width="":t.style.height=""}),i.emit("changeDirection"),t&&i.update(),i)}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var i=_(e||t.params.el);if(!(e=i[0]))return!1;e.swiper=t;var n=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},s=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=_(e.shadowRoot.querySelector(n()));return t.children=function(e){return i.children(e)},t}return i.children(n())}();if(0===s.length&&t.params.createElements){var r=a().createElement("div");s=_(r),r.className=t.params.wrapperClass,i.append(r),i.children(".".concat(t.params.slideClass)).each(function(e){s.append(e)})}return Object.assign(t,{$el:i,el:e,$wrapperEl:s,wrapperEl:s[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===s.css("display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized?t:!1===t.mount(e)?t:(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit"),t)}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,n=i.params,s=i.$el,r=i.$wrapperEl,a=i.slides;return void 0===i.params||i.destroyed?null:(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),s.removeAttr("style"),r.removeAttr("style"),a&&a.length&&a.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(function(e){i.off(e)}),!1!==e&&(i.$el[0].swiper=null,function(e){var t=i;Object.keys(t).forEach(function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}})}()),i.destroyed=!0,null)}}],[{key:"extendDefaults",value:function(e){A(V,e)}},{key:"extendedDefaults",get:function(){return V}},{key:"defaults",get:function(){return R}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var i=e.prototype.__modules__;"function"==typeof t&&i.indexOf(t)<0&&i.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach(function(t){return e.installModule(t)}),e):(e.installModule(t),e)}}]),e}();Object.keys(M).forEach(function(e){Object.keys(M[e]).forEach(function(t){H.prototype[t]=M[e][t]})}),H.use([function(e){var t=e.swiper,i=e.on,n=e.emit,s=l(),r=null,a=function(){t&&!t.destroyed&&t.initialized&&(n("beforeResize"),n("resize"))},o=function(){t&&!t.destroyed&&t.initialized&&n("orientationchange")};i("init",function(){t.params.resizeObserver&&void 0!==s.ResizeObserver?t&&!t.destroyed&&t.initialized&&(r=new ResizeObserver(function(e){var i=t.width,n=t.height,s=i,r=n;e.forEach(function(e){var i=e.contentBoxSize,n=e.contentRect,a=e.target;a&&a!==t.el||(s=n?n.width:(i[0]||i).inlineSize,r=n?n.height:(i[0]||i).blockSize)}),s===i&&r===n||a()})).observe(t.el):(s.addEventListener("resize",a),s.addEventListener("orientationchange",o))}),i("destroy",function(){r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",o)})},function(e){var t=e.swiper,i=e.extendParams,n=e.on,s=e.emit,r=[],a=l(),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new(a.MutationObserver||a.WebkitMutationObserver)(function(e){if(1!==e.length){var t=function(){s("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(t):a.setTimeout(t,0)}else s("observerUpdate",e[0])});i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),r.push(i)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",function(){if(t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),i=0;i<e.length;i+=1)o(e[i]);o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}}),n("destroy",function(){r.forEach(function(e){e.disconnect()}),r.splice(0,r.length)})}]);var D=H;function B(e){var t,i=e.swiper,n=e.extendParams,s=e.on;function r(e,t){var n=i.params.virtual;if(n.cache&&i.virtual.cache[t])return i.virtual.cache[t];var s=n.renderSlide?_(n.renderSlide.call(i,e,t)):_('<div class="'.concat(i.params.slideClass,'" data-swiper-slide-index="').concat(t,'">').concat(e,"</div>"));return s.attr("data-swiper-slide-index")||s.attr("data-swiper-slide-index",t),n.cache&&(i.virtual.cache[t]=s),s}function a(e){var t=i.params,n=t.slidesPerView,s=t.slidesPerGroup,a=t.centeredSlides,o=i.params.virtual,l=o.addSlidesBefore,u=o.addSlidesAfter,c=i.virtual,h=c.from,d=c.to,f=c.slides,p=c.slidesGrid,v=c.offset;i.params.cssMode||i.updateActiveIndex();var g,b,m,_=i.activeIndex||0;g=i.rtlTranslate?"right":i.isHorizontal()?"left":"top",a?(b=Math.floor(n/2)+s+u,m=Math.floor(n/2)+s+l):(b=n+(s-1)+u,m=s+l);var S=Math.max((_||0)-m,0),y=Math.min((_||0)+b,f.length-1),C=(i.slidesGrid[S]||0)-(i.slidesGrid[0]||0);function E(){i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.lazy&&i.params.lazy.enabled&&i.lazy.load()}if(Object.assign(i.virtual,{from:S,to:y,offset:C,slidesGrid:i.slidesGrid}),h===S&&d===y&&!e)return i.slidesGrid!==p&&C!==v&&i.slides.css(g,"".concat(C,"px")),void i.updateProgress();if(i.params.virtual.renderExternal)return i.params.virtual.renderExternal.call(i,{offset:C,from:S,to:y,slides:function(){for(var e=[],t=S;t<=y;t+=1)e.push(f[t]);return e}()}),void(i.params.virtual.renderExternalUpdate&&E());var A=[],T=[];if(e)i.$wrapperEl.find(".".concat(i.params.slideClass)).remove();else for(var w=h;w<=d;w+=1)(w<S||w>y)&&i.$wrapperEl.find(".".concat(i.params.slideClass,'[data-swiper-slide-index="').concat(w,'"]')).remove();for(var k=0;k<f.length;k+=1)k>=S&&k<=y&&(void 0===d||e?T.push(k):(k>d&&T.push(k),k<h&&A.push(k)));T.forEach(function(e){i.$wrapperEl.append(r(f[e],e))}),A.sort(function(e,t){return t-e}).forEach(function(e){i.$wrapperEl.prepend(r(f[e],e))}),i.$wrapperEl.children(".swiper-slide").css(g,"".concat(C,"px")),E()}n({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}}),i.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]},s("beforeInit",function(){i.params.virtual.enabled&&(i.virtual.slides=i.params.virtual.slides,i.classNames.push("".concat(i.params.containerModifierClass,"virtual")),i.params.watchSlidesProgress=!0,i.originalParams.watchSlidesProgress=!0,i.params.initialSlide||a())}),s("setTranslate",function(){i.params.virtual.enabled&&(i.params.cssMode&&!i._immediateVirtual?(clearTimeout(t),t=setTimeout(function(){a()},100)):a())}),s("init update resize",function(){i.params.virtual.enabled&&i.params.cssMode&&T(i.wrapperEl,"--swiper-virtual-size","".concat(i.virtualSize,"px"))}),Object.assign(i.virtual,{appendSlide:function(e){if("object"==_typeof(e)&&"length"in e)for(var t=0;t<e.length;t+=1)e[t]&&i.virtual.slides.push(e[t]);else i.virtual.slides.push(e);a(!0)},prependSlide:function(e){var t=i.activeIndex,n=t+1,s=1;if(Array.isArray(e)){for(var r=0;r<e.length;r+=1)e[r]&&i.virtual.slides.unshift(e[r]);n=t+e.length,s=e.length}else i.virtual.slides.unshift(e);if(i.params.virtual.cache){var o=i.virtual.cache,l={};Object.keys(o).forEach(function(e){var t=o[e],i=t.attr("data-swiper-slide-index");i&&t.attr("data-swiper-slide-index",parseInt(i,10)+s),l[parseInt(e,10)+s]=t}),i.virtual.cache=l}a(!0),i.slideTo(n,0)},removeSlide:function(e){if(null!=e){var t=i.activeIndex;if(Array.isArray(e))for(var n=e.length-1;n>=0;n-=1)i.virtual.slides.splice(e[n],1),i.params.virtual.cache&&delete i.virtual.cache[e[n]],e[n]<t&&(t-=1),t=Math.max(t,0);else i.virtual.slides.splice(e,1),i.params.virtual.cache&&delete i.virtual.cache[e],e<t&&(t-=1),t=Math.max(t,0);a(!0),i.slideTo(t,0)}},removeAllSlides:function(){i.virtual.slides=[],i.params.virtual.cache&&(i.virtual.cache={}),a(!0),i.slideTo(0,0)},update:a})}function F(e){var t=e.swiper,i=e.extendParams,n=e.on,s=e.emit,r=a(),o=l();function u(e){if(t.enabled){var i=t.rtlTranslate,n=e;n.originalEvent&&(n=n.originalEvent);var a=n.keyCode||n.charCode,l=t.params.keyboard.pageUpDown,u=l&&33===a,c=l&&34===a,h=37===a,d=39===a,f=38===a,p=40===a;if(!t.allowSlideNext&&(t.isHorizontal()&&d||t.isVertical()&&p||c))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&h||t.isVertical()&&f||u))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||r.activeElement&&r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(u||c||h||d||f||p)){var v=!1;if(t.$el.parents(".".concat(t.params.slideClass)).length>0&&0===t.$el.parents(".".concat(t.params.slideActiveClass)).length)return;var g=t.$el,b=g[0].clientWidth,m=g[0].clientHeight,_=o.innerWidth,S=o.innerHeight,y=t.$el.offset();i&&(y.left-=t.$el[0].scrollLeft);for(var C=[[y.left,y.top],[y.left+b,y.top],[y.left,y.top+m],[y.left+b,y.top+m]],E=0;E<C.length;E+=1){var A=C[E];if(A[0]>=0&&A[0]<=_&&A[1]>=0&&A[1]<=S){if(0===A[0]&&0===A[1])continue;v=!0}}if(!v)return}t.isHorizontal()?((u||c||h||d)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),((c||d)&&!i||(u||h)&&i)&&t.slideNext(),((u||h)&&!i||(c||d)&&i)&&t.slidePrev()):((u||c||f||p)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),(c||p)&&t.slideNext(),(u||f)&&t.slidePrev()),s("keyPress",a)}}}function c(){t.keyboard.enabled||(_(r).on("keydown",u),t.keyboard.enabled=!0)}function h(){t.keyboard.enabled&&(_(r).off("keydown",u),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},i({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),n("init",function(){t.params.keyboard.enabled&&c()}),n("destroy",function(){t.keyboard.enabled&&h()}),Object.assign(t.keyboard,{enable:c,disable:h})}function U(e){var t,i=e.swiper,n=e.extendParams,s=e.on,r=e.emit,a=l();n({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),i.mousewheel={enabled:!1};var o,u=y(),c=[];function h(){i.enabled&&(i.mouseEntered=!0)}function d(){i.enabled&&(i.mouseEntered=!1)}function f(e){return!(i.params.mousewheel.thresholdDelta&&e.delta<i.params.mousewheel.thresholdDelta||i.params.mousewheel.thresholdTime&&y()-u<i.params.mousewheel.thresholdTime||!(e.delta>=6&&y()-u<60)&&(e.direction<0?i.isEnd&&!i.params.loop||i.animating||(i.slideNext(),r("scroll",e.raw)):i.isBeginning&&!i.params.loop||i.animating||(i.slidePrev(),r("scroll",e.raw)),u=(new a.Date).getTime(),1))}function p(e){var n=e;if(i.enabled){var s=i.params.mousewheel;i.params.cssMode&&n.preventDefault();var a=i.$el;if("container"!==i.params.mousewheel.eventsTarget&&(a=_(i.params.mousewheel.eventsTarget)),!i.mouseEntered&&!a[0].contains(n.target)&&!s.releaseOnEdges)return!0;n.originalEvent&&(n=n.originalEvent);var l=0,u=i.rtlTranslate?-1:1,h=function(e){var t=0,i=0,n=0,s=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),n=10*t,s=10*i,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(n=e.deltaX),e.shiftKey&&!n&&(n=s,s=0),(n||s)&&e.deltaMode&&(1===e.deltaMode?(n*=40,s*=40):(n*=800,s*=800)),n&&!t&&(t=n<1?-1:1),s&&!i&&(i=s<1?-1:1),{spinX:t,spinY:i,pixelX:n,pixelY:s}}(n);if(s.forceToAxis)if(i.isHorizontal()){if(!(Math.abs(h.pixelX)>Math.abs(h.pixelY)))return!0;l=-h.pixelX*u}else{if(!(Math.abs(h.pixelY)>Math.abs(h.pixelX)))return!0;l=-h.pixelY}else l=Math.abs(h.pixelX)>Math.abs(h.pixelY)?-h.pixelX*u:-h.pixelY;if(0===l)return!0;s.invert&&(l=-l);var d=i.getTranslate()+l*s.sensitivity;if(d>=i.minTranslate()&&(d=i.minTranslate()),d<=i.maxTranslate()&&(d=i.maxTranslate()),(!!i.params.loop||!(d===i.minTranslate()||d===i.maxTranslate()))&&i.params.nested&&n.stopPropagation(),i.params.freeMode&&i.params.freeMode.enabled){var p={time:y(),delta:Math.abs(l),direction:Math.sign(l)},v=o&&p.time<o.time+500&&p.delta<=o.delta&&p.direction===o.direction;if(!v){o=void 0,i.params.loop&&i.loopFix();var g=i.getTranslate()+l*s.sensitivity,b=i.isBeginning,m=i.isEnd;if(g>=i.minTranslate()&&(g=i.minTranslate()),g<=i.maxTranslate()&&(g=i.maxTranslate()),i.setTransition(0),i.setTranslate(g),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses(),(!b&&i.isBeginning||!m&&i.isEnd)&&i.updateSlidesClasses(),i.params.freeMode.sticky){clearTimeout(t),t=void 0,c.length>=15&&c.shift();var C=c.length?c[c.length-1]:void 0,E=c[0];if(c.push(p),C&&(p.delta>C.delta||p.direction!==C.direction))c.splice(0);else if(c.length>=15&&p.time-E.time<500&&E.delta-p.delta>=1&&p.delta<=6){var A=l>0?.8:.2;o=p,c.splice(0),t=S(function(){i.slideToClosest(i.params.speed,!0,void 0,A)},0)}t||(t=S(function(){o=p,c.splice(0),i.slideToClosest(i.params.speed,!0,void 0,.5)},500))}if(v||r("scroll",n),i.params.autoplay&&i.params.autoplayDisableOnInteraction&&i.autoplay.stop(),g===i.minTranslate()||g===i.maxTranslate())return!0}}else{var T={time:y(),delta:Math.abs(l),direction:Math.sign(l),raw:e};c.length>=2&&c.shift();var w=c.length?c[c.length-1]:void 0;if(c.push(T),w?(T.direction!==w.direction||T.delta>w.delta||T.time>w.time+150)&&f(T):f(T),function(e){var t=i.params.mousewheel;if(e.direction<0){if(i.isEnd&&!i.params.loop&&t.releaseOnEdges)return!0}else if(i.isBeginning&&!i.params.loop&&t.releaseOnEdges)return!0;return!1}(T))return!0}return n.preventDefault?n.preventDefault():n.returnValue=!1,!1}}function v(e){var t=i.$el;"container"!==i.params.mousewheel.eventsTarget&&(t=_(i.params.mousewheel.eventsTarget)),t[e]("mouseenter",h),t[e]("mouseleave",d),t[e]("wheel",p)}function g(){return i.params.cssMode?(i.wrapperEl.removeEventListener("wheel",p),!0):!i.mousewheel.enabled&&(v("on"),i.mousewheel.enabled=!0,!0)}function b(){return i.params.cssMode?(i.wrapperEl.addEventListener(event,p),!0):!!i.mousewheel.enabled&&(v("off"),i.mousewheel.enabled=!1,!0)}s("init",function(){!i.params.mousewheel.enabled&&i.params.cssMode&&b(),i.params.mousewheel.enabled&&g()}),s("destroy",function(){i.params.cssMode&&g(),i.mousewheel.enabled&&b()}),Object.assign(i.mousewheel,{enable:g,disable:b})}function j(e,t,i,n){var s=a();return e.params.createElements&&Object.keys(n).forEach(function(r){if(!i[r]&&!0===i.auto){var a=e.$el.children(".".concat(n[r]))[0];a||((a=s.createElement("div")).className=n[r],e.$el.append(a)),i[r]=a,t[r]=a}}),i}function z(e){var t=e.swiper,i=e.extendParams,n=e.on,s=e.emit;function r(e){var i;return e&&(i=_(e),t.params.uniqueNavElements&&"string"==typeof e&&i.length>1&&1===t.$el.find(e).length&&(i=t.$el.find(e))),i}function a(e,i){var n=t.params.navigation;e&&e.length>0&&(e[i?"addClass":"removeClass"](n.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=i),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](n.lockClass))}function o(){if(!t.params.loop){var e=t.navigation,i=e.$nextEl;a(e.$prevEl,t.isBeginning&&!t.params.rewind),a(i,t.isEnd&&!t.params.rewind)}}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&t.slidePrev()}function u(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&t.slideNext()}function c(){var e=t.params.navigation;if(t.params.navigation=j(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),e.nextEl||e.prevEl){var i=r(e.nextEl),n=r(e.prevEl);i&&i.length>0&&i.on("click",u),n&&n.length>0&&n.on("click",l),Object.assign(t.navigation,{$nextEl:i,nextEl:i&&i[0],$prevEl:n,prevEl:n&&n[0]}),t.enabled||(i&&i.addClass(e.lockClass),n&&n.addClass(e.lockClass))}}function h(){var e=t.navigation,i=e.$nextEl,n=e.$prevEl;i&&i.length&&(i.off("click",u),i.removeClass(t.params.navigation.disabledClass)),n&&n.length&&(n.off("click",l),n.removeClass(t.params.navigation.disabledClass))}i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},n("init",function(){c(),o()}),n("toEdge fromEdge lock unlock",function(){o()}),n("destroy",function(){h()}),n("enable disable",function(){var e=t.navigation,i=e.$nextEl,n=e.$prevEl;i&&i[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),n&&n[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",function(e,i){var n=t.navigation,r=n.$nextEl,a=n.$prevEl,o=i.target;if(t.params.navigation.hideOnClick&&!_(o).is(a)&&!_(o).is(r)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===o||t.pagination.el.contains(o)))return;var l;r?l=r.hasClass(t.params.navigation.hiddenClass):a&&(l=a.hasClass(t.params.navigation.hiddenClass)),s(!0===l?"navigationShow":"navigationHide"),r&&r.toggleClass(t.params.navigation.hiddenClass),a&&a.toggleClass(t.params.navigation.hiddenClass)}}),Object.assign(t.navigation,{update:o,init:c,destroy:h})}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return".".concat(e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}function W(e){var t,i=e.swiper,n=e.extendParams,s=e.on,r=e.emit,a="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"".concat(a,"-bullet"),bulletActiveClass:"".concat(a,"-bullet-active"),modifierClass:"".concat(a,"-"),currentClass:"".concat(a,"-current"),totalClass:"".concat(a,"-total"),hiddenClass:"".concat(a,"-hidden"),progressbarFillClass:"".concat(a,"-progressbar-fill"),progressbarOppositeClass:"".concat(a,"-progressbar-opposite"),clickableClass:"".concat(a,"-clickable"),lockClass:"".concat(a,"-lock"),horizontalClass:"".concat(a,"-horizontal"),verticalClass:"".concat(a,"-vertical")}}),i.pagination={el:null,$el:null,bullets:[]};var o=0;function l(){return!i.params.pagination.el||!i.pagination.el||!i.pagination.$el||0===i.pagination.$el.length}function u(e,t){var n=i.params.pagination.bulletActiveClass;e[t]().addClass("".concat(n,"-").concat(t))[t]().addClass("".concat(n,"-").concat(t,"-").concat(t))}function c(){var e=i.rtl,n=i.params.pagination;if(!l()){var s,a=i.virtual&&i.params.virtual.enabled?i.virtual.slides.length:i.slides.length,c=i.pagination.$el,h=i.params.loop?Math.ceil((a-2*i.loopedSlides)/i.params.slidesPerGroup):i.snapGrid.length;if(i.params.loop?((s=Math.ceil((i.activeIndex-i.loopedSlides)/i.params.slidesPerGroup))>a-1-2*i.loopedSlides&&(s-=a-2*i.loopedSlides),s>h-1&&(s-=h),s<0&&"bullets"!==i.params.paginationType&&(s=h+s)):s=void 0!==i.snapIndex?i.snapIndex:i.activeIndex||0,"bullets"===n.type&&i.pagination.bullets&&i.pagination.bullets.length>0){var d,f,p,v=i.pagination.bullets;if(n.dynamicBullets&&(t=v.eq(0)[i.isHorizontal()?"outerWidth":"outerHeight"](!0),c.css(i.isHorizontal()?"width":"height","".concat(t*(n.dynamicMainBullets+4),"px")),n.dynamicMainBullets>1&&void 0!==i.previousIndex&&((o+=s-(i.previousIndex-i.loopedSlides||0))>n.dynamicMainBullets-1?o=n.dynamicMainBullets-1:o<0&&(o=0)),d=Math.max(s-o,0),p=((f=d+(Math.min(v.length,n.dynamicMainBullets)-1))+d)/2),v.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(function(e){return"".concat(n.bulletActiveClass).concat(e)}).join(" ")),c.length>1)v.each(function(e){var t=_(e),i=t.index();i===s&&t.addClass(n.bulletActiveClass),n.dynamicBullets&&(i>=d&&i<=f&&t.addClass("".concat(n.bulletActiveClass,"-main")),i===d&&u(t,"prev"),i===f&&u(t,"next"))});else{var g=v.eq(s),b=g.index();if(g.addClass(n.bulletActiveClass),n.dynamicBullets){for(var m=v.eq(d),S=v.eq(f),y=d;y<=f;y+=1)v.eq(y).addClass("".concat(n.bulletActiveClass,"-main"));if(i.params.loop)if(b>=v.length){for(var C=n.dynamicMainBullets;C>=0;C-=1)v.eq(v.length-C).addClass("".concat(n.bulletActiveClass,"-main"));v.eq(v.length-n.dynamicMainBullets-1).addClass("".concat(n.bulletActiveClass,"-prev"))}else u(m,"prev"),u(S,"next");else u(m,"prev"),u(S,"next")}}if(n.dynamicBullets){var E=Math.min(v.length,n.dynamicMainBullets+4),A=(t*E-t)/2-p*t,T=e?"right":"left";v.css(i.isHorizontal()?T:"top","".concat(A,"px"))}}if("fraction"===n.type&&(c.find(Y(n.currentClass)).text(n.formatFractionCurrent(s+1)),c.find(Y(n.totalClass)).text(n.formatFractionTotal(h))),"progressbar"===n.type){var w;w=n.progressbarOpposite?i.isHorizontal()?"vertical":"horizontal":i.isHorizontal()?"horizontal":"vertical";var k=(s+1)/h,I=1,O=1;"horizontal"===w?I=k:O=k,c.find(Y(n.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(I,") scaleY(").concat(O,")")).transition(i.params.speed)}"custom"===n.type&&n.renderCustom?(c.html(n.renderCustom(i,s+1,h)),r("paginationRender",c[0])):r("paginationUpdate",c[0]),i.params.watchOverflow&&i.enabled&&c[i.isLocked?"addClass":"removeClass"](n.lockClass)}}function h(){var e=i.params.pagination;if(!l()){var t=i.virtual&&i.params.virtual.enabled?i.virtual.slides.length:i.slides.length,n=i.pagination.$el,s="";if("bullets"===e.type){var a=i.params.loop?Math.ceil((t-2*i.loopedSlides)/i.params.slidesPerGroup):i.snapGrid.length;i.params.freeMode&&i.params.freeMode.enabled&&!i.params.loop&&a>t&&(a=t);for(var o=0;o<a;o+=1)e.renderBullet?s+=e.renderBullet.call(i,o,e.bulletClass):s+="<".concat(e.bulletElement,' class="').concat(e.bulletClass,'"></').concat(e.bulletElement,">");n.html(s),i.pagination.bullets=n.find(Y(e.bulletClass))}"fraction"===e.type&&(s=e.renderFraction?e.renderFraction.call(i,e.currentClass,e.totalClass):'<span class="'.concat(e.currentClass,'"></span>')+" / "+'<span class="'.concat(e.totalClass,'"></span>'),n.html(s)),"progressbar"===e.type&&(s=e.renderProgressbar?e.renderProgressbar.call(i,e.progressbarFillClass):'<span class="'.concat(e.progressbarFillClass,'"></span>'),n.html(s)),"custom"!==e.type&&r("paginationRender",i.pagination.$el[0])}}function d(){i.params.pagination=j(i,i.originalParams.pagination,i.params.pagination,{el:"swiper-pagination"});var e=i.params.pagination;if(e.el){var t=_(e.el);0!==t.length&&(i.params.uniqueNavElements&&"string"==typeof e.el&&t.length>1&&(t=i.$el.find(e.el)).length>1&&(t=t.filter(function(e){return _(e).parents(".swiper")[0]===i.el})),"bullets"===e.type&&e.clickable&&t.addClass(e.clickableClass),t.addClass(e.modifierClass+e.type),t.addClass(e.modifierClass+i.params.direction),"bullets"===e.type&&e.dynamicBullets&&(t.addClass("".concat(e.modifierClass).concat(e.type,"-dynamic")),o=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&t.addClass(e.progressbarOppositeClass),e.clickable&&t.on("click",Y(e.bulletClass),function(e){e.preventDefault();var t=_(this).index()*i.params.slidesPerGroup;i.params.loop&&(t+=i.loopedSlides),i.slideTo(t)}),Object.assign(i.pagination,{$el:t,el:t[0]}),i.enabled||t.addClass(e.lockClass))}}function f(){var e=i.params.pagination;if(!l()){var t=i.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),t.removeClass(e.modifierClass+i.params.direction),i.pagination.bullets&&i.pagination.bullets.removeClass&&i.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",Y(e.bulletClass))}}s("init",function(){d(),h(),c()}),s("activeIndexChange",function(){i.params.loop?c():void 0===i.snapIndex&&c()}),s("snapIndexChange",function(){i.params.loop||c()}),s("slidesLengthChange",function(){i.params.loop&&(h(),c())}),s("snapGridLengthChange",function(){i.params.loop||(h(),c())}),s("destroy",function(){f()}),s("enable disable",function(){var e=i.pagination.$el;e&&e[i.enabled?"removeClass":"addClass"](i.params.pagination.lockClass)}),s("lock unlock",function(){c()}),s("click",function(e,t){var n=t.target,s=i.pagination.$el;if(i.params.pagination.el&&i.params.pagination.hideOnClick&&s.length>0&&!_(n).hasClass(i.params.pagination.bulletClass)){if(i.navigation&&(i.navigation.nextEl&&n===i.navigation.nextEl||i.navigation.prevEl&&n===i.navigation.prevEl))return;var a=s.hasClass(i.params.pagination.hiddenClass);r(!0===a?"paginationShow":"paginationHide"),s.toggleClass(i.params.pagination.hiddenClass)}}),Object.assign(i.pagination,{render:h,update:c,init:d,destroy:f})}function G(e){var t,i,n,s,r=e.swiper,o=e.extendParams,l=e.on,u=e.emit,c=a(),h=!1,d=null,f=null;function p(){if(r.params.scrollbar.el&&r.scrollbar.el){var e=r.scrollbar,t=r.rtlTranslate,s=r.progress,a=e.$dragEl,o=e.$el,l=r.params.scrollbar,u=i,c=(n-i)*s;t?(c=-c)>0?(u=i-c,c=0):-c+i>n&&(u=n+c):c<0?(u=i+c,c=0):c+i>n&&(u=n-c),r.isHorizontal()?(a.transform("translate3d(".concat(c,"px, 0, 0)")),a[0].style.width="".concat(u,"px")):(a.transform("translate3d(0px, ".concat(c,"px, 0)")),a[0].style.height="".concat(u,"px")),l.hide&&(clearTimeout(d),o[0].style.opacity=1,d=setTimeout(function(){o[0].style.opacity=0,o.transition(400)},1e3))}}function v(){if(r.params.scrollbar.el&&r.scrollbar.el){var e=r.scrollbar,t=e.$dragEl,a=e.$el;t[0].style.width="",t[0].style.height="",n=r.isHorizontal()?a[0].offsetWidth:a[0].offsetHeight,s=r.size/(r.virtualSize+r.params.slidesOffsetBefore-(r.params.centeredSlides?r.snapGrid[0]:0)),i="auto"===r.params.scrollbar.dragSize?n*s:parseInt(r.params.scrollbar.dragSize,10),r.isHorizontal()?t[0].style.width="".concat(i,"px"):t[0].style.height="".concat(i,"px"),a[0].style.display=s>=1?"none":"",r.params.scrollbar.hide&&(a[0].style.opacity=0),r.params.watchOverflow&&r.enabled&&e.$el[r.isLocked?"addClass":"removeClass"](r.params.scrollbar.lockClass)}}function g(e){return r.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY}function b(e){var s,a=r.scrollbar,o=r.rtlTranslate,l=a.$el;s=(g(e)-l.offset()[r.isHorizontal()?"left":"top"]-(null!==t?t:i/2))/(n-i),s=Math.max(Math.min(s,1),0),o&&(s=1-s);var u=r.minTranslate()+(r.maxTranslate()-r.minTranslate())*s;r.updateProgress(u),r.setTranslate(u),r.updateActiveIndex(),r.updateSlidesClasses()}function m(e){var i=r.params.scrollbar,n=r.scrollbar,s=r.$wrapperEl,a=n.$el,o=n.$dragEl;h=!0,t=e.target===o[0]||e.target===o?g(e)-e.target.getBoundingClientRect()[r.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),s.transition(100),o.transition(100),b(e),clearTimeout(f),a.transition(0),i.hide&&a.css("opacity",1),r.params.cssMode&&r.$wrapperEl.css("scroll-snap-type","none"),u("scrollbarDragStart",e)}function y(e){var t=r.scrollbar,i=r.$wrapperEl,n=t.$el,s=t.$dragEl;h&&(e.preventDefault?e.preventDefault():e.returnValue=!1,b(e),i.transition(0),n.transition(0),s.transition(0),u("scrollbarDragMove",e))}function C(e){var t=r.params.scrollbar,i=r.scrollbar,n=r.$wrapperEl,s=i.$el;h&&(h=!1,r.params.cssMode&&(r.$wrapperEl.css("scroll-snap-type",""),n.transition("")),t.hide&&(clearTimeout(f),f=S(function(){s.css("opacity",0),s.transition(400)},1e3)),u("scrollbarDragEnd",e),t.snapOnRelease&&r.slideToClosest())}function E(e){var t=r.scrollbar,i=r.touchEventsTouch,n=r.touchEventsDesktop,s=r.params,a=r.support,o=t.$el[0],l=!(!a.passiveListener||!s.passiveListeners)&&{passive:!1,capture:!1},u=!(!a.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1};if(o){var h="on"===e?"addEventListener":"removeEventListener";a.touch?(o[h](i.start,m,l),o[h](i.move,y,l),o[h](i.end,C,u)):(o[h](n.start,m,l),c[h](n.move,y,l),c[h](n.end,C,u))}}function A(){var e=r.scrollbar,t=r.$el;r.params.scrollbar=j(r,r.originalParams.scrollbar,r.params.scrollbar,{el:"swiper-scrollbar"});var i=r.params.scrollbar;if(i.el){var n=_(i.el);r.params.uniqueNavElements&&"string"==typeof i.el&&n.length>1&&1===t.find(i.el).length&&(n=t.find(i.el));var s=n.find(".".concat(r.params.scrollbar.dragClass));0===s.length&&(s=_('<div class="'.concat(r.params.scrollbar.dragClass,'"></div>')),n.append(s)),Object.assign(e,{$el:n,el:n[0],$dragEl:s,dragEl:s[0]}),i.draggable&&r.params.scrollbar.el&&E("on"),n&&n[r.enabled?"removeClass":"addClass"](r.params.scrollbar.lockClass)}}function T(){r.params.scrollbar.el&&E("off")}o({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}}),r.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},l("init",function(){A(),v(),p()}),l("update resize observerUpdate lock unlock",function(){v()}),l("setTranslate",function(){p()}),l("setTransition",function(e,t){!function(e){r.params.scrollbar.el&&r.scrollbar.el&&r.scrollbar.$dragEl.transition(e)}(t)}),l("enable disable",function(){var e=r.scrollbar.$el;e&&e[r.enabled?"removeClass":"addClass"](r.params.scrollbar.lockClass)}),l("destroy",function(){T()}),Object.assign(r.scrollbar,{updateSize:v,setTranslate:p,init:A,destroy:T})}function q(e){var t=e.swiper,i=e.extendParams,n=e.on;i({parallax:{enabled:!1}});var s=function(e,i){var n=t.rtl,s=_(e),r=n?-1:1,a=s.attr("data-swiper-parallax")||"0",o=s.attr("data-swiper-parallax-x"),l=s.attr("data-swiper-parallax-y"),u=s.attr("data-swiper-parallax-scale"),c=s.attr("data-swiper-parallax-opacity");if(o||l?(o=o||"0",l=l||"0"):t.isHorizontal()?(o=a,l="0"):(l=a,o="0"),o=o.indexOf("%")>=0?"".concat(parseInt(o,10)*i*r,"%"):"".concat(o*i*r,"px"),l=l.indexOf("%")>=0?"".concat(parseInt(l,10)*i,"%"):"".concat(l*i,"px"),null!=c){var h=c-(c-1)*(1-Math.abs(i));s[0].style.opacity=h}if(null==u)s.transform("translate3d(".concat(o,", ").concat(l,", 0px)"));else{var d=u-(u-1)*(1-Math.abs(i));s.transform("translate3d(".concat(o,", ").concat(l,", 0px) scale(").concat(d,")"))}},r=function(){var e=t.$el,i=t.slides,n=t.progress,r=t.snapGrid;e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(e){s(e,n)}),i.each(function(e,i){var a=e.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(a+=Math.ceil(i/2)-n*(r.length-1)),a=Math.min(Math.max(a,-1),1),_(e).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(e){s(e,a)})})};n("beforeInit",function(){t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)}),n("init",function(){t.params.parallax.enabled&&r()}),n("setTranslate",function(){t.params.parallax.enabled&&r()}),n("setTransition",function(e,i){t.params.parallax.enabled&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.params.speed;t.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t){var i=_(t),n=parseInt(i.attr("data-swiper-parallax-duration"),10)||e;0===e&&(n=0),i.transition(n)})}(i)})}function X(e){var t=e.swiper,i=e.extendParams,n=e.on,s=e.emit,r=l();i({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};var a,o,u,c=1,h=!1,d={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},f={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},p={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},v=1;function g(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY,n=e.targetTouches[1].pageX,s=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(n-t,2)+Math.pow(s-i,2))}function b(e){var i=t.support,n=t.params.zoom;if(o=!1,u=!1,!i.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;o=!0,d.scaleStart=g(e)}d.$slideEl&&d.$slideEl.length||(d.$slideEl=_(e.target).closest(".".concat(t.params.slideClass)),0===d.$slideEl.length&&(d.$slideEl=t.slides.eq(t.activeIndex)),d.$imageEl=d.$slideEl.find(".".concat(n.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),d.$imageWrapEl=d.$imageEl.parent(".".concat(n.containerClass)),d.maxRatio=d.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio,0!==d.$imageWrapEl.length)?(d.$imageEl&&d.$imageEl.transition(0),h=!0):d.$imageEl=void 0}function m(e){var i=t.support,n=t.params.zoom,s=t.zoom;if(!i.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;u=!0,d.scaleMove=g(e)}d.$imageEl&&0!==d.$imageEl.length?(i.gestures?s.scale=e.scale*c:s.scale=d.scaleMove/d.scaleStart*c,s.scale>d.maxRatio&&(s.scale=d.maxRatio-1+Math.pow(s.scale-d.maxRatio+1,.5)),s.scale<n.minRatio&&(s.scale=n.minRatio+1-Math.pow(n.minRatio-s.scale+1,.5)),d.$imageEl.transform("translate3d(0,0,0) scale(".concat(s.scale,")"))):"gesturechange"===e.type&&b(e)}function S(e){var i=t.device,n=t.support,s=t.params.zoom,r=t.zoom;if(!n.gestures){if(!o||!u)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!i.android)return;o=!1,u=!1}d.$imageEl&&0!==d.$imageEl.length&&(r.scale=Math.max(Math.min(r.scale,d.maxRatio),s.minRatio),d.$imageEl.transition(t.params.speed).transform("translate3d(0,0,0) scale(".concat(r.scale,")")),c=r.scale,h=!1,1===r.scale&&(d.$slideEl=void 0))}function y(e){var i=t.zoom;if(d.$imageEl&&0!==d.$imageEl.length&&(t.allowClick=!1,f.isTouched&&d.$slideEl)){f.isMoved||(f.width=d.$imageEl[0].offsetWidth,f.height=d.$imageEl[0].offsetHeight,f.startX=C(d.$imageWrapEl[0],"x")||0,f.startY=C(d.$imageWrapEl[0],"y")||0,d.slideWidth=d.$slideEl[0].offsetWidth,d.slideHeight=d.$slideEl[0].offsetHeight,d.$imageWrapEl.transition(0));var n=f.width*i.scale,s=f.height*i.scale;if(!(n<d.slideWidth&&s<d.slideHeight)){if(f.minX=Math.min(d.slideWidth/2-n/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-s/2,0),f.maxY=-f.minY,f.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,f.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!f.isMoved&&!h){if(t.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x))return void(f.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y))return void(f.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),f.isMoved=!0,f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX,f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY,f.currentX<f.minX&&(f.currentX=f.minX+1-Math.pow(f.minX-f.currentX+1,.8)),f.currentX>f.maxX&&(f.currentX=f.maxX-1+Math.pow(f.currentX-f.maxX+1,.8)),f.currentY<f.minY&&(f.currentY=f.minY+1-Math.pow(f.minY-f.currentY+1,.8)),f.currentY>f.maxY&&(f.currentY=f.maxY-1+Math.pow(f.currentY-f.maxY+1,.8)),p.prevPositionX||(p.prevPositionX=f.touchesCurrent.x),p.prevPositionY||(p.prevPositionY=f.touchesCurrent.y),p.prevTime||(p.prevTime=Date.now()),p.x=(f.touchesCurrent.x-p.prevPositionX)/(Date.now()-p.prevTime)/2,p.y=(f.touchesCurrent.y-p.prevPositionY)/(Date.now()-p.prevTime)/2,Math.abs(f.touchesCurrent.x-p.prevPositionX)<2&&(p.x=0),Math.abs(f.touchesCurrent.y-p.prevPositionY)<2&&(p.y=0),p.prevPositionX=f.touchesCurrent.x,p.prevPositionY=f.touchesCurrent.y,p.prevTime=Date.now(),d.$imageWrapEl.transform("translate3d(".concat(f.currentX,"px, ").concat(f.currentY,"px,0)"))}}}function E(){var e=t.zoom;d.$slideEl&&t.previousIndex!==t.activeIndex&&(d.$imageEl&&d.$imageEl.transform("translate3d(0,0,0) scale(1)"),d.$imageWrapEl&&d.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,c=1,d.$slideEl=void 0,d.$imageEl=void 0,d.$imageWrapEl=void 0)}function A(e){var i,n,s,a,o,l,u,h,p,v,g,b,m,S,y,C,E=t.zoom,A=t.params.zoom;(d.$slideEl||(e&&e.target&&(d.$slideEl=_(e.target).closest(".".concat(t.params.slideClass))),d.$slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?d.$slideEl=t.$wrapperEl.children(".".concat(t.params.slideActiveClass)):d.$slideEl=t.slides.eq(t.activeIndex)),d.$imageEl=d.$slideEl.find(".".concat(A.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),d.$imageWrapEl=d.$imageEl.parent(".".concat(A.containerClass))),d.$imageEl&&0!==d.$imageEl.length&&d.$imageWrapEl&&0!==d.$imageWrapEl.length)&&(t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),d.$slideEl.addClass("".concat(A.zoomedSlideClass)),void 0===f.touchesStart.x&&e?(i="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,n="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(i=f.touchesStart.x,n=f.touchesStart.y),E.scale=d.$imageWrapEl.attr("data-swiper-zoom")||A.maxRatio,c=d.$imageWrapEl.attr("data-swiper-zoom")||A.maxRatio,e?(y=d.$slideEl[0].offsetWidth,C=d.$slideEl[0].offsetHeight,s=d.$slideEl.offset().left+r.scrollX+y/2-i,a=d.$slideEl.offset().top+r.scrollY+C/2-n,u=d.$imageEl[0].offsetWidth,h=d.$imageEl[0].offsetHeight,p=u*E.scale,v=h*E.scale,m=-(g=Math.min(y/2-p/2,0)),S=-(b=Math.min(C/2-v/2,0)),(o=s*E.scale)<g&&(o=g),o>m&&(o=m),(l=a*E.scale)<b&&(l=b),l>S&&(l=S)):(o=0,l=0),d.$imageWrapEl.transition(300).transform("translate3d(".concat(o,"px, ").concat(l,"px,0)")),d.$imageEl.transition(300).transform("translate3d(0,0,0) scale(".concat(E.scale,")")))}function T(){var e=t.zoom,i=t.params.zoom;d.$slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?d.$slideEl=t.$wrapperEl.children(".".concat(t.params.slideActiveClass)):d.$slideEl=t.slides.eq(t.activeIndex),d.$imageEl=d.$slideEl.find(".".concat(i.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),d.$imageWrapEl=d.$imageEl.parent(".".concat(i.containerClass))),d.$imageEl&&0!==d.$imageEl.length&&d.$imageWrapEl&&0!==d.$imageWrapEl.length&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),e.scale=1,c=1,d.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),d.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),d.$slideEl.removeClass("".concat(i.zoomedSlideClass)),d.$slideEl=void 0)}function w(e){var i=t.zoom;i.scale&&1!==i.scale?T():A(e)}function k(){var e=t.support;return{passiveListener:!("touchstart"!==t.touchEvents.start||!e.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!e.passiveListener||{passive:!1,capture:!0}}}function I(){return".".concat(t.params.slideClass)}function O(e){var i=k().passiveListener,n=I();t.$wrapperEl[e]("gesturestart",n,b,i),t.$wrapperEl[e]("gesturechange",n,m,i),t.$wrapperEl[e]("gestureend",n,S,i)}function P(){a||(a=!0,O("on"))}function L(){a&&(a=!1,O("off"))}function N(){var e=t.zoom;if(!e.enabled){e.enabled=!0;var i=t.support,n=k(),s=n.passiveListener,r=n.activeListenerWithCapture,a=I();i.gestures?(t.$wrapperEl.on(t.touchEvents.start,P,s),t.$wrapperEl.on(t.touchEvents.end,L,s)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.on(t.touchEvents.start,a,b,s),t.$wrapperEl.on(t.touchEvents.move,a,m,r),t.$wrapperEl.on(t.touchEvents.end,a,S,s),t.touchEvents.cancel&&t.$wrapperEl.on(t.touchEvents.cancel,a,S,s)),t.$wrapperEl.on(t.touchEvents.move,".".concat(t.params.zoom.containerClass),y,r)}}function x(){var e=t.zoom;if(e.enabled){var i=t.support;e.enabled=!1;var n=k(),s=n.passiveListener,r=n.activeListenerWithCapture,a=I();i.gestures?(t.$wrapperEl.off(t.touchEvents.start,P,s),t.$wrapperEl.off(t.touchEvents.end,L,s)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.off(t.touchEvents.start,a,b,s),t.$wrapperEl.off(t.touchEvents.move,a,m,r),t.$wrapperEl.off(t.touchEvents.end,a,S,s),t.touchEvents.cancel&&t.$wrapperEl.off(t.touchEvents.cancel,a,S,s)),t.$wrapperEl.off(t.touchEvents.move,".".concat(t.params.zoom.containerClass),y,r)}}Object.defineProperty(t.zoom,"scale",{get:function(){return v},set:function(e){if(v!==e){var t=d.$imageEl?d.$imageEl[0]:void 0,i=d.$slideEl?d.$slideEl[0]:void 0;s("zoomChange",e,t,i)}v=e}}),n("init",function(){t.params.zoom.enabled&&N()}),n("destroy",function(){x()}),n("touchStart",function(e,i){t.zoom.enabled&&function(e){var i=t.device;d.$imageEl&&0!==d.$imageEl.length&&(f.isTouched||(i.android&&e.cancelable&&e.preventDefault(),f.isTouched=!0,f.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,f.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))}(i)}),n("touchEnd",function(e,i){t.zoom.enabled&&function(){var e=t.zoom;if(d.$imageEl&&0!==d.$imageEl.length){if(!f.isTouched||!f.isMoved)return f.isTouched=!1,void(f.isMoved=!1);f.isTouched=!1,f.isMoved=!1;var i=300,n=300,s=p.x*i,r=f.currentX+s,a=p.y*n,o=f.currentY+a;0!==p.x&&(i=Math.abs((r-f.currentX)/p.x)),0!==p.y&&(n=Math.abs((o-f.currentY)/p.y));var l=Math.max(i,n);f.currentX=r,f.currentY=o;var u=f.width*e.scale,c=f.height*e.scale;f.minX=Math.min(d.slideWidth/2-u/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-c/2,0),f.maxY=-f.minY,f.currentX=Math.max(Math.min(f.currentX,f.maxX),f.minX),f.currentY=Math.max(Math.min(f.currentY,f.maxY),f.minY),d.$imageWrapEl.transition(l).transform("translate3d(".concat(f.currentX,"px, ").concat(f.currentY,"px,0)"))}}()}),n("doubleTap",function(e,i){!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&w(i)}),n("transitionEnd",function(){t.zoom.enabled&&t.params.zoom.enabled&&E()}),n("slideChange",function(){t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&E()}),Object.assign(t.zoom,{enable:N,disable:x,in:A,out:T,toggle:w})}function K(e){var t=e.swiper,i=e.extendParams,n=e.on,s=e.emit;i({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),t.lazy={};var r=!1,a=!1;function o(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.params.lazy;if(void 0!==e&&0!==t.slides.length){var r=t.virtual&&t.params.virtual.enabled?t.$wrapperEl.children(".".concat(t.params.slideClass,'[data-swiper-slide-index="').concat(e,'"]')):t.slides.eq(e),a=r.find(".".concat(n.elementClass,":not(.").concat(n.loadedClass,"):not(.").concat(n.loadingClass,")"));!r.hasClass(n.elementClass)||r.hasClass(n.loadedClass)||r.hasClass(n.loadingClass)||a.push(r[0]),0!==a.length&&a.each(function(e){var a=_(e);a.addClass(n.loadingClass);var l=a.attr("data-background"),u=a.attr("data-src"),c=a.attr("data-srcset"),h=a.attr("data-sizes"),d=a.parent("picture");t.loadImage(a[0],u||l,c,h,!1,function(){if(null!=t&&t&&(!t||t.params)&&!t.destroyed){if(l?(a.css("background-image",'url("'.concat(l,'")')),a.removeAttr("data-background")):(c&&(a.attr("srcset",c),a.removeAttr("data-srcset")),h&&(a.attr("sizes",h),a.removeAttr("data-sizes")),d.length&&d.children("source").each(function(e){var t=_(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))}),u&&(a.attr("src",u),a.removeAttr("data-src"))),a.addClass(n.loadedClass).removeClass(n.loadingClass),r.find(".".concat(n.preloaderClass)).remove(),t.params.loop&&i){var e=r.attr("data-swiper-slide-index");r.hasClass(t.params.slideDuplicateClass)?o(t.$wrapperEl.children('[data-swiper-slide-index="'.concat(e,'"]:not(.').concat(t.params.slideDuplicateClass,")")).index(),!1):o(t.$wrapperEl.children(".".concat(t.params.slideDuplicateClass,'[data-swiper-slide-index="').concat(e,'"]')).index(),!1)}s("lazyImageReady",r[0],a[0]),t.params.autoHeight&&t.updateAutoHeight()}}),s("lazyImageLoad",r[0],a[0])})}}function u(){var e=t.$wrapperEl,i=t.params,n=t.slides,s=t.activeIndex,r=t.virtual&&i.virtual.enabled,l=i.lazy,u=i.slidesPerView;function c(t){if(r){if(e.children(".".concat(i.slideClass,'[data-swiper-slide-index="').concat(t,'"]')).length)return!0}else if(n[t])return!0;return!1}function h(e){return r?_(e).attr("data-swiper-slide-index"):_(e).index()}if("auto"===u&&(u=0),a||(a=!0),t.params.watchSlidesProgress)e.children(".".concat(i.slideVisibleClass)).each(function(e){o(r?_(e).attr("data-swiper-slide-index"):_(e).index())});else if(u>1)for(var d=s;d<s+u;d+=1)c(d)&&o(d);else o(s);if(l.loadPrevNext)if(u>1||l.loadPrevNextAmount&&l.loadPrevNextAmount>1){for(var f=l.loadPrevNextAmount,p=u,v=Math.min(s+p+Math.max(f,p),n.length),g=Math.max(s-Math.max(p,f),0),b=s+u;b<v;b+=1)c(b)&&o(b);for(var m=g;m<s;m+=1)c(m)&&o(m)}else{var S=e.children(".".concat(i.slideNextClass));S.length>0&&o(h(S));var y=e.children(".".concat(i.slidePrevClass));y.length>0&&o(h(y))}}function c(){var e=l();if(t&&!t.destroyed){var i=t.params.lazy.scrollingElement?_(t.params.lazy.scrollingElement):_(e),n=i[0]===e,s=n?e.innerWidth:i[0].offsetWidth,a=n?e.innerHeight:i[0].offsetHeight,o=t.$el.offset(),h=!1;t.rtlTranslate&&(o.left-=t.$el[0].scrollLeft);for(var d=[[o.left,o.top],[o.left+t.width,o.top],[o.left,o.top+t.height],[o.left+t.width,o.top+t.height]],f=0;f<d.length;f+=1){var p=d[f];if(p[0]>=0&&p[0]<=s&&p[1]>=0&&p[1]<=a){if(0===p[0]&&0===p[1])continue;h=!0}}var v=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};h?(u(),i.off("scroll",c,v)):r||(r=!0,i.on("scroll",c,v))}}n("beforeInit",function(){t.params.lazy.enabled&&t.params.preloadImages&&(t.params.preloadImages=!1)}),n("init",function(){t.params.lazy.enabled&&(t.params.lazy.checkInView?c():u())}),n("scroll",function(){t.params.freeMode&&t.params.freeMode.enabled&&!t.params.freeMode.sticky&&u()}),n("scrollbarDragMove resize _freeModeNoMomentumRelease",function(){t.params.lazy.enabled&&(t.params.lazy.checkInView?c():u())}),n("transitionStart",function(){t.params.lazy.enabled&&(t.params.lazy.loadOnTransitionStart||!t.params.lazy.loadOnTransitionStart&&!a)&&(t.params.lazy.checkInView?c():u())}),n("transitionEnd",function(){t.params.lazy.enabled&&!t.params.lazy.loadOnTransitionStart&&(t.params.lazy.checkInView?c():u())}),n("slideChange",function(){var e=t.params,i=e.lazy,n=e.cssMode,s=e.watchSlidesProgress,r=e.touchReleaseOnEdges,a=e.resistanceRatio;i.enabled&&(n||s&&(r||0===a))&&u()}),Object.assign(t.lazy,{load:u,loadInSlide:o})}function J(e){var t=e.swiper,i=e.extendParams,n=e.on;function s(e,t){var i,n,s=function(){var e,t,i;return function(n,s){for(t=-1,e=n.length;e-t>1;)n[i=e+t>>1]<=s?t=i:e=i;return e}}();return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=s(this.x,e),i=n-1,(e-this.x[i])*(this.y[n]-this.y[i])/(this.x[n]-this.x[i])+this.y[i]):0},this}function r(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}i({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},n("beforeInit",function(){t.controller.control=t.params.controller.control}),n("update",function(){r()}),n("resize",function(){r()}),n("observerUpdate",function(){r()}),n("setTranslate",function(e,i,n){t.controller.control&&t.controller.setTranslate(i,n)}),n("setTransition",function(e,i,n){t.controller.control&&t.controller.setTransition(i,n)}),Object.assign(t.controller,{setTranslate:function(e,i){var n,r,a=t.controller.control,o=t.constructor;function l(e){var i=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(function(e){t.controller.spline||(t.controller.spline=t.params.loop?new s(t.slidesGrid,e.slidesGrid):new s(t.snapGrid,e.snapGrid))}(e),r=-t.controller.spline.interpolate(-i)),r&&"container"!==t.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),r=(i-t.minTranslate())*n+e.minTranslate()),t.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(a))for(var u=0;u<a.length;u+=1)a[u]!==i&&a[u]instanceof o&&l(a[u]);else a instanceof o&&i!==a&&l(a)},setTransition:function(e,i){var n,s=t.constructor,r=t.controller.control;function a(i){i.setTransition(e,t),0!==e&&(i.transitionStart(),i.params.autoHeight&&S(function(){i.updateAutoHeight()}),i.$wrapperEl.transitionEnd(function(){r&&(i.params.loop&&"slide"===t.params.controller.by&&i.loopFix(),i.transitionEnd())}))}if(Array.isArray(r))for(n=0;n<r.length;n+=1)r[n]!==i&&r[n]instanceof s&&a(r[n]);else r instanceof s&&i!==r&&a(r)}})}function $(e){var t=e.swiper,i=e.extendParams,n=e.on;i({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}});var s=null;function r(e){var t=s;0!==t.length&&(t.html(""),t.html(e))}function a(e){e.attr("tabIndex","0")}function o(e){e.attr("tabIndex","-1")}function l(e,t){e.attr("role",t)}function u(e,t){e.attr("aria-roledescription",t)}function c(e,t){e.attr("aria-label",t)}function h(e){e.attr("aria-disabled",!0)}function d(e){e.attr("aria-disabled",!1)}function f(e){if(13===e.keyCode||32===e.keyCode){var i=t.params.a11y,n=_(e.target);t.navigation&&t.navigation.$nextEl&&n.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?r(i.lastSlideMessage):r(i.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&n.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?r(i.firstSlideMessage):r(i.prevSlideMessage)),t.pagination&&n.is(Y(t.params.pagination.bulletClass))&&n[0].click()}}function p(){if(!t.params.loop&&!t.params.rewind&&t.navigation){var e=t.navigation,i=e.$nextEl,n=e.$prevEl;n&&n.length>0&&(t.isBeginning?(h(n),o(n)):(d(n),a(n))),i&&i.length>0&&(t.isEnd?(h(i),o(i)):(d(i),a(i)))}}function v(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function g(){return v()&&t.params.pagination.clickable}var b=function(e,t,i){a(e),"BUTTON"!==e[0].tagName&&(l(e,"button"),e.on("keydown",f)),c(e,i),function(e,t){e.attr("aria-controls",t)}(e,t)};n("beforeInit",function(){s=_('<span class="'.concat(t.params.a11y.notificationClass,'" aria-live="assertive" aria-atomic="true"></span>'))}),n("afterInit",function(){t.params.a11y.enabled&&(function(){var e=t.params.a11y;t.$el.append(s);var i=t.$el;e.containerRoleDescriptionMessage&&u(i,e.containerRoleDescriptionMessage),e.containerMessage&&c(i,e.containerMessage);var n=t.$wrapperEl,r=n.attr("id")||"swiper-wrapper-".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;return"x".repeat(e).replace(/x/g,function(){return Math.round(16*Math.random()).toString(16)})}(16)),a=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";!function(e,t){n.attr("id",t)}(0,r),function(e,t){n.attr("aria-live",t)}(0,a),e.itemRoleDescriptionMessage&&u(_(t.slides),e.itemRoleDescriptionMessage),l(_(t.slides),e.slideRole);var o,h,d=t.params.loop?t.slides.filter(function(e){return!e.classList.contains(t.params.slideDuplicateClass)}).length:t.slides.length;t.slides.each(function(i,n){var s=_(i),r=t.params.loop?parseInt(s.attr("data-swiper-slide-index"),10):n;c(s,e.slideLabelMessage.replace(/\{\{index\}\}/,r+1).replace(/\{\{slidesLength\}\}/,d))}),t.navigation&&t.navigation.$nextEl&&(o=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(h=t.navigation.$prevEl),o&&o.length&&b(o,r,e.nextSlideMessage),h&&h.length&&b(h,r,e.prevSlideMessage),g()&&t.pagination.$el.on("keydown",Y(t.params.pagination.bulletClass),f)}(),p())}),n("toEdge",function(){t.params.a11y.enabled&&p()}),n("fromEdge",function(){t.params.a11y.enabled&&p()}),n("paginationUpdate",function(){var e;t.params.a11y.enabled&&(e=t.params.a11y,v()&&t.pagination.bullets.each(function(i){var n=_(i);t.params.pagination.clickable&&(a(n),t.params.pagination.renderBullet||(l(n,"button"),c(n,e.paginationBulletMessage.replace(/\{\{index\}\}/,n.index()+1)))),n.is(".".concat(t.params.pagination.bulletActiveClass))?n.attr("aria-current","true"):n.removeAttr("aria-current")}))}),n("destroy",function(){var e,i;t.params.a11y.enabled&&(s&&s.length>0&&s.remove(),t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(i=t.navigation.$prevEl),e&&e.off("keydown",f),i&&i.off("keydown",f),g()&&t.pagination.$el.off("keydown",Y(t.params.pagination.bulletClass),f))})}function Z(e){var t=e.swiper,i=e.extendParams,n=e.on;i({history:{enabled:!1,root:"",replaceState:!1,key:"slides"}});var s=!1,r={},a=function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},o=function(e){var t=l(),i=(e?new URL(e):t.location).pathname.slice(1).split("/").filter(function(e){return""!==e}),n=i.length;return{key:i[n-2],value:i[n-1]}},u=function(e,i){var n=l();if(s&&t.params.history.enabled){var r;r=t.params.url?new URL(t.params.url):n.location;var o=t.slides.eq(i),u=a(o.attr("data-history"));if(t.params.history.root.length>0){var c=t.params.history.root;"/"===c[c.length-1]&&(c=c.slice(0,c.length-1)),u="".concat(c,"/").concat(e,"/").concat(u)}else r.pathname.includes(e)||(u="".concat(e,"/").concat(u));var h=n.history.state;h&&h.value===u||(t.params.history.replaceState?n.history.replaceState({value:u},null,u):n.history.pushState({value:u},null,u))}},c=function(e,i,n){if(i)for(var s=0,r=t.slides.length;s<r;s+=1){var o=t.slides.eq(s);if(a(o.attr("data-history"))===i&&!o.hasClass(t.params.slideDuplicateClass)){var l=o.index();t.slideTo(l,e,n)}}else t.slideTo(0,e,n)},h=function(){r=o(t.params.url),c(t.params.speed,t.paths.value,!1)};n("init",function(){t.params.history.enabled&&function(){var e=l();if(t.params.history){if(!e.history||!e.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);s=!0,((r=o(t.params.url)).key||r.value)&&(c(0,r.value,t.params.runCallbacksOnInit),t.params.history.replaceState||e.addEventListener("popstate",h))}}()}),n("destroy",function(){var e;t.params.history.enabled&&(e=l(),t.params.history.replaceState||e.removeEventListener("popstate",h))}),n("transitionEnd _freeModeNoMomentumRelease",function(){s&&u(t.params.history.key,t.activeIndex)}),n("slideChange",function(){s&&t.params.cssMode&&u(t.params.history.key,t.activeIndex)})}function Q(e){var t=e.swiper,i=e.extendParams,n=e.emit,s=e.on,r=!1,o=a(),u=l();i({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}});var c=function(){n("hashChange");var e=o.location.hash.replace("#","");if(e!==t.slides.eq(t.activeIndex).attr("data-hash")){var i=t.$wrapperEl.children(".".concat(t.params.slideClass,'[data-hash="').concat(e,'"]')).index();if(void 0===i)return;t.slideTo(i)}},h=function(){if(r&&t.params.hashNavigation.enabled)if(t.params.hashNavigation.replaceState&&u.history&&u.history.replaceState)u.history.replaceState(null,null,"#".concat(t.slides.eq(t.activeIndex).attr("data-hash"))||""),n("hashSet");else{var e=t.slides.eq(t.activeIndex),i=e.attr("data-hash")||e.attr("data-history");o.location.hash=i||"",n("hashSet")}};s("init",function(){t.params.hashNavigation.enabled&&function(){if(!(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)){r=!0;var e=o.location.hash.replace("#","");if(e)for(var i=0,n=t.slides.length;i<n;i+=1){var s=t.slides.eq(i);if((s.attr("data-hash")||s.attr("data-history"))===e&&!s.hasClass(t.params.slideDuplicateClass)){var a=s.index();t.slideTo(a,0,t.params.runCallbacksOnInit,!0)}}t.params.hashNavigation.watchState&&_(u).on("hashchange",c)}}()}),s("destroy",function(){t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&_(u).off("hashchange",c)}),s("transitionEnd _freeModeNoMomentumRelease",function(){r&&h()}),s("slideChange",function(){r&&t.params.cssMode&&h()})}function ee(e){var t,i=e.swiper,n=e.extendParams,s=e.on,r=e.emit;function o(){var e=i.slides.eq(i.activeIndex),n=i.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(n=e.attr("data-swiper-autoplay")||i.params.autoplay.delay),clearTimeout(t),t=S(function(){var e;i.params.autoplay.reverseDirection?i.params.loop?(i.loopFix(),e=i.slidePrev(i.params.speed,!0,!0),r("autoplay")):i.isBeginning?i.params.autoplay.stopOnLastSlide?u():(e=i.slideTo(i.slides.length-1,i.params.speed,!0,!0),r("autoplay")):(e=i.slidePrev(i.params.speed,!0,!0),r("autoplay")):i.params.loop?(i.loopFix(),e=i.slideNext(i.params.speed,!0,!0),r("autoplay")):i.isEnd?i.params.autoplay.stopOnLastSlide?u():(e=i.slideTo(0,i.params.speed,!0,!0),r("autoplay")):(e=i.slideNext(i.params.speed,!0,!0),r("autoplay")),i.params.cssMode&&i.autoplay.running?o():!1===e&&o()},n)}function l(){return void 0===t&&!i.autoplay.running&&(i.autoplay.running=!0,r("autoplayStart"),o(),!0)}function u(){return!!i.autoplay.running&&void 0!==t&&(t&&(clearTimeout(t),t=void 0),i.autoplay.running=!1,r("autoplayStop"),!0)}function c(e){i.autoplay.running&&(i.autoplay.paused||(t&&clearTimeout(t),i.autoplay.paused=!0,0!==e&&i.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(function(e){i.$wrapperEl[0].addEventListener(e,d)}):(i.autoplay.paused=!1,o())))}function h(){var e=a();"hidden"===e.visibilityState&&i.autoplay.running&&c(),"visible"===e.visibilityState&&i.autoplay.paused&&(o(),i.autoplay.paused=!1)}function d(e){i&&!i.destroyed&&i.$wrapperEl&&e.target===i.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(function(e){i.$wrapperEl[0].removeEventListener(e,d)}),i.autoplay.paused=!1,i.autoplay.running?o():u())}function f(){i.params.autoplay.disableOnInteraction?u():c(),["transitionend","webkitTransitionEnd"].forEach(function(e){i.$wrapperEl[0].removeEventListener(e,d)})}function p(){i.params.autoplay.disableOnInteraction||(i.autoplay.paused=!1,o())}i.autoplay={running:!1,paused:!1},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),s("init",function(){i.params.autoplay.enabled&&(l(),a().addEventListener("visibilitychange",h),i.params.autoplay.pauseOnMouseEnter&&(i.$el.on("mouseenter",f),i.$el.on("mouseleave",p)))}),s("beforeTransitionStart",function(e,t,n){i.autoplay.running&&(n||!i.params.autoplay.disableOnInteraction?i.autoplay.pause(t):u())}),s("sliderFirstMove",function(){i.autoplay.running&&(i.params.autoplay.disableOnInteraction?u():c())}),s("touchEnd",function(){i.params.cssMode&&i.autoplay.paused&&!i.params.autoplay.disableOnInteraction&&o()}),s("destroy",function(){i.$el.off("mouseenter",f),i.$el.off("mouseleave",p),i.autoplay.running&&u(),a().removeEventListener("visibilitychange",h)}),Object.assign(i.autoplay,{pause:c,run:o,start:l,stop:u})}function te(e){var t=e.swiper,i=e.extendParams,n=e.on;i({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});var s=!1,r=!1;function a(){var e=t.thumbs.swiper;if(e){var i=e.clickedIndex,n=e.clickedSlide;if(!(n&&_(n).hasClass(t.params.thumbs.slideThumbActiveClass)||null==i)){var s;if(s=e.params.loop?parseInt(_(e.clickedSlide).attr("data-swiper-slide-index"),10):i,t.params.loop){var r=t.activeIndex;t.slides.eq(r).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,r=t.activeIndex);var a=t.slides.eq(r).prevAll('[data-swiper-slide-index="'.concat(s,'"]')).eq(0).index(),o=t.slides.eq(r).nextAll('[data-swiper-slide-index="'.concat(s,'"]')).eq(0).index();s=void 0===a?o:void 0===o?a:o-r<r-a?o:a}t.slideTo(s)}}}function o(){var e=t.params.thumbs;if(s)return!1;s=!0;var i=t.constructor;if(e.swiper instanceof i)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(E(e.swiper)){var n=Object.assign({},e.swiper);Object.assign(n,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new i(n),r=!0}return t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",a),!0}function l(e){var i=t.thumbs.swiper;if(i){var n="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView,s=t.params.thumbs.autoScrollOffset,r=s&&!i.params.loop;if(t.realIndex!==i.realIndex||r){var a,o,l=i.activeIndex;if(i.params.loop){i.slides.eq(l).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,l=i.activeIndex);var u=i.slides.eq(l).prevAll('[data-swiper-slide-index="'.concat(t.realIndex,'"]')).eq(0).index(),c=i.slides.eq(l).nextAll('[data-swiper-slide-index="'.concat(t.realIndex,'"]')).eq(0).index();a=void 0===u?c:void 0===c?u:c-l==l-u?i.params.slidesPerGroup>1?c:l:c-l<l-u?c:u,o=t.activeIndex>t.previousIndex?"next":"prev"}else o=(a=t.realIndex)>t.previousIndex?"next":"prev";r&&(a+="next"===o?s:-1*s),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(a)<0&&(i.params.centeredSlides?a=a>l?a-Math.floor(n/2)+1:a+Math.floor(n/2)-1:a>l&&i.params.slidesPerGroup,i.slideTo(a,e?0:void 0))}var h=1,d=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(h=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),i.slides.removeClass(d),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(var f=0;f<h;f+=1)i.$wrapperEl.children('[data-swiper-slide-index="'.concat(t.realIndex+f,'"]')).addClass(d);else for(var p=0;p<h;p+=1)i.slides.eq(t.realIndex+p).addClass(d)}}t.thumbs={swiper:null},n("beforeInit",function(){var e=t.params.thumbs;e&&e.swiper&&(o(),l(!0))}),n("slideChange update resize observerUpdate",function(){t.thumbs.swiper&&l()}),n("setTransition",function(e,i){var n=t.thumbs.swiper;n&&n.setTransition(i)}),n("beforeDestroy",function(){var e=t.thumbs.swiper;e&&r&&e&&e.destroy()}),Object.assign(t.thumbs,{init:o,update:l})}function ie(e){var t=e.swiper,i=e.extendParams,n=e.emit,s=e.once;i({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchMove:function(){var e=t.touchEventsData,i=t.touches;0===e.velocities.length&&e.velocities.push({position:i[t.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:i[t.isHorizontal()?"currentX":"currentY"],time:y()})},onTouchEnd:function(e){var i=e.currentPos,r=t.params,a=t.$wrapperEl,o=t.rtlTranslate,l=t.snapGrid,u=t.touchEventsData,c=y()-u.touchStartTime;if(i<-t.minTranslate())t.slideTo(t.activeIndex);else if(i>-t.maxTranslate())t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1);else{if(r.freeMode.momentum){if(u.velocities.length>1){var h=u.velocities.pop(),d=u.velocities.pop(),f=h.position-d.position,p=h.time-d.time;t.velocity=f/p,t.velocity/=2,Math.abs(t.velocity)<r.freeMode.minimumVelocity&&(t.velocity=0),(p>150||y()-h.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeMode.momentumVelocityRatio,u.velocities.length=0;var v=1e3*r.freeMode.momentumRatio,g=t.velocity*v,b=t.translate+g;o&&(b=-b);var m,_,S=!1,C=20*Math.abs(t.velocity)*r.freeMode.momentumBounceRatio;if(b<t.maxTranslate())r.freeMode.momentumBounce?(b+t.maxTranslate()<-C&&(b=t.maxTranslate()-C),m=t.maxTranslate(),S=!0,u.allowMomentumBounce=!0):b=t.maxTranslate(),r.loop&&r.centeredSlides&&(_=!0);else if(b>t.minTranslate())r.freeMode.momentumBounce?(b-t.minTranslate()>C&&(b=t.minTranslate()+C),m=t.minTranslate(),S=!0,u.allowMomentumBounce=!0):b=t.minTranslate(),r.loop&&r.centeredSlides&&(_=!0);else if(r.freeMode.sticky){for(var E,A=0;A<l.length;A+=1)if(l[A]>-b){E=A;break}b=-(b=Math.abs(l[E]-b)<Math.abs(l[E-1]-b)||"next"===t.swipeDirection?l[E]:l[E-1])}if(_&&s("transitionEnd",function(){t.loopFix()}),0!==t.velocity){if(v=o?Math.abs((-b-t.translate)/t.velocity):Math.abs((b-t.translate)/t.velocity),r.freeMode.sticky){var T=Math.abs((o?-b:b)-t.translate),w=t.slidesSizesGrid[t.activeIndex];v=T<w?r.speed:T<2*w?1.5*r.speed:2.5*r.speed}}else if(r.freeMode.sticky)return void t.slideToClosest();r.freeMode.momentumBounce&&S?(t.updateProgress(m),t.setTransition(v),t.setTranslate(b),t.transitionStart(!0,t.swipeDirection),t.animating=!0,a.transitionEnd(function(){t&&!t.destroyed&&u.allowMomentumBounce&&(n("momentumBounce"),t.setTransition(r.speed),setTimeout(function(){t.setTranslate(m),a.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()})},0))})):t.velocity?(n("_freeModeNoMomentumRelease"),t.updateProgress(b),t.setTransition(v),t.setTranslate(b),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,a.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(b),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(r.freeMode.sticky)return void t.slideToClosest();r.freeMode&&n("_freeModeNoMomentumRelease")}(!r.freeMode.momentum||c>=r.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})}function ne(e){var t,i,n,s=e.swiper;(0,e.extendParams)({grid:{rows:1,fill:"column"}}),s.grid={initSlides:function(e){var r=s.params.slidesPerView,a=s.params.grid,o=a.rows,l=a.fill;i=t/o,n=Math.floor(e/o),t=Math.floor(e/o)===e/o?e:Math.ceil(e/o)*o,"auto"!==r&&"row"===l&&(t=Math.max(t,r*o))},updateSlide:function(e,r,a,o){var l,u,c,h=s.params,d=h.slidesPerGroup,f=h.spaceBetween,p=s.params.grid,v=p.rows,g=p.fill;if("row"===g&&d>1){var b=Math.floor(e/(d*v)),m=e-v*d*b,_=0===b?d:Math.min(Math.ceil((a-b*v*d)/v),d);l=(u=m-(c=Math.floor(m/_))*_+b*d)+c*t/v,r.css({"-webkit-order":l,order:l})}else"column"===g?(c=e-(u=Math.floor(e/v))*v,(u>n||u===n&&c===v-1)&&(c+=1)>=v&&(c=0,u+=1)):u=e-(c=Math.floor(e/i))*i;r.css(o("margin-top"),0!==c?f&&"".concat(f,"px"):"")},updateWrapperSize:function(e,i,n){var r=s.params,a=r.spaceBetween,o=r.centeredSlides,l=r.roundLengths,u=s.params.grid.rows;if(s.virtualSize=(e+a)*t,s.virtualSize=Math.ceil(s.virtualSize/u)-a,s.$wrapperEl.css(_defineProperty({},n("width"),"".concat(s.virtualSize+a,"px"))),o){i.splice(0,i.length);for(var c=[],h=0;h<i.length;h+=1){var d=i[h];l&&(d=Math.floor(d)),i[h]<s.virtualSize+i[0]&&c.push(d)}i.push.apply(i,c)}}}}function se(e){var t=e.swiper;Object.assign(t,{appendSlide:function(e){var t=this,i=t.$wrapperEl,n=t.params;if(n.loop&&t.loopDestroy(),"object"==_typeof(e)&&"length"in e)for(var s=0;s<e.length;s+=1)e[s]&&i.append(e[s]);else i.append(e);n.loop&&t.loopCreate(),n.observer||t.update()}.bind(t),prependSlide:function(e){var t=this,i=t.params,n=t.$wrapperEl,s=t.activeIndex;i.loop&&t.loopDestroy();var r=s+1;if("object"==_typeof(e)&&"length"in e){for(var a=0;a<e.length;a+=1)e[a]&&n.prepend(e[a]);r=s+e.length}else n.prepend(e);i.loop&&t.loopCreate(),i.observer||t.update(),t.slideTo(r,0,!1)}.bind(t),addSlide:function(e,t){var i=this,n=i.$wrapperEl,s=i.params,r=i.activeIndex;s.loop&&(r-=i.loopedSlides,i.loopDestroy(),i.slides=n.children(".".concat(s.slideClass)));var a=i.slides.length;if(e<=0)i.prependSlide(t);else if(e>=a)i.appendSlide(t);else{for(var o=r>e?r+1:r,l=[],u=a-1;u>=e;u-=1){var c=i.slides.eq(u);c.remove(),l.unshift(c)}if("object"==_typeof(t)&&"length"in t){for(var h=0;h<t.length;h+=1)t[h]&&n.append(t[h]);o=r>e?r+t.length:r}else n.append(t);for(var d=0;d<l.length;d+=1)n.append(l[d]);s.loop&&i.loopCreate(),s.observer||i.update(),s.loop?i.slideTo(o+i.loopedSlides,0,!1):i.slideTo(o,0,!1)}}.bind(t),removeSlide:function(e){var t=this,i=t.params,n=t.$wrapperEl,s=t.activeIndex;i.loop&&(s-=t.loopedSlides,t.loopDestroy(),t.slides=n.children(".".concat(i.slideClass)));var r,a=s;if("object"==_typeof(e)&&"length"in e){for(var o=0;o<e.length;o+=1)r=e[o],t.slides[r]&&t.slides.eq(r).remove(),r<a&&(a-=1);a=Math.max(a,0)}else r=e,t.slides[r]&&t.slides.eq(r).remove(),r<a&&(a-=1),a=Math.max(a,0);i.loop&&t.loopCreate(),i.observer||t.update(),i.loop?t.slideTo(a+t.loopedSlides,0,!1):t.slideTo(a,0,!1)}.bind(t),removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}.bind(t)})}function re(e){var t=e.effect,i=e.swiper,n=e.on,s=e.setTranslate,r=e.setTransition,a=e.overwriteParams,o=e.perspective;n("beforeInit",function(){if(i.params.effect===t){i.classNames.push("".concat(i.params.containerModifierClass).concat(t)),o&&o()&&i.classNames.push("".concat(i.params.containerModifierClass,"3d"));var e=a?a():{};Object.assign(i.params,e),Object.assign(i.originalParams,e)}}),n("setTranslate",function(){i.params.effect===t&&s()}),n("setTransition",function(e,n){i.params.effect===t&&r(n)})}function ae(e,t){return e.transformEl?t.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):t}function oe(e){var t=e.swiper,i=e.duration,n=e.transformEl,s=e.allSlides,r=t.slides,a=t.activeIndex,o=t.$wrapperEl;if(t.params.virtualTranslate&&0!==i){var l=!1;(s?n?r.find(n):r:n?r.eq(a).find(n):r.eq(a)).transitionEnd(function(){if(!l&&t&&!t.destroyed){l=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],i=0;i<e.length;i+=1)o.trigger(e[i])}})}}function le(e){var t=e.swiper,i=e.extendParams,n=e.on;i({fadeEffect:{crossFade:!1,transformEl:null}}),re({effect:"fade",swiper:t,on:n,setTranslate:function(){for(var e=t.slides,i=t.params.fadeEffect,n=0;n<e.length;n+=1){var s=t.slides.eq(n),r=-s[0].swiperSlideOffset;t.params.virtualTranslate||(r-=t.translate);var a=0;t.isHorizontal()||(a=r,r=0);var o=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(s[0].progress),0):1+Math.min(Math.max(s[0].progress,-1),0);ae(i,s).css({opacity:o}).transform("translate3d(".concat(r,"px, ").concat(a,"px, 0px)"))}},setTransition:function(e){var i=t.params.fadeEffect.transformEl;(i?t.slides.find(i):t.slides).transition(e),oe({swiper:t,duration:e,transformEl:i,allSlides:!0})},overwriteParams:function(){return{slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode}}})}function ue(e){var t=e.swiper,i=e.extendParams,n=e.on;i({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}}),re({effect:"cube",swiper:t,on:n,setTranslate:function(){var e,i=t.$el,n=t.$wrapperEl,s=t.slides,r=t.width,a=t.height,o=t.rtlTranslate,l=t.size,u=t.browser,c=t.params.cubeEffect,h=t.isHorizontal(),d=t.virtual&&t.params.virtual.enabled,f=0;c.shadow&&(h?(0===(e=n.find(".swiper-cube-shadow")).length&&(e=_('<div class="swiper-cube-shadow"></div>'),n.append(e)),e.css({height:"".concat(r,"px")})):0===(e=i.find(".swiper-cube-shadow")).length&&(e=_('<div class="swiper-cube-shadow"></div>'),i.append(e)));for(var p=0;p<s.length;p+=1){var v=s.eq(p),g=p;d&&(g=parseInt(v.attr("data-swiper-slide-index"),10));var b=90*g,m=Math.floor(b/360);o&&(b=-b,m=Math.floor(-b/360));var S=Math.max(Math.min(v[0].progress,1),-1),y=0,C=0,E=0;g%4==0?(y=4*-m*l,E=0):(g-1)%4==0?(y=0,E=4*-m*l):(g-2)%4==0?(y=l+4*m*l,E=l):(g-3)%4==0&&(y=-l,E=3*l+4*l*m),o&&(y=-y),h||(C=y,y=0);var A="rotateX(".concat(h?0:-b,"deg) rotateY(").concat(h?b:0,"deg) translate3d(").concat(y,"px, ").concat(C,"px, ").concat(E,"px)");if(S<=1&&S>-1&&(f=90*g+90*S,o&&(f=90*-g-90*S)),v.transform(A),c.slideShadows){var T=h?v.find(".swiper-slide-shadow-left"):v.find(".swiper-slide-shadow-top"),w=h?v.find(".swiper-slide-shadow-right"):v.find(".swiper-slide-shadow-bottom");0===T.length&&(T=_('<div class="swiper-slide-shadow-'.concat(h?"left":"top",'"></div>')),v.append(T)),0===w.length&&(w=_('<div class="swiper-slide-shadow-'.concat(h?"right":"bottom",'"></div>')),v.append(w)),T.length&&(T[0].style.opacity=Math.max(-S,0)),w.length&&(w[0].style.opacity=Math.max(S,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -".concat(l/2,"px"),"transform-origin":"50% 50% -".concat(l/2,"px")}),c.shadow)if(h)e.transform("translate3d(0px, ".concat(r/2+c.shadowOffset,"px, ").concat(-r/2,"px) rotateX(90deg) rotateZ(0deg) scale(").concat(c.shadowScale,")"));else{var k=Math.abs(f)-90*Math.floor(Math.abs(f)/90),I=1.5-(Math.sin(2*k*Math.PI/360)/2+Math.cos(2*k*Math.PI/360)/2),O=c.shadowScale,P=c.shadowScale/I,L=c.shadowOffset;e.transform("scale3d(".concat(O,", 1, ").concat(P,") translate3d(0px, ").concat(a/2+L,"px, ").concat(-a/2/P,"px) rotateX(-90deg)"))}var N=u.isSafari||u.isWebView?-l/2:0;n.transform("translate3d(0px,0,".concat(N,"px) rotateX(").concat(t.isHorizontal()?0:f,"deg) rotateY(").concat(t.isHorizontal()?-f:0,"deg)"))},setTransition:function(e){var i=t.$el;t.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&i.find(".swiper-cube-shadow").transition(e)},perspective:function(){return!0},overwriteParams:function(){return{slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0}}})}function ce(e,t,i){var n="swiper-slide-shadow".concat(i?"-".concat(i):""),s=e.transformEl?t.find(e.transformEl):t,r=s.children(".".concat(n));return r.length||(r=_('<div class="swiper-slide-shadow'.concat(i?"-".concat(i):"",'"></div>')),s.append(r)),r}function he(e){var t=e.swiper,i=e.extendParams,n=e.on;i({flipEffect:{slideShadows:!0,limitRotation:!0,transformEl:null}}),re({effect:"flip",swiper:t,on:n,setTranslate:function(){for(var e=t.slides,i=t.rtlTranslate,n=t.params.flipEffect,s=0;s<e.length;s+=1){var r=e.eq(s),a=r[0].progress;t.params.flipEffect.limitRotation&&(a=Math.max(Math.min(r[0].progress,1),-1));var o=r[0].swiperSlideOffset,l=-180*a,u=0,c=t.params.cssMode?-o-t.translate:-o,h=0;if(t.isHorizontal()?i&&(l=-l):(h=c,c=0,u=-l,l=0),r[0].style.zIndex=-Math.abs(Math.round(a))+e.length,n.slideShadows){var d=t.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),f=t.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===d.length&&(d=ce(n,r,t.isHorizontal()?"left":"top")),0===f.length&&(f=ce(n,r,t.isHorizontal()?"right":"bottom")),d.length&&(d[0].style.opacity=Math.max(-a,0)),f.length&&(f[0].style.opacity=Math.max(a,0))}var p="translate3d(".concat(c,"px, ").concat(h,"px, 0px) rotateX(").concat(u,"deg) rotateY(").concat(l,"deg)");ae(n,r).transform(p)}},setTransition:function(e){var i=t.params.flipEffect.transformEl;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),oe({swiper:t,duration:e,transformEl:i})},perspective:function(){return!0},overwriteParams:function(){return{slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode}}})}function de(e){var t=e.swiper,i=e.extendParams,n=e.on;i({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),re({effect:"coverflow",swiper:t,on:n,setTranslate:function(){for(var e=t.width,i=t.height,n=t.slides,s=t.slidesSizesGrid,r=t.params.coverflowEffect,a=t.isHorizontal(),o=t.translate,l=a?e/2-o:i/2-o,u=a?r.rotate:-r.rotate,c=r.depth,h=0,d=n.length;h<d;h+=1){var f=n.eq(h),p=s[h],v=(l-f[0].swiperSlideOffset-p/2)/p*r.modifier,g=a?u*v:0,b=a?0:u*v,m=-c*Math.abs(v),_=r.stretch;"string"==typeof _&&-1!==_.indexOf("%")&&(_=parseFloat(r.stretch)/100*p);var S=a?0:_*v,y=a?_*v:0,C=1-(1-r.scale)*Math.abs(v);Math.abs(y)<.001&&(y=0),Math.abs(S)<.001&&(S=0),Math.abs(m)<.001&&(m=0),Math.abs(g)<.001&&(g=0),Math.abs(b)<.001&&(b=0),Math.abs(C)<.001&&(C=0);var E="translate3d(".concat(y,"px,").concat(S,"px,").concat(m,"px)  rotateX(").concat(b,"deg) rotateY(").concat(g,"deg) scale(").concat(C,")");if(ae(r,f).transform(E),f[0].style.zIndex=1-Math.abs(Math.round(v)),r.slideShadows){var A=a?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),T=a?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===A.length&&(A=ce(r,f,a?"left":"top")),0===T.length&&(T=ce(r,f,a?"right":"bottom")),A.length&&(A[0].style.opacity=v>0?v:0),T.length&&(T[0].style.opacity=-v>0?-v:0)}}},setTransition:function(e){var i=t.params.coverflowEffect.transformEl;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)},perspective:function(){return!0},overwriteParams:function(){return{watchSlidesProgress:!0}}})}function fe(e){var t=e.swiper,i=e.extendParams,n=e.on;i({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});re({effect:"creative",swiper:t,on:n,setTranslate:function(){var e=t.slides,i=t.$wrapperEl,n=t.slidesSizesGrid,s=t.params.creativeEffect,r=s.progressMultiplier,a=t.params.centeredSlides;if(a){var o=n[0]/2-t.params.slidesOffsetBefore||0;i.transform("translateX(calc(50% - ".concat(o,"px))"))}for(var l=function(i){var n=e.eq(i),o=n[0].progress,l=Math.min(Math.max(n[0].progress,-s.limitProgress),s.limitProgress),u=l;a||(u=Math.min(Math.max(n[0].originalProgress,-s.limitProgress),s.limitProgress));var c=n[0].swiperSlideOffset,h=[t.params.cssMode?-c-t.translate:-c,0,0],d=[0,0,0],f=!1;t.isHorizontal()||(h[1]=h[0],h[0]=0);var p={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};l<0?(p=s.next,f=!0):l>0&&(p=s.prev,f=!0),h.forEach(function(e,t){h[t]="calc(".concat(e,"px + (").concat(function(e){return"string"==typeof e?e:"".concat(e,"px")}(p.translate[t])," * ").concat(Math.abs(l*r),"))")}),d.forEach(function(e,t){d[t]=p.rotate[t]*Math.abs(l*r)}),n[0].style.zIndex=-Math.abs(Math.round(o))+e.length;var v=h.join(", "),g="rotateX(".concat(d[0],"deg) rotateY(").concat(d[1],"deg) rotateZ(").concat(d[2],"deg)"),b="scale(".concat(u<0?1+(1-p.scale)*u*r:1-(1-p.scale)*u*r,")"),m=u<0?1+(1-p.opacity)*u*r:1-(1-p.opacity)*u*r,_="translate3d(".concat(v,") ").concat(g," ").concat(b);if(f&&p.shadow||!f){var S=n.children(".swiper-slide-shadow");if(0===S.length&&p.shadow&&(S=ce(s,n)),S.length){var y=s.shadowPerProgress?l*(1/s.limitProgress):l;S[0].style.opacity=Math.min(Math.max(Math.abs(y),0),1)}}var C=ae(s,n);C.transform(_).css({opacity:m}),p.origin&&C.css("transform-origin",p.origin)},u=0;u<e.length;u+=1)l(u)},setTransition:function(e){var i=t.params.creativeEffect.transformEl;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow").transition(e),oe({swiper:t,duration:e,transformEl:i,allSlides:!0})},perspective:function(){return t.params.creativeEffect.perspective},overwriteParams:function(){return{watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode}}})}function pe(e){var t=e.swiper,i=e.extendParams,n=e.on;i({cardsEffect:{slideShadows:!0,transformEl:null}}),re({effect:"cards",swiper:t,on:n,setTranslate:function(){for(var e=t.slides,i=t.activeIndex,n=t.params.cardsEffect,s=t.touchEventsData,r=s.startTranslate,a=s.isTouched,o=t.translate,l=0;l<e.length;l+=1){var u=e.eq(l),c=u[0].progress,h=Math.min(Math.max(c,-4),4),d=u[0].swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&t.$wrapperEl.transform("translateX(".concat(t.minTranslate(),"px)")),t.params.centeredSlides&&t.params.cssMode&&(d-=e[0].swiperSlideOffset);var f=t.params.cssMode?-d-t.translate:-d,p=0,v=-100*Math.abs(h),g=1,b=-2*h,m=8-.75*Math.abs(h),_=(l===i||l===i-1)&&h>0&&h<1&&(a||t.params.cssMode)&&o<r,S=(l===i||l===i+1)&&h<0&&h>-1&&(a||t.params.cssMode)&&o>r;if(_||S){var y=Math.pow(1-Math.abs((Math.abs(h)-.5)/.5),.5);b+=-28*h*y,g+=-.5*y,m+=96*y,p="".concat(-25*y*Math.abs(h),"%")}if(f=h<0?"calc(".concat(f,"px + (").concat(m*Math.abs(h),"%))"):h>0?"calc(".concat(f,"px + (-").concat(m*Math.abs(h),"%))"):"".concat(f,"px"),!t.isHorizontal()){var C=p;p=f,f=C}var E="\n        translate3d(".concat(f,", ").concat(p,", ").concat(v,"px)\n        rotateZ(").concat(b,"deg)\n        scale(").concat("".concat(h<0?1+(1-g)*h:1-(1-g)*h),")\n      ");if(n.slideShadows){var A=u.find(".swiper-slide-shadow");0===A.length&&(A=ce(n,u)),A.length&&(A[0].style.opacity=Math.min(Math.max((Math.abs(h)-.5)/.5,0),1))}u[0].style.zIndex=-Math.abs(Math.round(c))+e.length,ae(n,u).transform(E)}},setTransition:function(e){var i=t.params.cardsEffect.transformEl;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow").transition(e),oe({swiper:t,duration:e,transformEl:i})},perspective:function(){return!0},overwriteParams:function(){return{watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode}}})}i.d(t,"Swiper",function(){return D}),i.d(t,"default",function(){return D}),i.d(t,"Virtual",function(){return B}),i.d(t,"Keyboard",function(){return F}),i.d(t,"Mousewheel",function(){return U}),i.d(t,"Navigation",function(){return z}),i.d(t,"Pagination",function(){return W}),i.d(t,"Scrollbar",function(){return G}),i.d(t,"Parallax",function(){return q}),i.d(t,"Zoom",function(){return X}),i.d(t,"Lazy",function(){return K}),i.d(t,"Controller",function(){return J}),i.d(t,"A11y",function(){return $}),i.d(t,"History",function(){return Z}),i.d(t,"HashNavigation",function(){return Q}),i.d(t,"Autoplay",function(){return ee}),i.d(t,"Thumbs",function(){return te}),i.d(t,"FreeMode",function(){return ie}),i.d(t,"Grid",function(){return ne}),i.d(t,"Manipulation",function(){return se}),i.d(t,"EffectFade",function(){return le}),i.d(t,"EffectCube",function(){return ue}),i.d(t,"EffectFlip",function(){return he}),i.d(t,"EffectCoverflow",function(){return de}),i.d(t,"EffectCreative",function(){return fe}),i.d(t,"EffectCards",function(){return pe})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsignedFormat=void 0;var n=i(13);t.UnsignedFormat=function(e){_inherits(i,n.NumericFormat);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"format",value:function(e,t){var i=t.length;return isNaN(e)?"".padStart(i,"0"):(e=(e=Math.abs(e))>65535?65535:e).toString().padStart(i,"0")}}]),i}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeFormat=void 0;var n=i(13);t.TimeFormat=function(e){_inherits(i,n.NumericFormat);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"format",value:function(e,t){if(isNaN(e)||e<0)return"00:00";var i="",n=Math.floor(Math.floor(e/60)/60)%24,s=Math.floor(e/60)%60,r=Math.round(e%60);return i+(0===n?"":(n<10?"0"+n:n)+":")+(s<10?"0"+s:s)+":"+(r<10?"0"+r:r)}}]),i}()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SignedFormat=void 0;var s=n(i(1)),r=i(13);t.SignedFormat=function(e){_inherits(i,r.NumericFormat);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"format",value:function(e,t){var i=t.length;if(isNaN(e))return"".padStart(i,"0");var n=s.default.isNil(e)||""===String(e)||isNaN(e)?"":e<0?"-":"";return e>32767?(n="-",e=e>65535?65535:e,e-=65536):e<-32768&&(n="",e=e>-65535?e:-65535,e+=65536),n+Math.abs(e).toString().padStart(i,"0")}}]),i}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawFormat=void 0;var n=i(13);t.RawFormat=function(e){_inherits(i,n.NumericFormat);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"format",value:function(e,t){return isNaN(e)?"0":(e=(e=Math.abs(e))>65535?65535:e).toString()}}]),i}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PercentageFormat=void 0;var n=i(13),s=i(1);t.PercentageFormat=function(e){_inherits(i,n.NumericFormat);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"format",value:function(e,t){var i=t.min,n=t.max,r=t.length,a=t.decimalLength;if((0,s.isNaN)(e)||n<i)return"".padStart(r,"0")+"."+"".padEnd(a,"0");var o=n;if(r-a>0?(a,o=n):o=n,(0===o||(0,s.isNaN)(o))&&(o=n),e>o&&(e=o),i===e&&n===e)return"100".padStart(r,"0")+"."+"".padEnd(a,"0");var l=((100*(e-i)+Number.EPSILON)/(n-i)).toFixed(a);return 0===a?l.padStart(r,"0"):l.padStart(r+a+1,"0")}}]),i}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HexFormat=void 0;var n=i(13);t.HexFormat=function(e){_inherits(i,n.NumericFormat);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"format",value:function(e,t){var i=t.length;return isNaN(e)?"0".padStart(i,"0"):(e>65535?e=65535:e<-65535&&(e=-65535),e<0&&(e+=65536),e.toString(16).toUpperCase().padStart(i,"0"))}}]),i}()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FloatFormat=void 0;var s=i(13),r=n(i(1)),a=function(e){_inherits(i,s.NumericFormat);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"format",value:function(e,t){var n=t.decimalLength,s=t.length;if(isNaN(e))return"0".padStart(s-n,"0")+"."+"0".padEnd(n,"0");var a=r.default.isNil(e)||""===String(e)||isNaN(e)?"":e<0?"-":"";return e>i.HALF_MAX_ANALOG?(a="-",e=e>i.MAX_ANALOG?i.MAX_ANALOG:e,e-=i.MAX_ANALOG+1):e<i.HALF_MIN_ANALOG&&(a="",e=e>i.MIN_ANALOG?e:i.MIN_ANALOG,e+=i.MAX_ANALOG+1),a+((e=Math.abs(e))/Math.pow(10,n)).toFixed(n).padStart(s+1,"0")}}]),i}();t.FloatFormat=a,a.MAX_ANALOG=65535,a.HALF_MAX_ANALOG=32767,a.MIN_ANALOG=-65535,a.HALF_MIN_ANALOG=-32768},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumericFormatFactory=void 0;var n=i(106),s=i(105),r=i(104),a=i(103),o=i(102),l=i(101),u=i(100),c=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getFormat",value:function(e){switch(e.trim().toLowerCase()){case"float":return new n.FloatFormat;case"percentage":return new r.PercentageFormat;case"hex":return new s.HexFormat;case"raw":return new a.RawFormat;case"unsigned":return new u.UnsignedFormat;case"signed":return new o.SignedFormat;case"time":return new l.TimeFormat;default:return new o.SignedFormat}}}],[{key:"getInstance",value:function(){return this.INSTANCE instanceof e||(this.INSTANCE=new e),this.INSTANCE}}]),e}();t.NumericFormatFactory=c},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5JoinToTextNumeric=void 0;var s=i(3),r=i(1),a=i(107),o=i(24),l=i(2),u=n(i(1)),c=function(e){_inherits(i,s.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._receiveStateValue="",e._subReceiveStateValue="",e._value="",e._decimalLength=0,e._length=0,e._min=0,e._max=i.PERCENTAGE_MAX,e._formattedValue=null,e._type="signed",e._numericFormatFactory=a.NumericFormatFactory.getInstance(),e.formatValue=e.debounce(function(){e.formatValueDebounce()},30),e._currentNumericFormat=e._numericFormatFactory.getFormat(e.type),e}return _createClass(i,[{key:"receiveStateValue",get:function(){return this._receiveStateValue},set:function(e){var t=this;if(!(0,r.isNil)(e)){if(""!==this.receiveStateValue&&void 0!==this.receiveStateValue&&null!==this.receiveStateValue){var i=o.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),n=o.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==n&&n.unsubscribe(this._subReceiveStateValue)}this._receiveStateValue=e,this.setAttribute("receivestatevalue",e);var s=o.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),a=o.Ch5SignalFactory.getInstance().getNumberSignal(s);null!==a&&(this._subReceiveStateValue=a.subscribe(function(e){e!==parseFloat(t.value)&&t.setAttribute("value",e+"")}))}}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&(u.default.isNil(e)&&(e=""),this._value=e,this.setAttribute("value",e),this.formatValue())}},{key:"type",get:function(){return this._type},set:function(e){this._type!==e&&(u.default.isNil(e)?e=i.NUMERIC_FORMAT_TYPES[0]:i.NUMERIC_FORMAT_TYPES.indexOf(e)<0&&(e=i.NUMERIC_FORMAT_TYPES[0]),this._type=e,this.setAttribute("type",e),this._currentNumericFormat=this._numericFormatFactory.getFormat(e),this.formatValue())}},{key:"decimalLength",get:function(){return this._decimalLength},set:function(e){if(this._decimalLength!==e){var t=Number(e);isNaN(t)||u.default.isNil(t)?this._decimalLength=0:this._decimalLength=t>5?5:t,this.setAttribute("decimalLength",this._decimalLength+""),this.formatValue()}}},{key:"length",get:function(){return this._length},set:function(e){if(this._length!==e){var t=Number(e);isNaN(t)||u.default.isNil(t)?this._length=0:this._length=t>5?5:t,this.setAttribute("length",this._length+""),this.formatValue()}}},{key:"min",get:function(){return this._min},set:function(e){if(this._min!==e){if((0,r.isNil)(e))return this._min=0,void("percentage"===this.type&&(this.setAttribute("min",e+""),this.formatValue()));this._min=e,this.setAttribute("min",e+""),this.formatValue()}}},{key:"max",get:function(){return this._max},set:function(e){if(this._max!==e){if((0,r.isNil)(e))return this._max=i.PERCENTAGE_MAX,void("percentage"===this.type&&(this.setAttribute("max",e),this.formatValue()));this._max=e,this.setAttribute("max",e+""),this.formatValue()}}},{key:"formattedValue",get:function(){return this._formattedValue},set:function(e){this._formattedValue!==e&&(this._formattedValue=e,this.textContent=e+"")}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(e){case"value":this.value=n;break;case"receivestatevalue":this.receiveStateValue=n;break;case"type":this.type=n;break;case"decimallength":this.decimalLength=parseFloat(n);break;case"length":this.length=parseFloat(n);break;case"min":this.min=parseFloat(n);break;case"max":this.max=parseFloat(n);break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"connectedCallback",value:function(){var e=this;this.initAttributes(),customElements.whenDefined(i.ELEMENT_NAME).then(function(){e.formatValue()})}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("value")&&(this.value=this.getAttribute("value")+""),this.hasAttribute("receivestatevalue")&&(this.receiveStateValue=this.getAttribute("receivestatevalue")+""),this.hasAttribute("type")&&(this.type=this.getAttribute("type"))}},{key:"disconnectedCallback",value:function(){var e=o.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),t=o.Ch5SignalFactory.getInstance().getNumberSignal(e);null!==t&&(t.unsubscribe(this._subReceiveStateValue),this._receiveStateValue="")}},{key:"formatValueDebounce",value:function(){this.formattedValue=this._currentNumericFormat.format(Number(this.value),{decimalLength:this.decimalLength,length:this.length,min:this.min,max:this.max})}}],[{key:"registerSignalAttributeTypes",value:function(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"registerCustomElement",value:function(){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(i.ELEMENT_NAME)&&window.customElements.define(i.ELEMENT_NAME,i)}},{key:"observedAttributes",get:function(){return s.Ch5Common.observedAttributes.concat(["receiveStateValue","value","type","length","decimallength","min","max"])}}]),i}();t.Ch5JoinToTextNumeric=c,c.PERCENTAGE_MAX=65535,c.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",numericJoin:1,contractName:!0}}),c.ELEMENT_NAME="ch5-jointotext-numeric",c.NUMERIC_FORMAT_TYPES=["signed","float","percentage","hex","raw","unsigned","time"],c.registerCustomElement(),c.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(108),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5JoinToTextString=void 0;var n=i(3),s=i(1),r=i(24),a=i(2),o=function(e){_inherits(i,n.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.apply(this,arguments))._receiveStateValue="",e._textWhenEmpty="",e._value="",e._subReceiveStateValue="",e}return _createClass(i,[{key:"textWhenEmpty",get:function(){return this._textWhenEmpty},set:function(e){this._textWhenEmpty!==e&&((0,s.isNil)(e)&&(e=""),this._textWhenEmpty=e,this.setAttribute("textWhenEmpty",e),this.setTextContent())}},{key:"receiveStateValue",get:function(){return this._receiveStateValue},set:function(e){var t=this;if(this._receiveStateValue!==e){if((0,s.isNil)(e))return;if(""!==this.receiveStateValue&&void 0!==this.receiveStateValue&&null!==this.receiveStateValue){var i=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe(this._subReceiveStateValue)}this._receiveStateValue=e,this.setAttribute("receivestatevalue",e);var a=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),o=r.Ch5SignalFactory.getInstance().getStringSignal(a);if(null===o)return;this._subReceiveStateValue=o.subscribe(function(e){e!==t.value&&t.setAttribute("value",e+"")})}}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&((0,s.isNil)(e)&&(e=""),this._value=e,this.setAttribute("value",e+""),this.setTextContent())}},{key:"connectedCallback",value:function(){var e=this;this.initAttributes(),customElements.whenDefined(i.ELEMENT_NAME).then(function(){e.setTextContent()})}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("textwhenempty")&&(this.textWhenEmpty=this.getAttribute("textwhenempty")),this.hasAttribute("value")?this.value=this.getAttribute("value"):this.value="",this.hasAttribute("receivestatevalue")&&(this.receiveStateValue=this.getAttribute("receivestatevalue"))}},{key:"disconnectedCallback",value:function(){var e=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),t=r.Ch5SignalFactory.getInstance().getStringSignal(e);null!==t&&(t.unsubscribe(this._subReceiveStateValue),this._receiveStateValue="")}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(e){case"value":this.value=n;break;case"textwhenempty":this.textWhenEmpty=n;break;case"receivestatevalue":this.receiveStateValue=n;break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"setTextContent",value:function(){this.value?this.textContent=this._getTranslatedValue("value",this.value):this.textContent=this._getTranslatedValue("textwhenempty",this.textWhenEmpty)}}],[{key:"registerSignalAttributeTypes",value:function(){a.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"registerCustomElement",value:function(){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(i.ELEMENT_NAME)&&window.customElements.define(i.ELEMENT_NAME,i)}},{key:"observedAttributes",get:function(){return n.Ch5Common.observedAttributes.concat(["value","textwhenempty","receivestatevalue"])}}]),i}();t.Ch5JoinToTextString=o,o.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",stringJoin:1,contractName:!0}}),o.ELEMENT_NAME="ch5-jointotext-string",o.registerCustomElement(),o.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(110),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5JoinToTextBoolean=void 0;var n=i(3),s=i(1),r=i(24),a=i(2),o=function(e){_inherits(i,n.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._value=!1,e._textWhenTrue="",e._textWhenFalse="",e._receiveStateValue="",e._subReceiveStateValue="",e}return _createClass(i,[{key:"value",get:function(){return this._value},set:function(e){e!==this.value&&((0,s.isNil)(e)&&(e=!1),this._value=e,this.setAttribute("value",e+""),this.toggleText())}},{key:"textWhenTrue",get:function(){return this._textWhenTrue},set:function(e){e!==this._textWhenTrue&&((0,s.isNil)(e)&&(e=""),this._textWhenTrue=e,this.setAttribute("textWhenTrue",e),this.toggleText())}},{key:"textWhenFalse",get:function(){return this._textWhenFalse},set:function(e){e!==this._textWhenFalse&&((0,s.isNil)(e)&&(e=""),this._textWhenFalse=e,this.setAttribute("textWhenFalse",e),this.toggleText())}},{key:"receiveStateValue",get:function(){return this._receiveStateValue},set:function(e){var t=this;if(!(0,s.isNil)(e)){if(""!==this.receiveStateValue&&void 0!==this.receiveStateValue&&null!==this.receiveStateValue){var i=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),n=r.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&n.unsubscribe(this._subReceiveStateValue)}this._receiveStateValue=e,this.setAttribute("receivestatevalue",e);var a=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),o=r.Ch5SignalFactory.getInstance().getBooleanSignal(a);null!==o&&(this._subReceiveStateValue=o.subscribe(function(e){e!==t.value&&t.setAttribute("value",e+"")}))}}},{key:"connectedCallback",value:function(){var e=this;this.initAttributes(),customElements.whenDefined(i.ELEMENT_NAME).then(function(){e.toggleText()})}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("textwhentrue")&&(this.textWhenTrue=this.getAttribute("textwhentrue")),this.hasAttribute("textwhenfalse")&&(this.textWhenFalse=this.getAttribute("textwhenfalse")),this.hasAttribute("receivestatevalue")&&(this.receiveStateValue=this.getAttribute("receivestatevalue")),this.hasAttribute("value")?this.value=this.convertValueToBoolean(this.getAttribute("value")):this.value=!1}},{key:"disconnectedCallback",value:function(){var e=r.Ch5Signal.getSubscriptionSignalName(this.receiveStateValue),t=r.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==t&&(t.unsubscribe(this._subReceiveStateValue),this._receiveStateValue="")}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(e){case"value":this.value=this.convertValueToBoolean(n);break;case"textwhentrue":this.textWhenTrue=n;break;case"textwhenfalse":this.textWhenFalse=n;break;case"receivestatevalue":this.receiveStateValue=n;break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"toggleText",value:function(){!0!==this.value?!1!==this.value?this.textContent="":this.textContent=this._getTranslatedValue("textwhenfalse",this.textWhenFalse):this.textContent=this._getTranslatedValue("textwhentrue",this.textWhenTrue)}},{key:"convertValueToBoolean",value:function(e){return"true"===e}}],[{key:"registerSignalAttributeTypes",value:function(){a.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"registerCustomElement",value:function(){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(i.ELEMENT_NAME)&&window.customElements.define(i.ELEMENT_NAME,i)}},{key:"observedAttributes",get:function(){return n.Ch5Common.observedAttributes.concat(["value","textwhentrue","textwhenfalse","receivestatevalue"])}}]),i}();t.Ch5JoinToTextBoolean=o,o.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",booleanJoin:1,contractName:!0}}),o.ELEMENT_NAME="ch5-jointotext-boolean",o.registerCustomElement(),o.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(112),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CH5KeypadButtonData=void 0;var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getBtnList",value:function(e,t,i){for(var n=[],s=["1","2","3","4","5","6","7","8","9","*","0","#"],r=["&nbsp;","ABC","DEF","GHI","JKL","MNO","PQRS","TUV","WXYZ","","+",""],a=["1","2","3","4","5","6","7","8","9","Star","0","Hash"],o=[1,2,3,4,5,6,7,8,9,10,0,11],l=["","","","","","","","","",this.miscOneBtnCssClass,"",this.miscTwoBtnCssClass],u=0;u<s.length;u++){var c="button"+a[u],h={};e.hasOwnProperty(c)&&(h=e[c]);var d=t.length>0?t+"Press"+a[u]:"",f=l[u].length>0?l[u]:this.numberTypeBtnCssClass,p=0===d.length&&i.length>0?parseInt(i,10)+o[u]:i,v=Object.assign({indexRef:u,name:c,major:s[u],minor:r[u],className:f,iconClass:[],contractName:d,contractKey:a[u],joinCountToAdd:p.toString(),key:"",pressed:!1},h);v.major||v.minor||(v.major=s[u],v.minor=r[u]),n.push(v)}return n}},{key:"getBtnList_Extra",value:function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=[],s=["Extra"],r=["ExtraButton"],a=[this.specialBtnCssClass],o=0;o<s.length;o++){var l="button"+s[o],u={};e.hasOwnProperty(l)&&(u=e[l]);var c=t.length>0?t+"Press"+r[o]:"",h=i.length>0?parseInt(i,10)+12:i,d=Object.assign({indexRef:12,name:l,major:"",minor:"",className:a[o],iconClass:["fas","fa-phone-alt"],contractName:c,contractKey:r[o],joinCountToAdd:h.toString(),key:"",pressed:!1},u);n.push(d)}return 0===n[0].iconClass.length&&(n[0].iconClass=["fas","fa-phone-alt"]),n}},{key:"getChildBtnDTOFromElement",value:function(e,t,i){var n={},s=e.getAttribute("key"),r=s&&s.length>0?s.replace("button",""):null;if(null!==r){for(var a=this.getIndexRefForChildBtn(r),o=e.getAttribute("labelmajor"),l=e.getAttribute("labelminor"),u=this.getClassNameForChildBtn(e.getAttribute("classlist"),a),c=e.getAttribute("iconclass"),h=["0","1","2","3","4","5","6","7","8","9","Star","Hash","Extra"][a],d=e.hasAttribute("pressed")&&"false"!==e.getAttribute("pressed"),f=0===t.length&&i.length>0?parseInt(i,10)+a:"",p={},v=0;v<e.attributes.length;v++){var g=e.attributes[v];p=Object.assign(Object.assign({},p),_defineProperty({},g.nodeName,g.nodeValue))}n=Object.assign(Object.assign({},p),{indexRef:a,name:"button"+h,major:o||"",minor:l||"",className:u,iconClass:c?c.split(" ").filter(function(e){return e}):[],contractName:t,contractKey:h,joinCountToAdd:f.toString(),key:s||"",pressed:!0===d})}return n}},{key:"getIndexRefForChildBtn",value:function(e){var t=-1;switch(e.toLowerCase()){case"star":t=10;break;case"hash":t=11;break;case"extra":t=12;break;default:t=parseInt(e,10)}return t}},{key:"getClassNameForChildBtn",value:function(e,t){var i=e?[e]:[];return t>-1&&t<9||10===t?i.push(this.numberTypeBtnCssClass):9===t?i.push(this.miscOneBtnCssClass):11===t?i.push(this.miscTwoBtnCssClass):12===t&&i.push(this.specialBtnCssClass),i.join(" ")}}]),e}();t.CH5KeypadButtonData=n,n.numberTypeBtnCssClass="number-btn",n.miscOneBtnCssClass="misc-btn misc-btn-one",n.miscTwoBtnCssClass="misc-btn misc-btn-two",n.specialBtnCssClass="extra-btn special-center"},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t},a=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(a,o)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5KeypadButton=void 0;var l=r(i(1)),u=i(3),c=i(21),h=i(2),d=i(31),f=i(0),p=i(16),v=i(10),g=function(e){_inherits(i,u.Ch5Common);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).primaryCssClass="keypad-btn",n.cssClassPrefix="keypad-btn-",n.pressedCssClassPostfix="-pressed",n.COMPONENT_NAME="ch5-keypad",n.params={},n.componentPrefix="ch5-keypad-button-",n.emptyBtnCssClass="empty-btn",n.labelMajorCssClass="label-major",n.labelMinorCssClass="label-minor",n.parentDivCssClass="keypad-row",n._labelMajor="",n._labelMinor="",n._iconClass="",n._sendEventOnClick="",n._key="",n._icon={},n.isTouch=!1,n.allowPress=!0,n.allowPressTimeout=0,n._intervalIdForRepeatDigital=null,n._lastTapTime=0,n._pressable=null,n._hammerManager={},n._pressTimeout=0,n._pressed=!1,n._buttonPressed=!1,n._buttonPressedInPressable=!1,n._pressableIsPressedSubscription=null,n.isButtonInitiated=!1,n.TOUCH_TIMEOUT=250,n.DEBOUNCE_PRESS_TIME=200,n.PRESS_MOVE_THRESHOLD=10,n.STATE_CHANGE_TIMEOUTS=500,n.MAX_MODE_LENGTH=99,n.DEBOUNCE_BUTTON_DISPLAY=25,n._pressHorizontalStartingPoint=null,n._pressVerticalStartingPoint=null,n._pressInfo={},n.logger.start("constructor()",n.COMPONENT_NAME),!n.parentElement||n.parentElement.classList.contains(n.parentDivCssClass)?(n.params=e,n.logger.stop()):n.logger.stop(),n}return _createClass(i,[{key:"labelMajor",get:function(){return this._labelMajor},set:function(e){this.logger.start('set labelMajor("'+e+'")'),""!==e&&e!==this._labelMajor?this._labelMajor=e:this._labelMajor=this.params.major,this.setAttribute("labelMajor".toLowerCase(),e)}},{key:"labelMinor",get:function(){return this._labelMinor},set:function(e){this.logger.start('set labelMinor("'+e+'")'),""!==e&&e!==this._labelMinor?this._labelMinor=e:this._labelMinor=this.params.minor,this.setAttribute("labelMinor".toLowerCase(),e)}},{key:"iconClass",get:function(){return this._iconClass},set:function(e){this.logger.start('set iconClass("'+e+'")'),""!==e&&e!==this._iconClass?this._iconClass=e:this._iconClass=this.params.iconClass.join(" "),this.setAttribute("iconClass".toLowerCase(),e)}},{key:"sendEventOnClick",get:function(){return this._sendEventOnClick},set:function(e){this.logger.start('set sendEventOnClick("'+e+'")'),""!==e&&e!==this._sendEventOnClick&&(this._sendEventOnClick=e,this.setAttribute("sendEventOnClick".toLowerCase(),e))}},{key:"key",get:function(){return this._key},set:function(e){this.logger.start('set key("'+e+'")'),""!==e&&e!==this._key?this._key=e:this._key=this.params.major,this.setAttribute("key".toLowerCase(),e)}},{key:"pressed",get:function(){return!!this._pressable&&this._pressable._pressed},set:function(e){this.logger.log('set pressed("'+e+'")'),e!==this._pressed?this._pressed=e:this._pressed=this.params.pressed,this._pressable&&this._pressable._pressed!==e&&this._pressable.setPressed(e),this.setAttribute("pressed",e.toString()),!0===e&&(this.updatePressedClass(this.primaryCssClass+this.pressedCssClassPostfix),this.classList.add(this.primaryCssClass+this.pressedCssClassPostfix))}},{key:"initAttributes",value:function(){this.logger.start("initAttributes",this.COMPONENT_NAME),_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.setAttribute("data-ch5-id",this.getCrId()),d.ComponentHelper.setAttributeToElement(this,"role",v.Ch5RoleAttributeMapping.ch5KeypadChild);var e=this.params,t=e.major,n=e.minor,s=e.contractName,r=e.joinCountToAdd,a=e.iconClass,u=e.key,c=e.pressed,h=(e.name,e.indexRef),f=(e.contractKey,e.className,o(e,["major","minor","contractName","joinCountToAdd","iconClass","key","pressed","name","indexRef","contractKey","className"]));this._labelMajor=t||["0","1","2","3","4","5","6","7","8","9","*","#",""][h],this._labelMinor=n||["+","&nbsp;","ABC","DEF","GHI","JKL","MNO","PQRS","TUV","WXYZ","","",""][h],"*"===this._labelMajor&&(this._labelMinor=""),this._iconClass=a.join(" "),this._key=u,this._pressed=c;var p=s.length>0?s:r;this._sendEventOnClick=p,this.labelMajor=d.ComponentHelper.setAttributeToElement(this,"labelMajor".toLowerCase(),this._labelMajor),this.labelMinor=d.ComponentHelper.setAttributeToElement(this,"labelMinor".toLowerCase(),this._labelMinor),this.iconClass=d.ComponentHelper.setAttributeToElement(this,"iconClass".toLowerCase(),this._iconClass),this.sendEventOnClick=d.ComponentHelper.setAttributeToElement(this,"sendEventOnClick".toLowerCase(),this._sendEventOnClick),this.key=d.ComponentHelper.setAttributeToElement(this,"key".toLowerCase(),this._key),this.pressed="true"===d.ComponentHelper.setAttributeToElement(this,"pressed".toLowerCase(),this._pressed.toString()),this.hasAttribute("pressed")&&this._pressable&&this._pressable.setPressed(this.toBoolean(this.hasAttribute("pressed")&&"false"!==this.getAttribute("pressed"),!1));var g=Object.keys(f),b=Object.values(f);if(g.length)for(var m=0;m<g.length;m++)l.isNil(b[m])||d.ComponentHelper.setAttributeToElement(this,g[m].toLowerCase(),b[m]);this.logger.stop()}},{key:"connectedCallback",value:function(){this.logger.start("connectedCallback() - start",this.COMPONENT_NAME),!this.parentElement||this.parentElement.classList.contains(this.parentDivCssClass)?(d.ComponentHelper.clearComponentContent(this),this.updatePressedClass(this.primaryCssClass+this.pressedCssClassPostfix),this.setAttribute("data-ch5-id",this.getCrId()),!d.ComponentHelper.isNullOrUndefined(this._pressable)&&this._pressable&&(this._pressable.init(),this._subscribeToPressableIsPressed()),this._hammerManager=new Hammer(this),this.createElementsAndInitialize(),this.initCommonMutationObserver(this),this.logger.stop()):this.logger.stop()}},{key:"createElementsAndInitialize",value:function(){this.initAttributes(),this._wasInstatiated||this.createHtmlElements(),this._wasInstatiated=!0,this.attachEventListeners(),this.updateCssClasses()}},{key:"createHtmlElements",value:function(){var e;if(this.logger.start("createHtmlElements",this.COMPONENT_NAME),d.ComponentHelper.clearComponentContent(this),this.classList.add(this.primaryCssClass),(e=this.classList).add.apply(e,_toConsumableArray(this.params.className.split(" ").filter(function(e){return e}))),this.setAttribute("key",this.params.name),this.params.major.length>0||this.params.minor.length>0||this.params.iconClass.length>0||this.params.key.length>0){var t=document.createElement("button");t.appendChild(this.createLabelElementAndAppend(this.labelMajorCssClass,this._labelMajor)),t.appendChild(this.createLabelElementAndAppend(this.labelMinorCssClass,this._labelMinor)),this.appendChild(t)}else this.classList.add(this.emptyBtnCssClass);this.params.pressed&&this.classList.add(this.primaryCssClass+this.pressedCssClassPostfix),this.logger.stop()}},{key:"attachEventListeners",value:function(){var e;l.isNil(this._pressable)||(null===(e=this._pressable)||void 0===e||e.init(),this._subscribeToPressableIsPressed()),this.bindEventListenersToThis()}},{key:"disconnectedCallback",value:function(){this.logger.start("disconnectedCallback() - start",this.COMPONENT_NAME),!this.parentElement||this.parentElement.classList.contains(this.parentDivCssClass)?(this.removeEventListeners(),null!==this._pressable&&this._pressable.destroy(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver(),l.isNil(this._pressable)||this._unsubscribeFromPressableIsPressed(),this.logger.stop()):this.logger.stop()}},{key:"removeEventListeners",value:function(){this._hammerManager&&this._hammerManager.off&&this._hammerManager.off("tap",this._onTap),this.removeEventListener("mousedown",this._onPressClick),this.removeEventListener("mouseup",this._onMouseUp),this.removeEventListener("mousemove",this._onMouseMove),this.removeEventListener("touchstart",this._onPress),this.removeEventListener("mouseleave",this._onLeave),this.removeEventListener("touchend",this._onPressUp),this.removeEventListener("touchmove",this._onTouchMove),this.removeEventListener("touchend",this._onTouchEnd),this.removeEventListener("touchcancel",this._onTouchCancel),this.removeEventListener("focus",this._onFocus),this.removeEventListener("blur",this._onBlur)}},{key:"unsubscribeFromSignals",value:function(){this.logger.start("unsubscribeFromSignals",this.COMPONENT_NAME),_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this);for(var e=f.Ch5SignalFactory.getInstance(),t=0,n=[""];t<n.length;t++){d.ComponentHelper.clearSignalValue(e,this,"attrKeySigName","attrKeyPvt")}this.logger.stop()}},{key:"attributeChangedCallback",value:function(e,t,n){if(this.logger.start("attributeChangedCallback",this.COMPONENT_NAME),e=e.toLowerCase(),t!==n){switch(this.info("ch5-keypad-button"+this.params.name+' attributeChangedCallback("'+e+'","'+t+'","'+n+'")'),e){case"receivestateshow":case"receivestateenable":case"receivestateshowpulse":case"receivestatehidepulse":case"receivestatecustomstyle":case"receivestatecustomclass":case"receivestateextrabuttonshow":case"show":case"disabled":break;case"labelminor":if(this.labelMinor=d.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),n,""),this.children&&this.children.length>0){var s=this.children[0].getElementsByClassName("label-minor");s&&s[0]&&(s[0].innerHTML=this.labelMinor)}break;case"labelmajor":if(this.labelMajor=d.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),n,""),this.children&&this.children.length>0){var r=this.children[0].getElementsByClassName("label-major");r&&r[0]&&(r[0].innerHTML=this.labelMajor)}break;case"iconclass":if(this.iconClass=d.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),n,""),this.children&&this.children.length>0){var a=this.children[0].getElementsByClassName("label-major has-icon");if(a&&a[0]){var o=a[0].children[0];o&&o.setAttribute("class",this.iconClass)}}break;case"sendeventonclick":this.sendEventOnClick=d.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),n,"");break;case"pressed":var l=!1;this.hasAttribute("pressed")&&(l=this.toBoolean(n,!0)),this._pressable&&this._pressable.setPressed(l),this.updateCssClasses();break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}this.logger.stop()}}},{key:"createLabelElementAndAppend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=document.createElement("span");if(i.classList.add(e),this.iconClass.length>0&&e===this.labelMajorCssClass){var n,s=document.createElement("span");(n=s.classList).add.apply(n,_toConsumableArray(this.iconClass.split(" ").filter(function(e){return e}))),i.appendChild(s),i.classList.add("has-icon")}else i.innerHTML=t;return i}},{key:"updatePressedClass",value:function(e){this._pressable=new c.Ch5Pressable(this,{cssTargetElement:this.getTargetElementForCssClassesAndStyle(),cssPressedClass:e})}},{key:"bindEventListenersToThis",value:function(){this._onTap=this._onTap.bind(this),this._onPressClick=this._onPressClick.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onPress=this._onPress.bind(this),this._onLeave=this._onLeave.bind(this),this._onPressUp=this._onPressUp.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onTouchCancel=this._onTouchCancel.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._hammerManager.on("tap",this._onTap)}},{key:"sendValueForRepeatDigital",value:function(e){if(this._sendEventOnClick){var t=f.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sendEventOnClick);t&&t.name&&t.publish(_defineProperty({},f.Ch5SignalBridge.REPEAT_DIGITAL_KEY,e))}}},{key:"_sendOnClickSignal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._sendEventOnClick&&null!==f.Ch5SignalFactory.getInstance().getBooleanSignal(this._sendEventOnClick)&&(e||this.sendValueForRepeatDigital(!0),t||this.sendValueForRepeatDigital(!1))}},{key:"stopRepeatDigital",value:function(){var e=this;if(this.logger.log("stopRepeatDigital",this._intervalIdForRepeatDigital),this._intervalIdForRepeatDigital)return window.clearInterval(this._intervalIdForRepeatDigital),this.sendValueForRepeatDigital(!1),void(this._intervalIdForRepeatDigital=null);this.sendValueForRepeatDigital(!0),this._intervalIdForRepeatDigital=window.setInterval(function(){e.sendValueForRepeatDigital(!0)},this.TOUCH_TIMEOUT)}},{key:"pressHandler",value:function(){var e=this;return new Promise(function(t,i){e._pressTimeout=window.setTimeout(function(){e.logger.log("Ch5Button._onPress()"),e._pressed=!0,t(e._pressed)},e.TOUCH_TIMEOUT)})}},{key:"cancelPress",value:function(){window.clearTimeout(this._pressTimeout),this._pressed=!1}},{key:"reactivatePress",value:function(){var e=this;clearTimeout(this.allowPressTimeout),this.allowPressTimeout=setTimeout(function(){e.allowPress=!0},this.DEBOUNCE_PRESS_TIME)}},{key:"isExceedingPressMoveThreshold",value:function(e,t,i,n){var s=i-e,r=n-t;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))>this.PRESS_MOVE_THRESHOLD}},{key:"_subscribeToPressableIsPressed",value:function(){var e=this;null===this._pressableIsPressedSubscription&&null!==this._pressable&&(this._pressableIsPressedSubscription=this._pressable.observablePressed.subscribe(function(t){t!==e._buttonPressedInPressable&&(e._buttonPressedInPressable=t,!1===t?setTimeout(function(){e.setButtonDisplay()},e.STATE_CHANGE_TIMEOUTS):e.setButtonDisplay())}))}},{key:"_unsubscribeFromPressableIsPressed",value:function(){null!==this._pressableIsPressedSubscription&&(this._pressableIsPressedSubscription.unsubscribe(),this._pressableIsPressedSubscription=null)}},{key:"setButtonDisplay",value:function(){this.setButtonDisplayDetails()}},{key:"setButtonDisplayDetails",value:function(){this.logger.start("setButtonDisplayDetails"),this.logger.stop()}},{key:"setJoinBasedEventHandler",value:function(e){this.logger.start("setJoinBasedEventHandler"),this.sendEventOnClick=e+this.params.joinCountToAdd+"",this.logger.stop()}},{key:"_onTap",value:function(){this.logger.start(this.COMPONENT_NAME,"- _onTap"),this._onTapAction(),this.logger.stop()}},{key:"_onTapAction",value:function(){this.logger.start(this.COMPONENT_NAME,"- _onTapAction"),null!==this._intervalIdForRepeatDigital?(window.clearInterval(this._intervalIdForRepeatDigital),this.sendValueForRepeatDigital(!1),this._intervalIdForRepeatDigital=null):this._sendOnClickSignal(!1,!1),this.logger.stop()}},{key:"_onPressClick",value:function(e){return a(this,void 0,void 0,_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.logger.start(this.COMPONENT_NAME,"- _onPressClick"),t.t0=this.isTouch,t.t0){t.next=10;break}return clearTimeout(this.allowPressTimeout),t.next=6,this.pressHandler();case 6:this._pressHorizontalStartingPoint=e.clientX,this._pressVerticalStartingPoint=e.clientY,this._lastTapTime=(new Date).valueOf(),this.allowPress&&(this.allowPress=!1,this.stopRepeatDigital(),this.logger.stop());case 10:case"end":return t.stop()}},t,this)}))}},{key:"_onMouseUp",value:function(){if(this.logger.start("_onMouseUp"),this.isTouch)!function(e){setTimeout(function(){null!=e._intervalIdForRepeatDigital&&(clearTimeout(e._intervalIdForRepeatDigital),e._intervalIdForRepeatDigital=null),e.sendValueForRepeatDigital(!1)},200)}(this);else{this.cancelPress(),this.reactivatePress(),this._intervalIdForRepeatDigital?this.stopRepeatDigital():this._pressed;var e=(new Date).valueOf()-this._lastTapTime;this._lastTapTime&&e<this.DEBOUNCE_PRESS_TIME&&this.logger.log("Ch5Button debouncing duplicate press/hold and click "+e),this.logger.stop()}}},{key:"_onMouseMove",value:function(e){!this.isTouch&&this._intervalIdForRepeatDigital&&this._pressHorizontalStartingPoint&&this._pressVerticalStartingPoint&&this.isExceedingPressMoveThreshold(this._pressHorizontalStartingPoint,this._pressVerticalStartingPoint,e.clientX,e.clientY)&&this.stopRepeatDigital()}},{key:"_onPress",value:function(e){return a(this,void 0,void 0,_regeneratorRuntime().mark(function t(){var i;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.logger.start("_onPress"),i=(0,p.normalizeEvent)(e),this.isTouch=!0,clearTimeout(this.allowPressTimeout),this._pressInfo.saveStart(i.x,i.y),t.next=7,this.pressHandler();case 7:this.allowPress&&(this.allowPress=!1,this.stopRepeatDigital());case 8:case"end":return t.stop()}},t,this)}))}},{key:"_onLeave",value:function(){this.logger.start("_onPressUp"),this._intervalIdForRepeatDigital&&this.stopRepeatDigital()}},{key:"_onPressUp",value:function(){this.logger.start("_onPressUp"),window.clearTimeout(this._pressTimeout),this.reactivatePress(),this._pressed&&(this.logger.log("Ch5Button._onPressUp()"),this._pressed=!1,this._intervalIdForRepeatDigital&&(window.clearInterval(this._intervalIdForRepeatDigital),this.sendValueForRepeatDigital(!1),this._intervalIdForRepeatDigital=null))}},{key:"_onTouchMove",value:function(e){this.logger.start("_onTouchMove"),e.cancelable&&e.preventDefault();var t=(0,p.normalizeEvent)(e);if(this._pressInfo.saveEnd(t.x,t.y),!this._pressInfo.valid())return window.clearTimeout(this._pressTimeout),void(null!==this._intervalIdForRepeatDigital&&this.stopRepeatDigital())}},{key:"_onTouchEnd",value:function(e){this.logger.start("_onTouchEnd"),this._intervalIdForRepeatDigital&&this.stopRepeatDigital()}},{key:"_onTouchCancel",value:function(e){this.logger.start("_onTouchCancel"),this._intervalIdForRepeatDigital&&this.stopRepeatDigital()}},{key:"_onFocus",value:function(e){var t;this.logger.start("_onFocus"),t=new Event(e.type,e),this.dispatchEvent(t),e.preventDefault(),e.stopPropagation()}},{key:"_onBlur",value:function(e){var t;this.logger.start("_onBlur"),this.reactivatePress(),t=new Event(e.type,e),this.dispatchEvent(t),e.preventDefault(),e.stopPropagation()}}],[{key:"registerSignalAttributeTypes",value:function(){h.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"observedAttributes",get:function(){return u.Ch5Common.observedAttributes.concat(["labelmajor","labelminor","iconclass","sendeventonclick","pressed"]).concat([]).concat([])}}]),i}();t.Ch5KeypadButton=g,g.ELEMENT_NAME="ch5-keypad-button","object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(g.ELEMENT_NAME,g),g.registerSignalAttributeTypes()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Keypad=void 0;var n=i(3),s=i(31),r=i(0),a=i(10),o=i(115),l=i(114),u=i(2),c=i(0),h=function(e){_inherits(i,n.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).primaryCssClass="ch5-keypad",e.cssClassPrefix="ch5-keypad",e.KEYPAD_PROPERTIES={SHOW_EXTRA_BUTTON:{default:!1,valueOnAttributeEmpty:!0,variableName:"_showExtraButton",attributeName:"showExtraButton",propertyName:"showExtraButton",type:"boolean",removeAttributeOnNull:!0,enumeratedValues:["true","false","",!0,!1],componentReference:_assertThisInitialized(e),callback:e.showExtraButtonForNonContract.bind(_assertThisInitialized(e))}},e.COMPONENT_NAME="ch5-keypad",e._contractName="",e._type=i.TYPES[0],e._shape=i.SHAPES[0],e._stretch=null,e._textOrientation=i.TEXT_ORIENTATIONS[0],e._sendEventOnClickStart="",e._showExtraButton=!1,e._receiveStateExtraButtonShow="",e._subKeySigReceiveExtraButtonShow="",e._useContractForEnable=!0,e._useContractForShow=!0,e._useContractForCustomStyle=!1,e._useContractForCustomClass=!1,e._useContractForExtraButtonShow=!1,e._useContractForEnableSignalValue="",e._useContractForShowSignalValue="",e._useContractForCustomStyleSignalValue="",e._useContractForCustomClassSignalValue="",e._useContractForExtraButtonShowSignalValue="",e._size=i.SIZES[0],e.isComponentLoaded=!1,e.isResizeInProgress=!1,e.resizeDebounce=500,e.container={},e.containerClass="keypad-container",e.keysRowClass="keypad-row",e.keysRowClassExtra="keypad-row-extra",e.childButtonList={},e.runtimeChildButtonList={},e.logger.start("constructor()",e.COMPONENT_NAME),e.logger.stop(),e}return _createClass(i,[{key:"contractName",get:function(){return this._contractName},set:function(e){this.logger.start('set contractName("'+e+'")'),(e=s.ComponentHelper.isNullOrUndefined(e)?"":e)!==this.contractName&&(this._contractName=e,this.getAttribute("type")!==this._type&&this.setAttribute("contractname",this._contractName)),this.logger.stop()}},{key:"type",get:function(){return this._type},set:function(e){var t=this;this.logger.start('set type ("'+e+'")'),s.ComponentHelper.setAttributeValueOnControl(this,"type",e,i.TYPES,function(){t.typeHandler()}),this.logger.stop()}},{key:"shape",get:function(){return this._shape},set:function(e){var t=this;this.logger.start('set shape ("'+e+'")'),s.ComponentHelper.setAttributeValueOnControl(this,"shape",e,i.SHAPES,function(){t.shapeHandler()}),this.logger.stop()}},{key:"stretch",get:function(){return this._stretch},set:function(e){this.logger.start('set stretch ("'+e+'")'),null!==e&&this._stretch!==e&&i.STRETCHES.indexOf(e)>=0&&s.ComponentHelper.setAttributeValueOnControl(this,"stretch",e,i.STRETCHES,this.stretchHandler.bind(this)),this.logger.stop()}},{key:"size",get:function(){return this._size},set:function(e){var t=this;this.logger.start('set size ("'+e+'")'),s.ComponentHelper.setAttributeValueOnControl(this,"size",e,i.SIZES,function(){t.sizeHandler()}),this.logger.stop()}},{key:"textOrientation",get:function(){return this._textOrientation},set:function(e){if(this.logger.start('set textOrientation ("'+e+'")'),null!==e){var t=_toConsumableArray(i.TEXT_ORIENTATIONS);s.ComponentHelper.setAttributeValueOnControl(this,"textOrientation",e,t,this.textOrientationHandler.bind(this))}this.logger.stop()}},{key:"showExtraButton",get:function(){return this._showExtraButton},set:function(e){this.checkIfContractAllows("useContractForExtraButtonShow","receiveStateExtraButtonShow ",e)||(this.logger.start('set showExtraButton ("'+e+'")'),this.setAttributeAndProperty(this.KEYPAD_PROPERTIES.SHOW_EXTRA_BUTTON,e))}},{key:"sendEventOnClickStart",get:function(){return this._sendEventOnClickStart},set:function(e){this.logger.start('set sendEventOnClickStart("'+e+'")'),(s.ComponentHelper.isNullOrUndefined(e)||isNaN(parseInt(e,10)))&&(e=""),e!==this.sendEventOnClickStart&&(this._sendEventOnClickStart=e,this.setAttribute("sendEventOnClickStart".toLowerCase(),e),this.updateEventClickHandlers(parseInt(e,10)),this.logger.stop())}},{key:"useContractForEnable",get:function(){return this._useContractForEnable},set:function(e){var t=this;this.logger.start('Ch5Keypad set useContractForEnable("'+e+'")');var i=this.toBoolean(e),n=s.ComponentHelper.getAttributeAsString(this,"contractname","");if(0!==n.length&&this._useContractForEnable!==i){this.setAttribute("useContractForEnable".toLowerCase(),i.toString()),this._useContractForEnable=i;var r={caller:this,attrKey:"useContractForEnable",value:n+"Enable",callbackOnSignalReceived:function(e){e=(!e).toString(),t.info(" subs callback for useContractForEnable: ",t._useContractForEnableSignalValue," Signal has value ",e),s.ComponentHelper.setAttributeToElement(t,"disabled",e)}};this.setValueForReceiveStateBoolean(r),this.logger.stop()}}},{key:"useContractForShow",get:function(){return this._useContractForShow},set:function(e){var t=this;this.logger.start('Ch5Keypad set useContractForShow("'+e+'")');var i=this.toBoolean(e),n=s.ComponentHelper.getAttributeAsString(this,"contractname","");if(0!==n.length&&this._useContractForShow!==i){this.setAttribute("useContractForShow".toLowerCase(),i.toString());var r={caller:this,attrKey:"useContractForShow",value:n+"Show",callbackOnSignalReceived:function(e){e=e.toString(),t.info(" subs callback for signalReceiveShow: ",t._useContractForShowSignalValue," Signal has value ",e),s.ComponentHelper.setAttributeToElement(t,"show",e)}};this.setValueForReceiveStateBoolean(r),this.logger.stop()}}},{key:"useContractForCustomStyle",get:function(){return this._useContractForCustomStyle},set:function(e){var t=this;this.logger.start('Ch5Keypad set useContractForCustomStyle("'+e+'")');var i=this.toBoolean(e),n=s.ComponentHelper.getAttributeAsString(this,"contractname","");if(0!==n.length&&this._useContractForCustomStyle!==i){this.setAttribute("usecontractforcustomstyle",i.toString()),this._useContractForCustomStyle=i;var r={caller:this,attrKey:"useContractForCustomStyle",value:n+"CustomStyle",callbackOnSignalReceived:function(e){e=e,t.info(" subs callback for useContractForCustomStyle: ",t._useContractForCustomStyleSignalValue," Signal has value ",e),t.customStyle=e}};this.setValueForReceiveStateString(r),this.logger.stop()}}},{key:"useContractForCustomClass",get:function(){return this._useContractForCustomClass},set:function(e){var t=this;this.logger.start(this.COMPONENT_NAME+' set useContractForCustomClass("'+e+'")');var i=this.toBoolean(e),n=s.ComponentHelper.getAttributeAsString(this,"contractname","");if(0!==n.length&&this._useContractForCustomClass!==i){this.setAttribute("useContractForCustomClass",i.toString()),this._useContractForCustomClass=i;var r={caller:this,attrKey:"useContractForCustomClass",value:n+"CustomClass",callbackOnSignalReceived:function(e){e=e,t.info(" subs callback for useContractForCustomClass: ",t._useContractForCustomClassSignalValue," Signal has value ",e),t.customClass=e}};this.setValueForReceiveStateString(r),this.logger.stop()}}},{key:"useContractForExtraButtonShow",get:function(){return this._useContractForExtraButtonShow},set:function(e){var t=this;this.logger.start(this.COMPONENT_NAME+' set useContractForExtraButtonShow("'+e+'")');var i=this.toBoolean(e),n=s.ComponentHelper.getAttributeAsString(this,"contractname","");if(0!==n.length&&this._useContractForExtraButtonShow!==i){this.setAttribute("useContractForExtraButtonShow".toLowerCase(),i.toString()),this._useContractForExtraButtonShow=i;var r={caller:this,attrKey:"useContractForExtraButtonShow",value:n+"ExtraButton",callbackOnSignalReceived:function(e){e=e,t.info(" subs callback for useContractForExtraButtonShow: ",t._useContractForExtraButtonShowSignalValue," Signal has value ",e),(e||!e&&t.showExtraButton)&&t.showExtraButtonHandler()}};this.setValueForReceiveStateString(r),this.logger.stop()}}},{key:"receiveStateExtraButtonShow",set:function(e){var t=this;if(!this.checkIfContractAllows("useContractForExtraButtonShow","receiveStateExtraButtonShow",e)&&""!==(e=this._checkAndSetStringValue(e))&&e!==this._receiveStateExtraButtonShow){this.clearBooleanSignalSubscription(this._receiveStateExtraButtonShow,this._subKeySigReceiveExtraButtonShow),this._receiveStateExtraButtonShow=e,this.setAttribute("receivestateextrabuttonshow",e);var n=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateExtraButtonShow),s=r.Ch5SignalFactory.getInstance().getBooleanSignal(n);null!==s&&(this._subKeySigReceiveExtraButtonShow=s.subscribe(function(e){t.info(" subs callback for signalReceiveExtraButtonShow: ",t._subKeySigReceiveExtraButtonShow," Signal has value ",e),t.showExtraButton=e,e?(t.classList.remove(i.btnTypeClassPrefix+"extra-row-hide"),t.classList.add(i.btnTypeClassPrefix+"extra-row-show"),t.classList.add("ch5-keypad--for-extra-button")):(t.classList.remove(i.btnTypeClassPrefix+"extra-row-show"),t.classList.add(i.btnTypeClassPrefix+"extra-row-hide"),t.classList.remove("ch5-keypad--for-extra-button"))}))}}},{key:"initAttributes",value:function(){this.logger.start("initAttributes",this.COMPONENT_NAME),_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.setAttribute("data-ch5-id",this.getCrId()),s.ComponentHelper.setAttributeToElement(this,"role",a.Ch5RoleAttributeMapping.ch5Keypad),this.contractName=s.ComponentHelper.setAttributeToElement(this,"contractName".toLowerCase(),this._contractName),this.type=s.ComponentHelper.setAttributeToElement(this,"type",this._type),this.shape=s.ComponentHelper.setAttributeToElement(this,"shape",this._shape),this.stretch=s.ComponentHelper.setAttributeToElement(this,"stretch",this._stretch),this.textOrientation=s.ComponentHelper.setAttributeToElement(this,"textOrientation",this._textOrientation),this.sendEventOnClickStart=s.ComponentHelper.setAttributeToElement(this,"sendEventOnClickStart".toLowerCase(),this._sendEventOnClickStart),this.showExtraButton=this.getAttribute("showextrabutton"),this.size=s.ComponentHelper.setAttributeToElement(this,"size",this._size);var e=Boolean(this.contractName).toString();this.useContractForEnable=s.ComponentHelper.getBoolFromString(s.ComponentHelper.setAttributeToElement(this,"useContractForEnable",e)),this.useContractForShow=s.ComponentHelper.getBoolFromString(s.ComponentHelper.setAttributeToElement(this,"useContractForShow",e)),this.useContractForCustomStyle=s.ComponentHelper.getBoolFromString(s.ComponentHelper.setAttributeToElement(this,"useContractForCustomStyle",e)),this.useContractForCustomClass=s.ComponentHelper.getBoolFromString(s.ComponentHelper.setAttributeToElement(this,"useContractForCustomClass",e)),this.useContractForExtraButtonShow=s.ComponentHelper.getBoolFromString(s.ComponentHelper.setAttributeToElement(this,"useContractForExtraButtonShow",e)),this.receiveStateEnable=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute("receivestateenable"),this._receiveStateEnable,""),this.receiveStateCustomClass=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute("receivestatecustomclass"),this._receiveStateCustomClass,""),this.receiveStateHidePulse=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute("receivestatehidepulse"),this._receiveStateHidePulse,""),this.receiveStateCustomStyle=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute("receivestatecustomstyle"),this._receiveStateCustomStyle,""),this.receiveStateShow=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute("receivestateshow"),this._receiveStateShow,""),this.receiveStateShowPulse=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute("receivestateshowpulse"),this._receiveStateShowPulse,""),this.logger.stop()}},{key:"connectedCallback",value:function(){var e=this;this.logger.start("connectedCallback() - start",this.COMPONENT_NAME),this.initAttributes(),(0,c.subscribeInViewPortChange)(this,function(){e.elementIsInViewPort&&e.stretchHandler()}),this.buildRuntimeChildButtonList(),s.ComponentHelper.clearComponentContent(this),Promise.all([customElements.whenDefined("ch5-keypad-button")]).then(function(){e.onAllSubElementsCreated(),e.initAttributes(),e.isComponentLoaded&&e.info("connectedCallback() - rendered",e.COMPONENT_NAME)}),this.logger.stop()}},{key:"onAllSubElementsCreated",value:function(){var e=this;this.logger.start("onAllSubElementsCreated() - start",this.COMPONENT_NAME),customElements.whenDefined("ch5-keypad").then(function(){e.createElementsAndInitialize(),e.updateCssClasses(),e.attachEventListeners(),e.stretchHandler(),e.isComponentLoaded=!0}),this.logger.stop()}},{key:"createElementsAndInitialize",value:function(){this._wasInstatiated||this.createHtmlElements(),this._wasInstatiated=!0}},{key:"disconnectedCallback",value:function(){this.logger.log("disconnectedCallback"),this.removeEvents(),this.unsubscribeFromSignals(),(0,c.unSubscribeInViewPortChange)(this),this.container&&this.container.style&&(this.container.style.removeProperty("height"),this.container.style.removeProperty("width")),this.disconnectCommonMutationObserver()}},{key:"removeEvents",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),window.removeEventListener("resize",this.onWindowResizeHandler)}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this)}},{key:"attributeChangedCallback",value:function(e,t,n){if(this.logger.start("attributeChangedCallback",this.COMPONENT_NAME),t!==n){this.info('ch5-keypad attributeChangedCallback("'+e+'","'+t+'","'+n+'")');var r=s.ComponentHelper.getAttributeAsString(this,"contractname","").length>0;switch(e){case"usecontractforshow":this.useContractForShow=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),this.hasAttribute("usecontractforshow")&&"false"!==this.getAttribute("usecontractforshow"),"");break;case"usecontractforenable":this.useContractForEnable=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),this.hasAttribute("usecontractforenable")&&"false"!==this.getAttribute("usecontractforenable"),"");break;case"usecontractforcustomstyle":this.useContractForCustomStyle=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),this.hasAttribute("usecontractforcustomstyle")&&"false"!==this.getAttribute("usecontractforcustomstyle"),"");break;case"usecontractforcustomclass":this.useContractForCustomClass=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),this.hasAttribute("usecontractforcustomclass")&&"false"!==this.getAttribute("usecontractforcustomclass"),"");break;case"receivestateextrabuttonshow":r||(this.receiveStateExtraButtonShow=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),n,""));break;case"receivestateshow":case"receivestateenable":case"receivestateshowpulse":case"receivestatehidepulse":case"receivestatecustomstyle":case"receivestatecustomclass":r||_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n);break;case"sendeventonclickstart":r||(this.sendEventOnClickStart=s.ComponentHelper.setAttributesBasedValue(this.hasAttribute(e),n,""));break;case"type":this.type=n;break;case"shape":this.shape=n;break;case"stretch":this.stretch=n;break;case"textorientation":this.textOrientation=n;break;case"contractname":if(n!==n.replace(/[\.]+$/,"")+"."){this.setAttribute("contractname",n.replace(/[\.]+$/,"")+".");break}this.contractName=n,this.updateContractNameBasedHandlers(this._contractName);break;case"size":this.size=n;break;case"showextrabutton":this.showExtraButton=n;break;case"show":case"disabled":r||_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n);break;default:this.logger.log("attributeChangedCallback: going to default"),_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}this.logger.stop()}else this.logger.stop()}},{key:"updateCssClasses",value:function(){_get(_getPrototypeOf(i.prototype),"updateCssClasses",this).call(this);var e,t=_createForOfIteratorHelper(i.TYPES);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.classList.remove(i.btnTypeClassPrefix+n)}}catch(g){t.e(g)}finally{t.f()}this.classList.add(i.btnTypeClassPrefix+this.type);var s,r=_createForOfIteratorHelper(i.SHAPES);try{for(r.s();!(s=r.n()).done;){var a=s.value;this.classList.remove(i.btnShapeClassPrefix+a)}}catch(g){r.e(g)}finally{r.f()}this.classList.add(i.btnShapeClassPrefix+this.shape);var o,l=_createForOfIteratorHelper(i.TEXT_ORIENTATIONS);try{for(l.s();!(o=l.n()).done;){var u=o.value;this.classList.remove(i.btnTextOrientationClassPrefix+u)}}catch(g){l.e(g)}finally{l.f()}this.classList.add(i.btnTextOrientationClassPrefix+this.textOrientation);var c,h=_createForOfIteratorHelper(i.SIZES);try{for(h.s();!(c=h.n()).done;){var d=c.value;this.classList.remove(i.btnSizeClassPrefix+d)}}catch(g){h.e(g)}finally{h.f()}this.classList.add(i.btnSizeClassPrefix+this.size);var f,p=_createForOfIteratorHelper(i.STRETCHES);try{for(p.s();!(f=p.n()).done;){var v=f.value;this.classList.remove(i.btnStretchClassPrefix+v)}}catch(g){p.e(g)}finally{p.f()}this.stretch&&this.stretch.length>0&&this.classList.add(i.btnStretchClassPrefix+this.stretch),this.classList.add(i.btnTypeClassPrefix+(this.showExtraButton?"extra-row-show":"extra-row-hide"))}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),window.addEventListener("resize",this.onWindowResizeHandler.bind(this))}},{key:"createHtmlElements",value:function(){this.logger.start("createHtmlElements",this.COMPONENT_NAME),this.classList.add(this.primaryCssClass),this.createAndAppendAllButtonsUnderKeypad(),this.logger.stop()}},{key:"createAndAppendAllButtonsUnderKeypad",value:function(){for(var e=0,t=Array.from(this.children);e<t.length;e++){t[e].remove()}this.createEmptyContainerDiv();for(var i=l.CH5KeypadButtonData.getBtnList(this.runtimeChildButtonList,this.contractName,this.sendEventOnClickStart),n=this.appendKeysRowToContainer(),s=0;s<i.length;s++){s%3==0&&(n=this.appendKeysRowToContainer(),this.container.appendChild(n));var r=i[s],a=new o.Ch5KeypadButton(r);this.childButtonList[r.name]=a,n.appendChild(a)}(this.useContractForExtraButtonShow||this.showExtraButton)&&this.showExtraButtonHandler()}},{key:"createEmptyContainerDiv",value:function(){for((s.ComponentHelper.isNullOrUndefined(this.container)||s.ComponentHelper.isNullOrUndefined(this.container.classList)||0===this.container.classList.length)&&(this.container=document.createElement("div"),this.container.classList.add(this.containerClass)),this.container.parentElement!==this&&this.appendChild(this.container);this.container.firstChild;)this.container.removeChild(this.container.firstChild)}},{key:"showExtraButtonForNonContract",value:function(){this._useContractForExtraButtonShow||this.showExtraButtonHandler()}},{key:"showExtraButtonHandler",value:function(){this.logger.start(this.COMPONENT_NAME+" > showExtraButtonHandler"),this.updateCssClasses();var e=this.getElementsByClassName(this.keysRowClassExtra);e.length>0&&Array.from(e).forEach(function(e){e.remove()});var t=this.contractName.trim().length>0&&this.useContractForExtraButtonShow;if((t||!t&&this.showExtraButton)&&this.container.classList&&this.container.classList.contains(this.containerClass)){if("."===this.contractName.trim())return;this.classList.add("ch5-keypad--for-extra-button");var i=this.appendKeysRowToContainer();this.container.appendChild(i),i.classList.add(this.keysRowClassExtra);var n,s=_createForOfIteratorHelper(l.CH5KeypadButtonData.getBtnList_Extra(this.runtimeChildButtonList,this.contractName,this.sendEventOnClickStart));try{for(s.s();!(n=s.n()).done;){var r=n.value,a=new o.Ch5KeypadButton(r);this.childButtonList[r.name]=a,i.appendChild(a)}}catch(u){s.e(u)}finally{s.f()}}else this.classList.remove("ch5-keypad--for-extra-button");this.logger.stop()}},{key:"appendKeysRowToContainer",value:function(){var e=document.createElement("section");return e.classList.add(this.keysRowClass),e}},{key:"checkIfContractAllows",value:function(e,t,i){e=e.toLowerCase(),t=t.toLowerCase(),this.info("Ch5Keypad set "+e+'("'+i+'")');var n=s.ComponentHelper.getAttributeAsString(this,"contractname","");return s.ComponentHelper.getAttributeAsBool(this,t,this.checkIfValueIsTruey(n))}},{key:"buildRuntimeChildButtonList",value:function(){var e=Array.from(this.children);if(e.length>0){var t,i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;if("ch5-keypad-button"===n.tagName.toLowerCase()){var s=l.CH5KeypadButtonData.getChildBtnDTOFromElement(n,this.contractName,this.sendEventOnClickStart);this.runtimeChildButtonList.hasOwnProperty(s.name)||(this.runtimeChildButtonList[s.name]=s)}}}catch(r){i.e(r)}finally{i.f()}}}},{key:"updateContractNameBasedHandlers",value:function(e){this.logger.start(this.COMPONENT_NAME+" > updateContractNameBasedHandlers"),this.logger.stop()}},{key:"shapeHandler",value:function(){this.logger.start(this.COMPONENT_NAME+" > shapeHandler"),this.updateCssClasses(),this.logger.stop()}},{key:"setContainerHeightAndWidth",value:function(e,t){this.container.style.height=e+"px",this.container.style.width=t+"px"}},{key:"stretchHandler",value:function(){if(this.logger.start(this.COMPONENT_NAME+" > stretchHandler"),this.updateCssClasses(),this.container.classList&&this.container.classList.contains(this.containerClass))if(this.stretch&&this.stretch.length>0){var e=this.contractName.length>0&&this.useContractForExtraButtonShow,t=e||!e&&this.showExtraButton?5:4,i=this.offsetHeight/t,n=this.offsetWidth/3;if(!this.parentElement){var s=Math.min(i,n);return this.setContainerHeightAndWidth(s*t,3*s),this.logger.stop()}var r=this.parentElement,a=r.offsetHeight,o=r.offsetWidth;if("width"===this.stretch||"both"===this.stretch&&o<=a){for(var l=Math.floor((o-24)/3);l*t+6*(t+1)>a;)l--;this.setContainerHeightAndWidth(l*t+6*(t+1),3*l+24)}else if("height"===this.stretch||"both"===this.stretch&&a<o){for(var u=Math.floor((a-6*(t+1))/t);3*u+24>o;)u--;this.setContainerHeightAndWidth(u*t+6*(t+1),3*u+24)}}else this.container.style.removeProperty("height"),this.container.style.removeProperty("width");this.logger.stop()}},{key:"typeHandler",value:function(){this.logger.start(this.COMPONENT_NAME+" > typeHandler"),this.updateCssClasses(),this.logger.stop()}},{key:"textOrientationHandler",value:function(){this.logger.start(this.COMPONENT_NAME+" > textOrientationHandler"),this.updateCssClasses(),this.logger.stop()}},{key:"updateEventClickHandlers",value:function(e){if(this.logger.start(this.COMPONENT_NAME+" > updateEventClickHandlers"),this.contractName.length<=0)for(var t in this.childButtonList)this.childButtonList.hasOwnProperty(t)&&this.childButtonList[t].setJoinBasedEventHandler(e);this.logger.stop()}},{key:"sizeHandler",value:function(){this.logger.start(this.COMPONENT_NAME+" > sizeHandler"),this.updateCssClasses(),this.logger.stop()}},{key:"onWindowResizeHandler",value:function(){var e=this;this.stretch&&this.stretch.length>0&&!this.isResizeInProgress&&(this.isResizeInProgress=!0,setTimeout(function(){e.stretchHandler(),e.isResizeInProgress=!1},this.resizeDebounce))}}],[{key:"registerSignalAttributeTypes",value:function(){u.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"observedAttributes",get:function(){return n.Ch5Common.observedAttributes.concat(["contractname","type","shape","stretch","showextrabutton","sendeventonclickstart","usecontractforenable","usecontractforshow","size","receivestateextrabuttonshow","usecontractforextrabuttonshow"]).concat([]).concat([])}}]),i}();t.Ch5Keypad=h,h.ELEMENT_NAME="ch5-keypad",h.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateshow:{direction:"state",booleanJoin:1,contractName:!0},receivestateenable:{direction:"state",booleanJoin:1,contractName:!0},receivestateshowpulse:{direction:"state",booleanJoin:1,contractName:!0},receivestatehidepulse:{direction:"state",booleanJoin:1,contractName:!0},receivestatecustomstyle:{direction:"state",stringJoin:1,contractName:!0},receivestatecustomclass:{direction:"state",stringJoin:1,contractName:!0},receivestateextrabuttonshow:{direction:"state",stringJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventontouch:{direction:"event",booleanJoin:1,contractName:!0},sendeventonclickstart:{direction:"event",booleanJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),h.TYPES=["default","primary","info","text","danger","warning","success","secondary"],h.SHAPES=["rounded-rectangle","square","circle"],h.STRETCHES=["both","width","height"],h.TEXT_ORIENTATIONS=["top","right","bottom","left"],h.SIZES=["regular","x-small","small","large","x-large"],h.btnTypeClassPrefix="ch5-keypad--type-",h.btnStretchClassPrefix="ch5-keypad--stretch-",h.btnShapeClassPrefix="ch5-keypad--shape-",h.btnTextOrientationClassPrefix="ch5-keypad--orientation-",h.btnSizeClassPrefix="ch5-keypad--size-",h.COMPONENT_DATA={TYPES:{default:h.TYPES[0],values:h.TYPES,key:"type",attribute:"type",classListPrefix:h.btnTypeClassPrefix},STRETCHES:{default:null,values:h.STRETCHES,key:"stretch",attribute:"stretch",classListPrefix:h.btnStretchClassPrefix},SHAPES:{default:h.SHAPES[0],values:h.SHAPES,key:"shape",attribute:"shape",classListPrefix:h.btnShapeClassPrefix},TEXT_ORIENTATIONS:{default:h.TEXT_ORIENTATIONS[0],values:h.TEXT_ORIENTATIONS,key:"textorientation",attribute:"textorientation",classListPrefix:h.btnTextOrientationClassPrefix},SIZES:{default:h.SIZES[0],values:h.SIZES,key:"size",attribute:"size",classListPrefix:"ch5-keypad--size-"}},"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(h.ELEMENT_NAME,h),h.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(116),t)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ButtonPressInfo=void 0;var s=n(i(5));t.Ch5ButtonPressInfo=function(){function e(){_classCallCheck(this,e),this._threshold=15,this._startX=0,this._startY=0,this._endX=0,this._endY=0}return _createClass(e,[{key:"valid",value:function(){return this.calculatePointDiff()<this._threshold}},{key:"saveStart",value:function(e,t){this.startX=e,this.startY=t}},{key:"saveEnd",value:function(e,t){this.endX=e,this.endY=t}},{key:"startX",get:function(){return this._startX},set:function(e){(0,s.default)(e)||(this._startX=e)}},{key:"startY",get:function(){return this._startY},set:function(e){(0,s.default)(e)||(this._startY=e)}},{key:"endX",get:function(){return this._endX},set:function(e){(0,s.default)(e)||(this._endX=e)}},{key:"endY",get:function(){return this._endY},set:function(e){(0,s.default)(e)||(this._endY=e)}},{key:"calculatePointDiff",value:function(){return Math.sqrt(Math.pow(this.endX-this.startX,2)+Math.pow(this.endY-this.startY,2))}}]),e}()},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(a,o)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5DpadChildBase=void 0;var r=s(i(1)),a=i(118),o=i(3),l=i(21),u=i(0),c=i(16),h=i(4),d=i(43),f=i(32),p=function(e){_inherits(i,o.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).primaryCssClass="",e.cssClassPrefix="",e.pressedCssClassPostfix="--pressed",e.LABEL_CLASS="dpad-btn-label",e.COMPONENT_NAME="",e.componentPrefix="ch5-dpad-button-",e.CSS_CLASS_LIST={commonBtnClass:"ch5-dpad-child",primaryIconClass:"fas",imageClassName:"image-url",primaryTagClass:"",defaultIconClass:"",defaultArrowClass:""},e._label="",e._iconClass="",e._iconUrl="",e._sendEventOnClick="",e._key=null,e._icon={},e.buttonType=null,e.isTouch=!1,e.allowPress=!0,e.allowPressTimeout=0,e._intervalIdForRepeatDigital=null,e._lastTapTime=0,e._pressable=null,e._hammerManager={},e._pressTimeout=0,e._pressed=!1,e._buttonPressedInPressable=!1,e._isPressedSubscription=null,e._repeatDigitalInterval=null,e.TOUCH_TIMEOUT=250,e.DEBOUNCE_PRESS_TIME=200,e.PRESS_MOVE_THRESHOLD=10,e.STATE_CHANGE_TIMEOUTS=500,e.MAX_MODE_LENGTH=99,e.DEBOUNCE_BUTTON_DISPLAY=25,e._pressHorizontalStartingPoint=null,e._pressVerticalStartingPoint=null,e._pressInfo={},e.logger.start("constructor()",e.COMPONENT_NAME),f.CH5DpadUtils.clearComponentContent(_assertThisInitialized(e)),e._pressInfo=new a.Ch5ButtonPressInfo,e.bindEventListenersToThis(),e.updatePressedClass(e.primaryCssClass+e.pressedCssClassPostfix),e.logger.stop(),e}return _createClass(i,[{key:"label",get:function(){return this._label},set:function(e){this.logger.start('set label("'+e+'")'),r.default.isNil(e)&&(e=""),e!==this.label&&(this._label=e,this.setAttribute("label",e))}},{key:"key",get:function(){return this._key},set:function(e){this.logger.start('set key("'+e+'")'),r.default.isNil(e)||e!==this.key&&(this._key=e,this.setAttribute("key",e),f.CH5DpadUtils.setAttributeToElement(this,"key",e))}},{key:"iconClass",get:function(){return this._iconClass},set:function(e){var t,i;if(this.logger.start('set iconClass("'+e+'")'),r.default.isNil(e)&&(e=this.CSS_CLASS_LIST.defaultIconClass),e!==this.iconClass){var n=this._iconClass;this._iconClass=e,this.setAttribute("iconClass",e),this._iconUrl.length<1&&(this._iconClass.length>0?(this._icon.classList.remove(this.CSS_CLASS_LIST.primaryIconClass),this.CSS_CLASS_LIST.defaultIconClass&&this._icon.classList.remove(this.CSS_CLASS_LIST.defaultIconClass),(t=this._icon.classList).add.apply(t,_toConsumableArray(this._iconClass.split(" ").filter(function(e){return e})))):((i=this._icon.classList).remove.apply(i,_toConsumableArray(n.split(" ").filter(function(e){return e}))),this._icon.classList.add(this.CSS_CLASS_LIST.primaryIconClass),this.CSS_CLASS_LIST.defaultIconClass&&""!==this.CSS_CLASS_LIST.defaultIconClass&&this._icon.classList.add(this.CSS_CLASS_LIST.defaultIconClass)))}}},{key:"iconUrl",get:function(){return this._iconUrl},set:function(e){this.logger.start('set iconUrl("'+e+'")'),r.default.isNil(e)&&(e=""),e!==this.iconUrl&&(this._iconUrl=e,this.setAttribute("iconUrl",e),this.iconUrl.length>0?(this._icon.classList.add(this.CSS_CLASS_LIST.imageClassName),this._icon.style.backgroundImage="url(".concat(e,")")):this._icon.classList.remove(this.CSS_CLASS_LIST.imageClassName))}},{key:"sendEventOnClick",get:function(){return this._sendEventOnClick},set:function(e){this.logger.start('set sendEventOnClick("'+e+'")'),""!==e&&e!==this._sendEventOnClick&&(this._sendEventOnClick=e,this.setAttribute("sendEventOnClick".toLowerCase(),e))}},{key:"pressed",get:function(){return!!this._pressable&&this._pressable._pressed},set:function(e){this.logger.log('set pressed("'+e+'")'),this._pressable&&this._pressable._pressed!==e&&this._pressable.setPressed(e),this._pressed=e,this.updatePressedClass(this.primaryCssClass+this.pressedCssClassPostfix),this.classList.add(this.primaryCssClass+this.pressedCssClassPostfix)}},{key:"initializeParams",value:function(e){this.buttonType=e.btnType,this.COMPONENT_NAME=this.componentPrefix+e.btnType,this.CSS_CLASS_LIST.primaryTagClass=e.btnType,this.CSS_CLASS_LIST.defaultIconClass=e.defaultIconClass,e.defaultArrowClass&&""!==e.defaultArrowClass&&(this.CSS_CLASS_LIST.defaultArrowClass=e.defaultArrowClass),this.primaryCssClass=this.componentPrefix+e.btnType,this.cssClassPrefix=this.componentPrefix+e.btnType,this.updatePressedClass(this.primaryCssClass+this.pressedCssClassPostfix)}},{key:"connectedCallback",value:function(){var e=this;if(this.logger.start("connectedCallback() - start",this.COMPONENT_NAME),this.parentElement&&(!this.parentElement||"ch5-dpad"!==this.parentElement.nodeName.toLowerCase())){if(this.parentElement&&this.parentElement.parentElement&&!(this.parentElement.parentElement instanceof d.Ch5Dpad))throw new Error("Invalid parent element for ch5-dpad-button-".concat(this.buttonType,". \n            Please ensure the parent tag is ch5-dpad, and other mandatory sibling \n            elements are available too."));this.setAttribute("data-ch5-id",this.getCrId()),r.default.isNil(this._pressable)||(this._pressable.init(),this._subscribeToPressableIsPressed()),this._hammerManager=new Hammer(this),this.createElementsAndInitialize(),customElements.whenDefined("ch5-dpad-button").then(function(){e.initCommonMutationObserver(e),e.logger.stop()})}}},{key:"createElementsAndInitialize",value:function(){this._wasInstatiated||f.CH5DpadUtils.createIconTag(this),this.initAttributes(),this._wasInstatiated||(this.createHtmlElements(),this._wasInstatiated=!0),this.attachEventListeners(),this.updateCssClasses()}},{key:"createHtmlElements",value:function(){var e;this.logger.start("createHtmlElements",this.COMPONENT_NAME),this.primaryCssClass&&""!==this.primaryCssClass&&this.classList.add(this.primaryCssClass),this.classList.add(this.CSS_CLASS_LIST.commonBtnClass),this.CSS_CLASS_LIST.primaryTagClass&&""!==this.CSS_CLASS_LIST.primaryTagClass&&this.classList.add(this.CSS_CLASS_LIST.primaryTagClass),this.CSS_CLASS_LIST.defaultArrowClass&&""!==this.CSS_CLASS_LIST.defaultArrowClass&&this.classList.add(this.CSS_CLASS_LIST.defaultArrowClass),this.iconUrl.length>0?(this._icon=f.CH5DpadUtils.getImageContainer(this.iconUrl),this._icon.style.backgroundImage="url(".concat(this.iconUrl,")")):this.iconClass?(this._icon=f.CH5DpadUtils.getIconContainer(),(e=this._icon.classList).add.apply(e,_toConsumableArray(this.iconClass.split(" ").filter(function(e){return e})))):this.label.length>0&&"center"===this.key?(this._icon=f.CH5DpadUtils.getLabelContainer(this.LABEL_CLASS),this._icon.innerHTML=this.label):(this._icon=f.CH5DpadUtils.getIconContainer(),this._icon.classList.add(this.CSS_CLASS_LIST.primaryIconClass),this.CSS_CLASS_LIST.defaultIconClass&&""!==this.CSS_CLASS_LIST.defaultIconClass&&this._icon.classList.add(this.CSS_CLASS_LIST.defaultIconClass)),this._icon.parentElement!==this&&this.appendChild(this._icon),this.logger.stop()}},{key:"disconnectedCallback",value:function(){this.logger.start("disconnectedCallback() - start",this.COMPONENT_NAME),this.removeEventListeners(),null!==this._pressable&&this._pressable.destroy(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver(),this.logger.stop()}},{key:"removeEventListeners",value:function(){this._hammerManager&&this._hammerManager.off&&this._hammerManager.off("tap",this._onTap),this.removeEventListener("mousedown",this._onPressClick),this.removeEventListener("click",this._onTap),this.removeEventListener("mouseup",this._onMouseUp),this.removeEventListener("mousemove",this._onMouseMove),this.removeEventListener("touchstart",this._onPress),this.removeEventListener("mouseleave",this._onLeave),this.removeEventListener("touchend",this._onPressUp),this.removeEventListener("touchmove",this._onTouchMove),this.removeEventListener("touchend",this._onTouchEnd),this.removeEventListener("touchcancel",this._onTouchCancel),this.removeEventListener("focus",this._onFocus),this.removeEventListener("blur",this._onBlur),r.default.isNil(this._pressable)||this._unsubscribeFromPressableIsPressed()}},{key:"unsubscribeFromSignals",value:function(){this.logger.start("unsubscribeFromSignals",this.COMPONENT_NAME),_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this);for(var e=u.Ch5SignalFactory.getInstance(),t=0,n=[""];t<n.length;t++){f.CH5DpadUtils.clearSignalValue(e,this,"attrKeySigName","attrKeyPvt")}this.logger.stop()}},{key:"attributeChangedCallback",value:function(e,t,n){if(this.logger.start("attributeChangedCallback",this.COMPONENT_NAME),e=e.toLowerCase(),t!==n){switch(this.info("ch5-dpad-button"+this.buttonType+' attributeChangedCallback("'+e+'","'+t+'","'+n+'")'),e){case"receivestateshow":case"receivestateenable":case"receivestateshowpulse":case"receivestatehidepulse":case"receivestatecustomstyle":case"receivestatecustomclass":case"show":case"disabled":case"sendeventonshow":break;case"iconclass":f.CH5DpadUtils.createIconTag(this),this.iconClass=f.CH5DpadUtils.setAttributesBasedValue(this.hasAttribute(e),n,"");break;case"iconurl":f.CH5DpadUtils.createIconTag(this),this.iconUrl=f.CH5DpadUtils.setAttributesBasedValue(this.hasAttribute(e),n,"");break;case"sendeventonclick":this.sendEventOnClick=f.CH5DpadUtils.setAttributesBasedValue(this.hasAttribute(e),n,"");break;case"key":f.CH5DpadUtils.setAttributeToElement(this,"key",n),this.key=f.CH5DpadUtils.setAttributesBasedValue(this.hasAttribute(e),n,"");break;case"pressed":var s=!1;this.hasAttribute("pressed")&&(s=this.toBoolean(n,!0)),this._pressable&&this._pressable.setPressed(s),this.updateCssClasses();break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}this.logger.stop()}}},{key:"initAttributes",value:function(){this.logger.start("initAttributes",this.COMPONENT_NAME),_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this,["show","disabled","receivestateenable","receivestateshow","receivestateshowpulse","receivestatehidepulse","receivestatecustomclass","receivestatecustomstyle","sendeventonshow"]),f.CH5DpadUtils.setAttributeToElement(this,"role",h.Ch5RoleAttributeMapping.ch5DpadChild),this.iconClass=f.CH5DpadUtils.setAttributeToElement(this,"iconClass",this._iconClass),this.iconUrl=f.CH5DpadUtils.setAttributeToElement(this,"iconUrl",this._iconUrl),this.key=f.CH5DpadUtils.setAttributeToElement(this,"key",this._key);var e=this.buttonType;if(this.parentElement&&this.parentElement.parentElement){var t=this.parentElement.parentElement,n=f.CH5DpadUtils.getAttributeAsString(t,"contractname",""),s=f.CH5DpadUtils.getAttributeAsString(t,"sendeventonclickstart","");if(n.length>0){var r=n+f.CH5DpadUtils.contractSuffix[e];this.sendEventOnClick=r.toString()}else if(s.length>0){var a=parseInt(s,10)+f.CH5DpadUtils.sendEventOnClickSigCountToAdd[e];this.sendEventOnClick=a.toString()}else this.sendEventOnClick=""}this.hasAttribute("pressed")&&this._pressable&&this._pressable.setPressed(this.toBoolean(this.hasAttribute("pressed")&&"false"!==this.getAttribute("pressed"),!1)),this.logger.stop()}},{key:"attachEventListeners",value:function(){var e;_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),null!==this._pressable&&!1===this._pressable.ch5Component.gestureable&&this._hammerManager.on("tap",this._onTap),this.addEventListener("mousedown",this._onPressClick),this.addEventListener("mouseup",this._onMouseUp),this.addEventListener("mousemove",this._onMouseMove),this.addEventListener("touchstart",this._onPress,{passive:!0}),this.addEventListener("mouseleave",this._onLeave),this.addEventListener("touchend",this._onPressUp),this.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.addEventListener("touchend",this._onTouchEnd),this.addEventListener("touchcancel",this._onTouchCancel),this.addEventListener("focus",this._onFocus),this.addEventListener("blur",this._onBlur),r.default.isNil(this._pressable)||(null===(e=this._pressable)||void 0===e||e.init(),this._subscribeToPressableIsPressed())}},{key:"updateCssClasses",value:function(){_get(_getPrototypeOf(i.prototype),"updateCssClasses",this).call(this)}},{key:"updatePressedClass",value:function(e){this._pressable=new l.Ch5Pressable(this,{cssTargetElement:this.getTargetElementForCssClassesAndStyle(),cssPressedClass:e})}},{key:"bindEventListenersToThis",value:function(){this._onTap=this._onTap.bind(this),this._onPressClick=this._onPressClick.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onPress=this._onPress.bind(this),this._onLeave=this._onLeave.bind(this),this._onPressUp=this._onPressUp.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onTouchCancel=this._onTouchCancel.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}},{key:"sendValueForRepeatDigital",value:function(e){if(this._sendEventOnClick){var t=u.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sendEventOnClick);t&&t.name&&t.publish(_defineProperty({},u.Ch5SignalBridge.REPEAT_DIGITAL_KEY,e))}}},{key:"_sendOnClickSignal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._sendEventOnClick&&null!==u.Ch5SignalFactory.getInstance().getBooleanSignal(this._sendEventOnClick)&&(e||this.sendValueForRepeatDigital(!0),t||this.sendValueForRepeatDigital(!1))}},{key:"stopRepeatDigital",value:function(){var e=this;if(this.logger.log("stopRepeatDigital",this._intervalIdForRepeatDigital),this._intervalIdForRepeatDigital)return window.clearInterval(this._intervalIdForRepeatDigital),this.sendValueForRepeatDigital(!1),void(this._intervalIdForRepeatDigital=null);this.sendValueForRepeatDigital(!0),this._intervalIdForRepeatDigital=window.setInterval(function(){e.sendValueForRepeatDigital(!0)},this.TOUCH_TIMEOUT)}},{key:"pressHandler",value:function(){var e=this;return new Promise(function(t,i){e._pressTimeout=window.setTimeout(function(){e.logger.log("Ch5Button._onPress()"),e._pressed=!0,t(e._pressed)},e.TOUCH_TIMEOUT)})}},{key:"cancelPress",value:function(){window.clearTimeout(this._pressTimeout),this._pressed=!1}},{key:"reactivatePress",value:function(){var e=this;clearTimeout(this.allowPressTimeout),this.allowPressTimeout=setTimeout(function(){e.allowPress=!0},this.DEBOUNCE_PRESS_TIME)}},{key:"isExceedingPressMoveThreshold",value:function(e,t,i,n){var s=i-e,r=n-t;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))>this.PRESS_MOVE_THRESHOLD}},{key:"_subscribeToPressableIsPressed",value:function(){var e=this;null===this._isPressedSubscription&&null!==this._pressable&&(this._isPressedSubscription=this._pressable.observablePressed.subscribe(function(t){if(e.info("Ch5DpadButton.pressableSubscriptionCb(".concat(t,")")),t!==e._buttonPressedInPressable)if(e._buttonPressedInPressable=t,!1===t)null!==e._repeatDigitalInterval&&window.clearInterval(e._repeatDigitalInterval),setTimeout(function(){e.setButtonDisplay()},e.STATE_CHANGE_TIMEOUTS);else{null!==e._repeatDigitalInterval&&window.clearInterval(e._repeatDigitalInterval);var i=0;e._repeatDigitalInterval=window.setInterval(function(){++i>=150&&window.clearInterval(e._repeatDigitalInterval)},200),e.setButtonDisplay()}}))}},{key:"_unsubscribeFromPressableIsPressed",value:function(){null!==this._repeatDigitalInterval&&window.clearInterval(this._repeatDigitalInterval),null!==this._isPressedSubscription&&(this._isPressedSubscription.unsubscribe(),this._isPressedSubscription=null)}},{key:"setButtonDisplay",value:function(){this.setButtonDisplayDetails()}},{key:"setButtonDisplayDetails",value:function(){this.logger.start("setButtonDisplayDetails"),this.logger.stop()}},{key:"_onTap",value:function(){this.logger.start(this.COMPONENT_NAME,"- _onTap"),this._onTapAction(),this.logger.stop()}},{key:"_onTapAction",value:function(){this.logger.start(this.COMPONENT_NAME,"- _onTapAction"),null!==this._intervalIdForRepeatDigital?(window.clearInterval(this._intervalIdForRepeatDigital),this.sendValueForRepeatDigital(!1),this._intervalIdForRepeatDigital=null):this._sendOnClickSignal(!1,!1),this.logger.stop()}},{key:"_onPressClick",value:function(e){return n(this,void 0,void 0,_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.logger.start(this.COMPONENT_NAME,"- _onPressClick"),t.t0=this.isTouch,t.t0){t.next=10;break}return clearTimeout(this.allowPressTimeout),t.next=6,this.pressHandler();case 6:this._pressHorizontalStartingPoint=e.clientX,this._pressVerticalStartingPoint=e.clientY,this._lastTapTime=(new Date).valueOf(),this.allowPress&&(this.allowPress=!1,this.stopRepeatDigital(),this.logger.stop());case 10:case"end":return t.stop()}},t,this)}))}},{key:"_onMouseUp",value:function(){if(this.logger.start("_onMouseUp"),this.isTouch)!function(e){setTimeout(function(){null!=e._intervalIdForRepeatDigital&&(clearTimeout(e._intervalIdForRepeatDigital),e._intervalIdForRepeatDigital=null),e.sendValueForRepeatDigital(!1)},200)}(this);else{this.cancelPress(),this.reactivatePress(),this._intervalIdForRepeatDigital?this.stopRepeatDigital():this._pressed;var e=(new Date).valueOf()-this._lastTapTime;this._lastTapTime&&e<this.DEBOUNCE_PRESS_TIME&&this.logger.log("Ch5Button debouncing duplicate press/hold and click "+e),this.logger.stop()}}},{key:"_onMouseMove",value:function(e){!this.isTouch&&this._intervalIdForRepeatDigital&&this._pressHorizontalStartingPoint&&this._pressVerticalStartingPoint&&this.isExceedingPressMoveThreshold(this._pressHorizontalStartingPoint,this._pressVerticalStartingPoint,e.clientX,e.clientY)&&this.stopRepeatDigital()}},{key:"_onPress",value:function(e){return n(this,void 0,void 0,_regeneratorRuntime().mark(function t(){var i;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.logger.start("_onPress"),i=(0,c.normalizeEvent)(e),this.isTouch=!0,clearTimeout(this.allowPressTimeout),this._pressInfo.saveStart(i.x,i.y),t.next=7,this.pressHandler();case 7:this.allowPress&&(this.allowPress=!1,this.stopRepeatDigital());case 8:case"end":return t.stop()}},t,this)}))}},{key:"_onLeave",value:function(){this.logger.start("_onPressUp"),this._intervalIdForRepeatDigital&&this.stopRepeatDigital()}},{key:"_onPressUp",value:function(){this.logger.start("_onPressUp"),window.clearTimeout(this._pressTimeout),this.reactivatePress(),this._pressed&&(this.logger.log("Ch5Button._onPressUp()"),this._pressed=!1,this._intervalIdForRepeatDigital&&(window.clearInterval(this._intervalIdForRepeatDigital),this.sendValueForRepeatDigital(!1),this._intervalIdForRepeatDigital=null))}},{key:"_onTouchMove",value:function(e){this.logger.start("_onTouchMove"),e.cancelable&&e.preventDefault();var t=(0,c.normalizeEvent)(e);if(this._pressInfo.saveEnd(t.x,t.y),!this._pressInfo.valid())return window.clearTimeout(this._pressTimeout),void(null!==this._intervalIdForRepeatDigital&&this.stopRepeatDigital())}},{key:"_onTouchEnd",value:function(e){this.logger.start("_onTouchEnd"),this._intervalIdForRepeatDigital&&this.stopRepeatDigital()}},{key:"_onTouchCancel",value:function(e){this.logger.start("_onTouchCancel"),this._intervalIdForRepeatDigital&&this.stopRepeatDigital()}},{key:"_onFocus",value:function(e){var t;this.logger.start("_onFocus"),t=new Event(e.type,e),this.dispatchEvent(t),e.preventDefault(),e.stopPropagation()}},{key:"_onBlur",value:function(e){var t;this.logger.start("_onBlur"),this.reactivatePress(),t=new Event(e.type,e),this.dispatchEvent(t),e.preventDefault(),e.stopPropagation()}}],[{key:"observedAttributes",get:function(){return o.Ch5Common.observedAttributes.concat(["iconclass","iconurl","sendeventonclick","pressed"]).concat([]).concat([])}}]),i}();t.Ch5DpadChildBase=p,p.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},o.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventontouch:{direction:"event",booleanJoin:1,contractName:!0}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5DpadButton=void 0;var n=i(2),s=i(119),r=i(32),a=function(e){_inherits(i,s.Ch5DpadChildBase);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.call(this)}return _createClass(i,[{key:"attributeChangedCallback",value:function(e,t,n){if(this.logger.start("attributeChangedCallback",this.COMPONENT_NAME),e=e.toLowerCase(),t!==n){switch(this.info('ch5-dpad-button attributeChangedCallback("'+e+'","'+t+'","'+n+'")'),e){case"label":r.CH5DpadUtils.createIconTag(this),this.label=r.CH5DpadUtils.setAttributesBasedValue(this.hasAttribute(e),n,"");break;case"key":r.CH5DpadUtils.createIconTag(this),this.key=r.CH5DpadUtils.setAttributesBasedValue(this.hasAttribute(e),n,""),n&&_get(_getPrototypeOf(i.prototype),"initializeParams",this).call(this,{primaryTagClass:n,defaultIconClass:i.DEFAULT_ICONS[n],defaultArrowClass:"center"===n?"":"direction-btn",btnType:n});break;case"pressed":r.CH5DpadUtils.setAttributeToElement(this,"pressed",n),this.pressed=r.CH5DpadUtils.setAttributesBasedValue(this.hasAttribute(e),n,"");break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}this.logger.stop()}}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.label=r.CH5DpadUtils.setAttributeToElement(this,"label",this._label)}}],[{key:"registerSignalAttributeTypes",value:function(){n.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"observedAttributes",get:function(){return s.Ch5DpadChildBase.observedAttributes.concat(["label","iconclass","iconurl","key","pressed"]).concat([]).concat([])}}]),i}();t.Ch5DpadButton=a,a.ELEMENT_NAME="ch5-dpad-button",a.DEFAULT_ICONS={up:"fa-caret-up",down:"fa-caret-down",left:"fa-caret-left",right:"fa-caret-right",center:"fa-circle"},"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(a.ELEMENT_NAME,a),a.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(43),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5VideoTouchManager=void 0,t.Ch5VideoTouchManager=function(){function e(t){_classCallCheck(this,e),this._onTouchStart=this._onTouchStart.bind(this),document.addEventListener("touchstart",this._onTouchStart),this._onTouchMove=this._onTouchMove.bind(this),document.addEventListener("touchmove",this._onTouchMove),this._onTouchEnd=this._onTouchEnd.bind(this),document.addEventListener("touchend",this._onTouchEnd),this._onTouchCancel=this._onTouchCancel.bind(this),document.addEventListener("touchcancel",this._onTouchCancel),this.customOnTouchHandlers=this.updateHandlersIfUnavailable(t)}return _createClass(e,[{key:"updateHandlersIfUnavailable",value:function(e){return{pollingDuration:this.checkAndReturnDefault(e.pollingDuration,300),onTouchStartHandler:this.checkAndReturnDefault(e.onTouchStartHandler,function(){console.log("empty onTouchStartHandler")}),onTouchMoveHandler:this.checkAndReturnDefault(e.onTouchMoveHandler,function(){console.log("empty onTouchMoveHandler")}),onTouchEndHandler:this.checkAndReturnDefault(e.onTouchEndHandler,function(){console.log("empty onTouchEndHandler")}),onTouchCancelHandler:this.checkAndReturnDefault(e.onTouchCancelHandler,function(){console.log("empty onTouchCancelHandler")}),componentID:e.componentID}}},{key:"_onTouchStart",value:function(e){console.log("Ch5VideoTouch ","_onTouchStart(".concat(e.type,")")),this.customOnTouchHandlers.onTouchStartHandler()}},{key:"_onTouchMove",value:function(e){console.log("Ch5VideoTouch ","_onTouchMove(".concat(e.type,")")),this.customOnTouchHandlers.onTouchMoveHandler()}},{key:"_onTouchEnd",value:function(e){console.log("Ch5VideoTouch ","_onTouchEnd(".concat(e.type,")")),this.customOnTouchHandlers.onTouchEndHandler()}},{key:"_onTouchCancel",value:function(e){console.log("Ch5VideoTouch ","_onTouchCancel(".concat(e.type,")")),this.customOnTouchHandlers.onTouchCancelHandler()}},{key:"checkAndReturnDefault",value:function(e,t){return null!=e&&e?e:t}},{key:"destructor",value:function(){document.removeEventListener("touchstart",this._onTouchStart),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("touchcancel",this._onTouchCancel)}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScrollableParent=void 0,t.getScrollableParent=function(e){var t=/(auto|scroll)/,i=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},n=function(e){return t.test(function(e){return i(e,"overflow")+i(e,"overflow-y")+i(e,"overflow-x")}(e))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){var t,i=_createForOfIteratorHelper(function e(t,i){return null===t.parentNode?i:e(t.parentNode,i.concat([t]))}(e.parentNode,[]));try{for(i.s();!(t=i.n()).done;){var s=t.value;if(n(s))return s}}catch(r){i.e(r)}finally{i.f()}return document.scrollingElement||document.documentElement}}(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddTick=t.AddPreTick=t.AddInitialTick=void 0;var n=[],s=[],r=[],a=!1;function o(){a||(a=!0,l())}function l(){n.forEach(function(e){return e()}),s.forEach(function(e){return e()}),r.forEach(function(e){return e()}),requestAnimationFrame(l)}t.AddInitialTick=function(e){n.push(e),o()},t.AddPreTick=function(e){s.push(e),o()},t.AddTick=function(e){r.push(e),o()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAspectRatio=t.GetViewportDetails=void 0;var n=i(124),s=i(3),r=function(){var e=document.createElement("div");return e.style.position="fixed",e.style.height="100vh",document.documentElement.appendChild(e),e}(),a=!1,o=window.innerWidth,l=r.offsetHeight,u=window.innerHeight,c=window.pageXOffset,h=window.pageYOffset,d=!1,f=!1,p=o,v=l,g=c,b=h;function m(){o=window.innerWidth,u=window.innerHeight,l=r.offsetHeight,c=window.pageXOffset,h=window.pageYOffset,d=p!==o||v!==u,f=g!==c||b!==h,p=o,v=u,g=c,b=h}t.GetViewportDetails=function(){return a||(a=!0,(0,n.AddInitialTick)(m)),{width:o,height:u,heightCollapsedControls:l,scrollX:c,scrollY:h,resized:d,scrolled:f}},t.getAspectRatio=function(e,t,i){var n=s.Ch5Common.convertVhUnitsToPx(i);return function(e,t,i,n){var s=i-i%e,r=n-n%t,a=s-s%e,o=r-r%t,l=a,u=o,c={width:e,height:t};return(u=function(e,t){var i=0;return i=a/c.width*c.height,parseFloat(i.toFixed(2))}())>r&&(u=o,l=function(e,t){var i=0;return i=o/c.height*c.width,parseFloat(i.toFixed(2))}()),{width:l,height:u}}(e,t,s.Ch5Common.convertVwUnitsToPx(i),n)}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5VideoSnapshot=void 0;var s=i(0),r=i(83),a=n(i(1)),o=i(44);t.Ch5VideoSnapshot=function(){function e(t){_classCallCheck(this,e),this.snapShotImage={},this.isSnapShotLoading=!1,this.protocol="",this.videoSnapShotUrl="",this.videoSnapShotUser="",this.videoSnapShotPass="",this.videoSnapShotRefreshRate="",this.url="",this.userId="",this.password="",this.refreshRate=-1,this.isSnapShotloaded=!1,this.videoImage=new Image,this.videoImage.style.width="100%",this.videoImage.style.height="100%",this.videoImage.alt="Video Snapshot",this.snapShotObj=t,this.snapShotObj.isMultipleVideo?(this.unSubscribeStates(),this.setSnapShotData()):(this.url=t.snapShotUrl,this.userId=t.snapShotUser,this.password=t.snapShotPass,this.refreshRate=parseInt(t.snapShotRefreshRate,0))}return _createClass(e,[{key:"startLoadingSnapShot",value:function(){var e=this;if(this.isSnapShotLoading=!0,""!==this.url&&-1!==this.refreshRate){if(this.canProcessUri()&&!this.url.startsWith("ch5-img")){var t={protocol:this.protocol,user:this.userId,password:this.password,url:this.url};this.processUri(t)}this.snapShotTimer&&clearInterval(this.snapShotTimer),this.setSnapShot(),this.snapShotTimer=window.setInterval(function(){e.setSnapShot()},1e3*this.refreshRate,0)}}},{key:"stopLoadingSnapShot",value:function(){this.isSnapShotLoading=!1,this.snapShotImage={},this.isSnapShotloaded=!1,clearInterval(this.snapShotTimer)}},{key:"getSnapShot",value:function(){return this.snapShotImage}},{key:"getSnapShotUrl",value:function(){return this.snapShotImage.src}},{key:"getSnapShotStatus",value:function(){return this.isSnapShotloaded}},{key:"processUri",value:function(e){var t={http:"ch5-img-auth",https:"ch5-img-auths"},i=new r.Ch5ImageUriModel(t,e.user,e.password,e.url);i.isValidAuthenticationUri()&&(this.url=i.toString())}},{key:"canProcessUri",value:function(){return!(a.default.isEmpty(this.password)||a.default.isEmpty(this.userId)||a.default.isEmpty(this.url))}},{key:"setSnapShot",value:function(){var e=this;this.videoImage.onerror=function(){e.snapShotImage={},e.isSnapShotloaded=!1,console.log("Video Tag Id: "+e.snapShotObj.videoTagId+", snapshot failed to load.")},this.videoImage.onload=function(t){e.snapShotImage=e.videoImage,e.isSnapShotloaded=!0},this.videoImage.src=this.url+"#"+o.CH5VideoUtils.rfc3339TimeStamp()}},{key:"unSubscribeStates",value:function(){this.videoSnapShotUrl&&(0,s.unsubscribeState)("s",this.snapShotObj.snapShotUrl,this.videoSnapShotUrl),this.videoSnapShotUser&&(0,s.unsubscribeState)("s",this.snapShotObj.snapShotUser,this.videoSnapShotUser),this.videoSnapShotPass&&(0,s.unsubscribeState)("s",this.snapShotObj.snapShotPass,this.videoSnapShotPass),this.videoSnapShotRefreshRate&&(0,s.unsubscribeState)("n",this.snapShotObj.snapShotRefreshRate,this.videoSnapShotRefreshRate)}},{key:"setSnapShotData",value:function(){this.setSnapshotUrl(this.snapShotObj.snapShotUrl),this.setSnapshotUserId(this.snapShotObj.snapShotUser),this.setSnapshotPassword(this.snapShotObj.snapShotPass),this.setSnapshotRefreshRate(this.snapShotObj.snapShotRefreshRate)}},{key:"setSnapshotUrl",value:function(e){var t=this;this.videoSnapShotUrl=(0,s.subscribeState)("s",e,function(e){e&&(t.url=e,t.isSnapShotLoading&&t.startLoadingSnapShot())})}},{key:"setSnapshotUserId",value:function(e){var t=this;this.videoSnapShotUser=(0,s.subscribeState)("s",e,function(e){e&&(t.userId=e,t.isSnapShotLoading&&t.startLoadingSnapShot())})}},{key:"setSnapshotPassword",value:function(e){var t=this;this.videoSnapShotPass=(0,s.subscribeState)("s",e,function(e){e&&(t.password=e,t.isSnapShotLoading&&t.startLoadingSnapShot())})}},{key:"setSnapshotRefreshRate",value:function(e){var t=this;this.videoSnapShotRefreshRate=(0,s.subscribeState)("n",e,function(e){e&&(t.refreshRate=e,t.isSnapShotLoading&&t.startLoadingSnapShot())})}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5VideoSubscription=void 0;var n=i(0);t.Ch5VideoSubscription=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getNewSignalName",value:function(e,t,i,s,r){var a="{{".concat(r,"}}");if(i.indexOf(a)>-1){var o=i.replace(new RegExp(a,"g"),"").trim();if(n.Ch5Signal.isIntegerSignalName(o)){var l=parseInt(o,10)+s;this.subscriptionValue=l}else{var u=i.replace(new RegExp(a,"g"),String(s)).trim();this.subscriptionValue=u}}return this.subscriptionValue}}]),e}()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Video=void 0;var s=i(3),r=i(0),a=i(41),o=i(28),l=i(73),u=i(127),c=i(126),h=i(123),d=n(i(5)),f=n(i(1)),p=i(44),v=i(122),g=i(2),b=function(e){_inherits(i,s.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).ESVG_ICONS={PLAY_ICON:'<svg xmlns="http://www.w3.org/2000/svg" class="svgIconStyle" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',STOP_ICON:'<svg xmlns="http://www.w3.org/2000/svg" class="svgIconStyle" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 6h12v12H6z"/></svg>',EXIT_FULLSCREEN_ICON:'<svg xmlns="http://www.w3.org/2000/svg" class="svgIconStyle" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>',FULLSCREEN_ICON:'<svg xmlns="http://www.w3.org/2000/svg" class="svgIconStyle" class="svgIconStyle" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',SCREEN_PLAY_ICON:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',SCREEN_STOP_ICON:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 6h12v12H6z"/></svg>'},e.INTERSECTION_RATIO_VALUE=.98,e.primaryVideoCssClass="ch5-video",e.fullScreenStyleClass="fullScreenStyle",e.showControl="show-control",e.fullScreenBodyClass="ch5-video-fullscreen",e._videoErrorMessages=new Map,e.snapShotMap=new Map,e._performanceMap=new Map,e._wasAppBackGrounded=!1,e._appCurrentStatus=!1,e._scrollableElm={},e.VIDEO_ACTION={START:"start",STARTED:"started",STOP:"stop",STOPPED:"stopped",RESIZE:"resize",RESIZED:"resized",REFILL:"refill",SNAPSHOT:"snapshot",MARK:"mark",NOURL:"nourl",FULLSCREEN:"fullscreen",ERROR:"error",EMPTY:""},e.ch5UId=0,e.vid={},e.videoElement={},e.vidControlPanel={},e.controlFullScreen={},e.fullScreenOverlay={},e.exitTimer=0,e.fullScreenObj={},e.isMultipleVideo=!1,e.ch5BackgroundElements=document.getElementsByTagName("ch5-background"),e.subscriptionEventList=[],e.sizeObj={width:0,height:0},e.position={xPos:0,yPos:0},e.retryCount=0,e.errorCount=0,e.selectObject={subscriptionIds:{url:"",type:"",user:"",videoPass:"",snapShotUrl:"",snapShotRefreshRate:"",snapShotUser:"",snapShotPass:""},values:{url:"",type:"",user:"",videoPass:"",snapShotUrl:"",snapShotRefreshRate:"",snapShotUser:"",snapShotPass:""}},e._snapShotRefreshRate="5",e._indexId="0",e._userId="",e._snapShotUserId="",e._password="",e._snapShotPassword="",e._aspectRatio="16:9",e._stretch="false",e._snapShotUrl="",e._url="",e._sourceType="Network",e._size="large",e._zIndex="0",e._controls="false",e._sendEventSnapShotLastUpdateTime="",e._receiveStateVideoCount="",e._receiveStatePlay="",e._receiveStateSelect="",e._receiveStateSnapShotURL="",e._receiveStateUrl="",e._receiveStateSourceType="",e._receiveStateSnapShotRefreshRate="",e._receiveStateUserId="",e._receiveStateSnapShotUserId="",e._receiveStatePassword="",e._receiveStateSnapShotPassword="",e.subReceiveStatePlay="",e.subReceiveStateUrl="",e.subReceiveStateSelect="",e.subReceiveStateSourceType="",e.subReceiveStateSnapShotUrl="",e.subReceiveStateSnapShotRefreshRate="",e.subReceiveStateUserId="",e.subReceiveStateSnapShotUserId="",e.subReceiveStatePassword="",e.subReceiveStateSnapShotPassword="",e.subReceiveStateVideoCount="",e.videoTop=-1,e._sigNameSendOnClick="",e.videoLeft=-1,e.responseObj={},e.firstTime=!0,e.lastRequestStatus="",e.lastBackGroundRequest="",e.autoHideControlPeriod=10,e.originalVideoProperties=[],e.oldReceiveStateSelect=-1,e.receiveStateAttributeCount=0,e.requestID=0,e.lastResponseStatus="",e.isVideoPublished=!1,e.isOrientationChanged=!1,e.isFullScreen=!1,e.isVideoReady=!1,e.isInitialized=!1,e.playValue=!0,e.fromReceiveStatePlay=!1,e._sigNameSelectionChange="",e._sigNameSelectionSourceType="",e._sigNameSnapShotUrl="",e._sigNameSelectionUrl="",e._sigNameEventState="",e._sigNameErrorCode="",e._sigNameErrorMessage="",e._sigNameRetryCount="",e._sigNameResolution="",e._sigNameSnapShotStatus="",e._sigNameSnapShotLastUpdateTime="",e.isIntersectionObserve=!1,e.isAlphaBlend=!0,e.isExitFullscreen=!1,e.isPositionChanged=!1,e.oldResponseStatus="",e.oldResponseId=0,e.subsCsigAppCurrentSate="",e.subsCsigAppBackgrounded="",e.receivedStateSelect=0,e.isSnapShotArrayLoaded=!1,e.maxVideoCount=0,e.lastRequestUrl="",e.fromExitFullScreen=!1,e.videoTagId="",e.orientationCount=0,e.previousXPos=0,e.previousYPos=0,e.videoTouchHandler={},e.isTouchPollingStarted=!1,e.isTouchInProgress=!1,e.touchInProgressInterval=null,e.swipeDeltaCheckNum=20,e.touchCoordinates={startX:0,startY:0,endX:0,endY:0},e._protocol="",e.errorEvent=new CustomEvent("error",{bubbles:!0,cancelable:!1,detail:"ch5-video triggered constructor"}),e.dispatchEvent(e.errorEvent),e.isInitialized=!0,e._setErrorMessages(),(0,r.subscribeState)("o","Csig.video.response",e._videoResponse.bind(_assertThisInitialized(e)),e._errorResponse.bind(_assertThisInitialized(e))),e}return _createClass(i,[{key:"indexId",get:function(){return this._indexId},set:function(e){(0,d.default)(e)?this.isMultipleVideo=!1:(this.isMultipleVideo=!0,this._indexId=e)}},{key:"aspectRatio",get:function(){return this._aspectRatio},set:function(e){(0,d.default)(e)||(this._aspectRatio=e)}},{key:"stretch",get:function(){return this._stretch},set:function(e){(0,d.default)(e)||(this._stretch=String(e).toLowerCase())}},{key:"userId",get:function(){return this._userId},set:function(e){(0,d.default)(e)||this._userId===e||(this._userId=e)}},{key:"snapShotUserId",get:function(){return this._snapShotUserId},set:function(e){(0,d.default)(e)||this._snapShotUserId===e||(this._snapShotUserId=e)}},{key:"password",get:function(){return this._password},set:function(e){(0,d.default)(e)||this._password===e||(this._password=e)}},{key:"snapShotPassword",get:function(){return this._snapShotPassword},set:function(e){(0,d.default)(e)||this._snapShotPassword===e||(this._snapShotPassword=e)}},{key:"url",get:function(){return this._url},set:function(e){(0,d.default)(e)||this._url===e||(this._url=e.trim())}},{key:"zIndex",get:function(){return this._zIndex},set:function(e){(0,d.default)(e)||this._zIndex===e||(this._zIndex=e)}},{key:"sourceType",get:function(){return this._sourceType},set:function(e){(0,d.default)(e)&&(e="Network"),this._sourceType=e}},{key:"snapShotUrl",get:function(){return this._snapShotUrl},set:function(e){(0,d.default)(e)||this._snapShotUrl===e||(this.maxVideoCount=1,this._snapShotUrl=e)}},{key:"size",get:function(){return this._size},set:function(e){(0,d.default)(e)||this._size===e||(this._size=e)}},{key:"snapShotRefreshRate",get:function(){return this._snapShotRefreshRate},set:function(e){var t=parseInt(e,0);t=t<5?5:t,this._snapShotRefreshRate=t.toString()}},{key:"protocol",get:function(){return this._protocol},set:function(e){(0,d.default)(e)||this._protocol===e||(this._protocol=e)}},{key:"sendEventOnClick",get:function(){return this._sigNameSendOnClick},set:function(e){this.info("set sendEventOnClick('"+e+"')"),""!==e&&e!==this._sigNameSendOnClick&&(this._sigNameSendOnClick=e,this.setAttribute("sendeventonclick",e))}},{key:"sendEventState",get:function(){return this._sigNameEventState},set:function(e){this.info("set sendEventState('"+e+"')"),""!==e&&e!==this._sigNameEventState&&(this._sigNameEventState=e,this.setAttribute("sendeventstate",e))}},{key:"sendEventSelectionChange",get:function(){return this._sigNameSelectionChange},set:function(e){this.info("Set sendEventSelectionChange('"+e+"')"),""!==e&&e!==this._sigNameSelectionChange&&(this._sigNameSelectionChange=e,this.setAttribute("sendeventselectionchange",e))}},{key:"sendEventSelectionSourceType",get:function(){return this._sigNameSelectionSourceType},set:function(e){this.info("Set sendEventSelectionSourceType('"+e+"')"),""!==e&&e!==this._sigNameSelectionSourceType&&(this._sigNameSelectionSourceType=e,this.setAttribute("sendeventselectionsourcetype",e))}},{key:"sendEventSelectionURL",get:function(){return this._sigNameSelectionUrl},set:function(e){this.info("Set sendEventSelectionURL('"+e+"')"),""!==e&&e!==this._sigNameSelectionUrl&&(this._sigNameSelectionUrl=e,this.setAttribute("sendeventselectionurl",e))}},{key:"sendEventSnapShotURL",get:function(){return this._sigNameSnapShotUrl},set:function(e){this.info("Set sendEventSnapShotURL('"+e+"')"),""!==e&&e!==this._sigNameSnapShotUrl&&(this._sigNameSnapShotUrl=e,this.setAttribute("sendeventsnapshoturl",e))}},{key:"sendEventErrorCode",get:function(){return this._sigNameErrorCode},set:function(e){this.info("Set sendEventErrorCode('"+e+"')"),""!==e&&e!==this._sigNameErrorCode&&(this._sigNameErrorCode=e,this.setAttribute("sendeventerrorcode",e))}},{key:"sendEventErrorMessage",get:function(){return this._sigNameErrorMessage},set:function(e){this.info("Set sendEventErrorMessage('"+e+"')"),""!==e&&e!==this._sigNameErrorMessage&&(this._sigNameErrorMessage=e,this.setAttribute("sendeventerrormessage",e))}},{key:"sendEventRetryCount",get:function(){return this._sigNameRetryCount},set:function(e){this.info("Set sendEventRetryCount('"+e+"')"),""!==e&&e!==this._sigNameRetryCount&&(this._sigNameRetryCount=e,this.setAttribute("sendeventretrycount",e))}},{key:"sendEventResolution",get:function(){return this._sigNameResolution},set:function(e){this.info("Set sendEventResolution('"+e+"')"),""!==e&&e!==this._sigNameResolution&&(this._sigNameResolution=e,this.setAttribute("sendeventresolution",e))}},{key:"sendEventSnapShotStatus",get:function(){return this._sigNameSnapShotStatus},set:function(e){this.info("Set sendEventSnapShotStatus('"+e+"')"),""!==e&&e!==this._sigNameSnapShotStatus&&(this._sigNameSnapShotStatus=e,this.setAttribute("sendeventsnapshotstatus",e))}},{key:"sendEventSnapShotLastUpdateTime",get:function(){return this._sendEventSnapShotLastUpdateTime},set:function(e){this.info("Set sendEventSnapShotLastUpdateTime('"+e+"')"),this._sendEventSnapShotLastUpdateTime=e,""!==e&&e!==this._sigNameSnapShotLastUpdateTime&&(this._sigNameSnapShotLastUpdateTime=e,this.setAttribute("sendeventsnapshotlastupdatetime",e))}},{key:"receiveStateVideoCount",get:function(){return this._receiveStateVideoCount},set:function(e){var t=this;if(this.info("Set receiveStateVideoCount('"+e+"')"),this._receiveStateVideoCount=e,null!=e){if(void 0!==this._receiveStateVideoCount&&null!==this._receiveStateVideoCount){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateVideoCount),n=r.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==n&&n.unsubscribe(this._receiveStateVideoCount)}var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateVideoCount),a=r.Ch5SignalFactory.getInstance().getNumberSignal(s);a&&(this.subReceiveStateVideoCount=a.subscribe(function(e){t.info("receiveStateVideoCount Signal Subscribe Value: "+e),t.maxVideoCount=parseInt(e,0),!t.isSnapShotArrayLoaded&&t.maxVideoCount>0&&(t.info("this.isSnapShotArrayLoaded: "+t.isSnapShotArrayLoaded),t.info("this.maxVideoCount: "+t.maxVideoCount),t.isSnapShotArrayLoaded=!0,t.getAllSnapShotData(t.maxVideoCount))}))}}},{key:"receiveStatePlay",get:function(){return this._attributeValueAsString("receivestateplay")},set:function(e){var t=this;if(this.info("Set receiveStatePlay('"+e+"')"),this._receiveStatePlay=e,null!=e&&""!==e){if(void 0!==this._receiveStatePlay&&null!==this._receiveStatePlay){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStatePlay),n=r.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&n.unsubscribe(this._receiveStatePlay)}var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStatePlay),a=r.Ch5SignalFactory.getInstance().getBooleanSignal(s);a&&(this.subReceiveStatePlay=a.subscribe(f.default.debounce(function(e){t.info("receiveStatePlay Signal Subscribe Value: "+e),e=t.isIntersectionObserve?e:null,t.playValue!==e&&null!==e&&(t.fromReceiveStatePlay=!0,t.playValue=e,t.isExitFullscreen=!1,t.elementIsInViewPort&&(e?(t.beforeVideoDisplay(),t.isVideoReady=!1,t.lastRequestStatus=t.VIDEO_ACTION.STOP,t.elementIntersectionEntry.intersectionRatio>=t.INTERSECTION_RATIO_VALUE&&!t.isFullScreen?t._publishVideoEvent(t.VIDEO_ACTION.START):t.isFullScreen&&t._publishVideoEvent(t.VIDEO_ACTION.START)):(clearTimeout(t.exitSnapsShotTimer),t.isVideoReady=!0,t.lastRequestStatus=t.VIDEO_ACTION.START,t.ch5BackgroundRequest(t.VIDEO_ACTION.STOP,"receiveStatePlay"),t._publishVideoEvent(t.VIDEO_ACTION.STOP))))},1e3,{leading:!0})))}}},{key:"receiveStateSelect",get:function(){return this._attributeValueAsString("receivestateselect")},set:function(e){var t=this;if(this.info("Set receiveStateSelect('"+e+"')"),this._receiveStateSelect=e,null!=e){if(void 0!==this._receiveStateSelect&&null!==this._receiveStateSelect){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSelect),n=r.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==n&&n.unsubscribe(this._receiveStateSelect)}var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSelect),a=r.Ch5SignalFactory.getInstance().getNumberSignal(s);a&&(this.subReceiveStateSelect=a.subscribe(function(e){t.info("receiveStateSelect Signal Subscribe Value: "+e),t._receiveStateSelect=e.toString(),t.oldReceiveStateSelect!==e&&t.elementIsInViewPort&&(t.oldReceiveStateSelect=e,t.receivedStateSelect=e,t._unSubscribeVideos(t.selectObject),t.isVideoReady=!1,t.lastRequestStatus=t.VIDEO_ACTION.EMPTY,clearTimeout(t.videoSubscriptionTimer),t.videoSubscriptionTimer=setTimeout(function(){t._subscribeVideos(e.toString()),t.playValue&&(t.info(">>>>>>>>>>>>>>>>>>>>> DrawSnapshot5 <<<<<<<<<<<<<<<<<<<<<<<<<<<"),t.beforeVideoDisplay())},0))}))}}},{key:"receiveStateSourceType",get:function(){return this._receiveStateSourceType},set:function(e){var t=this;if(this._receiveStateSourceType=e,this.info("Set receiveStateSourceType('"+e+"')"),null!=e){if(void 0!==this._receiveStateSourceType&&""!==this._receiveStateSourceType){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSourceType),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe("")}var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSourceType),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);a&&(this.subReceiveStateSourceType=a.subscribe(function(e){if(t.info("receiveStateSourceType Signal Subscribe Value: "+e),e){if(e===t.sourceType)return;t.sourceType=e,t._sendEvent(t.sendEventSelectionSourceType,t.sourceType,"string"),setTimeout(function(){t.elementIntersectionEntry.intersectionRatio>=t.INTERSECTION_RATIO_VALUE&&(t.lastResponseStatus=t.VIDEO_ACTION.EMPTY,t.lastRequestStatus=t.VIDEO_ACTION.EMPTY,t.isVideoReady=!1,t.isExitFullscreen=!1,t.info("*** 1"),t._publishVideoEvent(t.VIDEO_ACTION.START))},100)}}))}}},{key:"receiveStateSnapShotRefreshRate",get:function(){return this._receiveStateSnapShotRefreshRate},set:function(e){var t=this;if(this._receiveStateSnapShotRefreshRate=e,this.info("Set receiveStateSnapShotRefreshRate('"+e+"')"),null!=e){if(void 0!==this._receiveStateSnapShotRefreshRate){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSnapShotRefreshRate),n=r.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==n&&n.unsubscribe("")}var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSnapShotRefreshRate),a=r.Ch5SignalFactory.getInstance().getNumberSignal(s);a&&(this.subReceiveStateSnapShotRefreshRate=a.subscribe(function(e){e&&(t.snapShotRefreshRate=e.toString())}))}}},{key:"receiveStateSnapShotURL",get:function(){return this._receiveStateSnapShotURL},set:function(e){var t=this;if(this._receiveStateSnapShotURL=e,this.info("Set receiveStateSnapShotURL('"+e+"')"),null!=e){if(void 0!==this._receiveStateSnapShotURL&&null!==this._receiveStateSnapShotURL){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSnapShotURL),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe("")}var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSnapShotURL),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);a&&(this.subReceiveStateSnapShotUrl=a.subscribe(function(e){t.info("receiveStateSnapShotUrl Signal Subscribe Value: "+e),t.snapShotUrl=e,t._sendEvent(t.sendEventSnapShotURL,t.snapShotUrl,"string")}))}}},{key:"receiveStateUrl",get:function(){return this._attributeValueAsString("receivestateurl")},set:function(e){var t=this;if(this._receiveStateUrl=e,this.info("Set receiveStateUrl('"+e+"')"),null!=e){this._receiveStateUrl=e.trim();var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateUrl),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe("");var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateUrl),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);a&&(this.subReceiveStateUrl=a.subscribe(function(e){if(t.info("receiveStateUrl Signal Subscribe Value: "+e),e){if(e===t.url)return;t.url=e,t._sendEvent(t.sendEventSelectionURL,t.url,"string"),t.elementIntersectionEntry.intersectionRatio>=t.INTERSECTION_RATIO_VALUE&&(t.lastResponseStatus=t.VIDEO_ACTION.EMPTY,t.lastRequestStatus=t.VIDEO_ACTION.EMPTY,t.isVideoReady=!1,t.isExitFullscreen=!1,""===t.url?(t._publishVideoEvent(t.VIDEO_ACTION.STOP),t.beforeVideoDisplay()):t._publishVideoEvent(t.VIDEO_ACTION.START))}}))}}},{key:"receiveStateUserId",get:function(){return this._receiveStateUserId},set:function(e){var t=this;if(this._receiveStateUserId=e,this.info("Set receiveStateUserId('"+e+"')"),null!=e){if(void 0!==this._receiveStateUserId&&null!==this._receiveStateUserId){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateUserId),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe("")}var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateUserId),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);a&&(this.subReceiveStateUserId=a.subscribe(function(e){t.info("receiveStateUserId Signal Subscribe Value: "+e),e&&(t.userId=e)}))}}},{key:"receiveStateSnapShotUserId",get:function(){return this._receiveStateSnapShotUserId},set:function(e){var t=this;if(this._receiveStateSnapShotUserId=e,this.info("Set receiveStateSnapShotUserId('"+e+"')"),null!=e){if(void 0!==this._receiveStateSnapShotUserId&&null!==this._receiveStateSnapShotUserId){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSnapShotUserId),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe("")}var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSnapShotUserId),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);a&&(this.subReceiveStateSnapShotUserId=a.subscribe(function(e){t.info("receiveStateSnapShotuserId Signal Subscribe Value: "+e),e&&(t.snapShotUserId=e)}))}}},{key:"receiveStatePassword",get:function(){return this._receiveStatePassword},set:function(e){var t=this;if(this._receiveStatePassword=e,this.info("Set receiveStatePassword('"+e+"')"),null!=e){if(void 0!==this._receiveStatePassword&&null!==this._receiveStatePassword){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStatePassword),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe("")}var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStatePassword),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);a&&(this.subReceiveStatePassword=a.subscribe(function(e){t.info("receiveStatePassword Signal Subscribe Value: "+e),e&&(t.password=e)}))}}},{key:"receiveStateSnapShotPassword",get:function(){return this._receiveStateSnapShotPassword},set:function(e){var t=this;if(this._receiveStateSnapShotPassword=e,this.info("Set receiveStateSnapShotPassword('"+e+"')"),null!=e){if(void 0!==this._receiveStateSnapShotPassword&&null!==this._receiveStateSnapShotPassword){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSnapShotPassword),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe("")}var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateSnapShotPassword),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);a&&(this.subReceiveStateSnapShotPassword=a.subscribe(function(e){t.info("receiveStateSnapShotPassword Signal Subscribe Value: "+e),e&&(t.snapShotPassword=e)}))}}},{key:"connectedCallback",value:function(){var e=this;this.info("Ch5Video.connectedCallback()"),this.isInitialized&&customElements.whenDefined("ch5-video").then(function(){e._scrollableElm=(0,h.getScrollableParent)(e),e._initializeVideo(),e.isInitialized=!1,e.isMultipleVideo||(e.getAllSnapShotData(1),e.loadAllSnapshots()),e.lastRequestStatus=e.VIDEO_ACTION.EMPTY,e.isVideoReady=!1}),o.Ch5CoreIntersectionObserver.getInstance().observe(this,this.videoIntersectionObserver.bind(this)),this.isIntersectionObserve=!0}},{key:"disconnectedCallback",value:function(){this.info("Ch5Video.disconnectedCallback()"),this.unsubscribeFromSignals(),this._removeEvents(),this._unSubscribeVideos(this.selectObject),this.subscriptionEventList.forEach(function(e){e.unsubscribe()}),this.stopLoadingSnapShots(),this.isVideoReady=!0,this.lastRequestStatus=this.VIDEO_ACTION.START,this._publishVideoEvent(this.VIDEO_ACTION.STOP),o.Ch5CoreIntersectionObserver.getInstance()instanceof o.Ch5CoreIntersectionObserver&&(o.Ch5CoreIntersectionObserver.getInstance().unobserve(this),this.isIntersectionObserve=!1)}},{key:"videoStartObjJSON",value:function(e,t){var i=this.ch5UId,n=parseInt(this.zIndex,0),s=this.isAlphaBlend,r=new Date,a=r.getMilliseconds(),o=r.getMilliseconds()+2e3,l=this.videoLeft,u=this.videoTop,c=this.sizeObj.width,h=this.sizeObj.height;e===this.VIDEO_ACTION.FULLSCREEN&&(e=this.VIDEO_ACTION.RESIZE,this.fullScreenObj=p.CH5VideoUtils.getFullScreenDimensions(this.aspectRatio,window.innerWidth,window.innerHeight),l=this.fullScreenObj.posX,u=this.fullScreenObj.posY,c=this.fullScreenObj.width,h=this.fullScreenObj.height),this.lastRequestStatus=e;var d={action:e,id:i,credentials:{userid:this.userId,password:this.password},source:{type:this.sourceType,url:this.url},location:{top:Math.ceil(u),left:Math.ceil(l),width:Math.ceil(c),height:Math.ceil(h),z:n},alphablend:s,starttime:a,endtime:o,timing:"linear"};return this.info(t+JSON.stringify(d)),d}},{key:"videoStopObjJSON",value:function(e,t){this.lastRequestStatus=e;var i={action:e,id:t};return this.info(JSON.stringify(i)),i}},{key:"videoBGObjJSON",value:function(e){var t={action:e,id:this.videoTagId,top:this.videoTop,left:this.videoLeft,width:this.sizeObj.width,height:this.sizeObj.height,image:{}};if(e===this.VIDEO_ACTION.SNAPSHOT){var i=this.snapShotMap.get(this.receivedStateSelect);t.image=i.getSnapShot()}return t}},{key:"attributeChangedCallback",value:function(e,t,n){switch(this.info("attributeChangedCallback"),e){case"indexid":this.indexId=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("indexid"),n,"0");break;case"userid":this.userId=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("userid"),n,""),this.hasAttribute("userid")&&this.receiveStateAttributeCount++;break;case"snapshotuserid":this.snapShotUserId=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("snapshotuserid"),n,""),this.hasAttribute("snapshotuserid")&&this.receiveStateAttributeCount++;break;case"password":this.password=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("password"),n,""),this.hasAttribute("password")&&this.receiveStateAttributeCount++;break;case"snapshotpassword":this.snapShotPassword=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("snapshotpassword"),n,""),this.hasAttribute("snapshotpassword")&&this.receiveStateAttributeCount++;break;case"aspectratio":this.hasAttribute("aspectratio")?this.aspectRatio="16:9"===n||"4:3"===n?n:"16:9":this.aspectRatio="16:9";break;case"stretch":this.stretch=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("stretch"),n,"false");break;case"snapshotrefreshrate":this.snapShotRefreshRate=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("snapshotrefreshrate"),n,"0"),this.hasAttribute("snapshotrefreshrate")&&this.receiveStateAttributeCount++;break;case"url":this.url=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("url"),n,""),this.hasAttribute("url")&&this.receiveStateAttributeCount++;break;case"snapshoturl":this.snapShotUrl=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("snapshoturl"),n,""),this.hasAttribute("snapshoturl")&&this.receiveStateAttributeCount++;break;case"sourcetype":this.sourceType=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sourcetype"),n,"Network"),this.hasAttribute("sourcetype")&&this.receiveStateAttributeCount++;break;case"size":this.size=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("size"),n,"large");break;case"zindex":this.zIndex=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("zindex"),n,"0");break;case"sendeventstate":this.sendEventState=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventstate"),n,"");break;case"sendeventonclick":this.sendEventOnClick=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventonclick"),n,"");break;case"sendeventselectionchange":this.sendEventSelectionChange=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventselectionchange"),n,"");break;case"sendeventselectionsourcetype":this.sendEventSelectionSourceType=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventselectionsourcetype"),n,""),this.hasAttribute("sendeventselectionsourcetype")&&this._sendEvent(this.sendEventSelectionSourceType,this.sourceType,"string");break;case"sendeventsnapshoturl":this.sendEventSnapShotURL=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventsnapshoturl"),n,""),this.hasAttribute("sendeventsnapshoturl")&&this._sendEvent(this.sendEventSnapShotURL,this.snapShotUrl,"string");break;case"sendeventselectionurl":this.sendEventSelectionURL=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventselectionurl"),n,""),this.hasAttribute("sendeventselectionurl")&&this._sendEvent(this.sendEventSelectionURL,this.url,"string");break;case"sendeventerrorcode":this.sendEventErrorCode=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventerrorcode"),n,""),this.hasAttribute("sendeventerrorcode")&&(this.sendEventErrorCode=n);break;case"sendeventerrormessage":this.sendEventErrorMessage=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventerrormessage"),n,"");break;case"sendeventretrycount":this.sendEventRetryCount=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventretrycount"),n,"");break;case"sendeventresolution":this.sendEventResolution=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventresolution"),n,"0x0@0fps");break;case"sendeventsnapshotstatus":this.sendEventSnapShotStatus=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventsnapshotstatus"),n,"");break;case"sendeventsnapshotlastupdatetime":this.sendEventSnapShotLastUpdateTime=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("sendeventsnapshotlastupdatetime"),n,"");break;case"receivestatevideocount":this.receiveStateVideoCount=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestatevideocount"),n,"");break;case"receivestateplay":this.receiveStatePlay=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestateselect"),n,"");break;case"receivestateselect":this.receiveStateSelect=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestateselect"),n,"");break;case"receivestateurl":this.receiveStateUrl=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestateurl"),n,""),this.hasAttribute("receivestateurl")&&this.receiveStateAttributeCount++;break;case"receivestatesourcetype":this.receiveStateSourceType=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestatesourcetype"),n,""),this.hasAttribute("receivestatesourcetype")&&this.receiveStateAttributeCount++;break;case"receivestatesnapshoturl":this.receiveStateSnapShotURL=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestatesnapshoturl"),n,""),this.hasAttribute("receivestatesnapshoturl")&&this.receiveStateAttributeCount++;break;case"receivestatesnapshotrefreshrate":this.receiveStateSnapShotRefreshRate=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestatesnapshotrefreshrate"),n,""),this.hasAttribute("receivestatesnapshotrefreshrate")&&this.receiveStateAttributeCount++;break;case"receivestateuserid":this.receiveStateUserId=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestateuserid"),n,""),this.hasAttribute("receivestateuserid")&&this.receiveStateAttributeCount++;break;case"receivestatesnapshotuserid":this.receiveStateSnapShotUserId=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestatesnapshotuserid"),n,""),this.hasAttribute("receivestatesnapshotuserid")&&this.receiveStateAttributeCount++;break;case"receivestatepassword":this.receiveStatePassword=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestatepassword"),n,""),this.hasAttribute("receivestatepassword")&&this.receiveStateAttributeCount++;break;case"receivestatesnapshotpassword":this.receiveStateSnapShotPassword=p.CH5VideoUtils.setAttributesBasedValue(this.hasAttribute("receivestatesnapshotpassword"),n,""),this.hasAttribute("receivestatesnapshotpassword")&&this.receiveStateAttributeCount++;break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this);var e=r.Ch5SignalFactory.getInstance();if(""!==this.subReceiveStatePlay){var t=e.getStringSignal(this._receiveStatePlay);null!==t&&t.unsubscribe(this.subReceiveStatePlay)}if(""!==this.subReceiveStateUrl){var n=e.getStringSignal(this._receiveStateUrl);null!==n&&n.unsubscribe(this.subReceiveStateUrl)}if(""!==this.subReceiveStateSourceType){var s=e.getStringSignal(this._receiveStateSourceType);null!==s&&s.unsubscribe(this.subReceiveStateSourceType)}if(""!==this.subReceiveStateSnapShotUrl){var a=e.getStringSignal(this._receiveStateSnapShotURL);null!==a&&a.unsubscribe(this.subReceiveStateSnapShotUrl)}if(""!==this.subReceiveStateSnapShotRefreshRate){var o=e.getStringSignal(this._receiveStateSnapShotRefreshRate);null!==o&&o.unsubscribe(this.subReceiveStateSnapShotRefreshRate)}if(""!==this.subReceiveStateSelect){var l=e.getStringSignal(this._receiveStateSelect);null!==l&&l.unsubscribe(this.subReceiveStateSelect)}if(""!==this.subReceiveStateSourceType){var u=e.getStringSignal(this._receiveStateSourceType);null!==u&&u.unsubscribe(this.subReceiveStateSourceType)}if(""!==this.subReceiveStateUserId){var c=e.getStringSignal(this._receiveStateUserId);null!==c&&c.unsubscribe(this.subReceiveStateUserId)}if(""!==this.subReceiveStateSnapShotUserId){var h=e.getStringSignal(this._receiveStateSnapShotUserId);null!==h&&h.unsubscribe(this.subReceiveStateSnapShotUserId)}if(""!==this.subReceiveStatePassword){var d=e.getStringSignal(this._receiveStatePassword);null!==d&&d.unsubscribe(this.subReceiveStatePassword)}if(""!==this.subReceiveStateSnapShotPassword){var f=e.getStringSignal(this._receiveStateSnapShotPassword);null!==f&&f.unsubscribe(this.subReceiveStateSnapShotPassword)}if(""!==this.subReceiveStateVideoCount){var p=e.getStringSignal(this.subReceiveStateVideoCount);null!==p&&p.unsubscribe(this.subReceiveStateVideoCount)}}},{key:"processSingleVideoUri",value:function(){this.info("this.protocol",this.protocol);var e={protocol:this.protocol,user:this.snapShotUserId,password:this.snapShotPassword,url:this.snapShotUrl},t=s.Ch5Common.processUri(e);t&&(this.snapShotUrl=t)}},{key:"videoIntersectionObserver",value:function(){this.info("videoIntersectionObserver#intersectionRatio -> "+this.elementIntersectionEntry.intersectionRatio),this.lastBackGroundRequest="",this.elementIntersectionEntry.intersectionRatio>=this.INTERSECTION_RATIO_VALUE&&this.playValue?(this.loadAllSnapshots(),this._onRatioAboveLimitToRenderVideo()):this._OnVideoAspectRatioConditionNotMet(),this.elementIntersectionEntry.intersectionRatio>.1&&this.playValue?this.addTouchPollingForVideoMonitor():(this._publishVideoEvent(this.VIDEO_ACTION.STOP),this.removeTouchPollingForVideoMonitor())}},{key:"_onRatioAboveLimitToRenderVideo",value:function(){var e=this;this.info("Task: Under ratio, render video - ",this.lastRequestStatus,this.isFullScreen,this.isExitFullscreen,this.fromExitFullScreen,this.isOrientationChanged),clearTimeout(this.isSwipeDebounce),this.isSwipeDebounce=setTimeout(function(){e.calculation(),e.lastRequestStatus!==e.VIDEO_ACTION.START&&e.lastRequestStatus!==e.VIDEO_ACTION.RESIZE&&e.beforeVideoDisplay();var t=!1;(e.lastRequestStatus===e.VIDEO_ACTION.EMPTY&&e.isOrientationChanged||e.lastRequestStatus===e.VIDEO_ACTION.START)&&(e.lastResponseStatus=e.VIDEO_ACTION.EMPTY,e.lastRequestStatus=e.VIDEO_ACTION.EMPTY,e.isVideoReady=!1,t=!0,e._publishVideoEvent(e.VIDEO_ACTION.START)),e.isFullScreen||e.isExitFullscreen||e.isOrientationChanged||e.lastRequestStatus===e.VIDEO_ACTION.FULLSCREEN||e.fromExitFullScreen||(e.lastResponseStatus=e.VIDEO_ACTION.EMPTY,e.lastRequestStatus=e.VIDEO_ACTION.EMPTY,e.isVideoReady=!1,t||e._publishVideoEvent(e.VIDEO_ACTION.START))},100)}},{key:"_OnVideoAspectRatioConditionNotMet",value:function(){this.isFullScreen||(this.info("Task: Video to be stopped."),(this.videoTop<0||this.videoLeft<0)&&this.lastRequestStatus!==this.VIDEO_ACTION.STOP&&!this.firstTime&&(this.info(">>> Stopping Video1"),this._publishVideoEvent(this.VIDEO_ACTION.STOP)),!this.isPositionChanged||this.lastRequestStatus!==this.VIDEO_ACTION.RESIZE&&this.lastRequestStatus!==this.VIDEO_ACTION.START||(this.info(">>> Stopping Video2"),this._publishVideoEvent(this.VIDEO_ACTION.STOP)),this.isExitFullscreen&&this.lastResponseStatus===this.VIDEO_ACTION.RESIZED&&!this.elementIsInViewPort&&(this.info(">>> Stopping Video3"),this._publishVideoEvent(this.VIDEO_ACTION.STOP)),this.firstTime||this.isExitFullscreen||this.isPositionChanged||(this.isFullScreen||this.lastResponseStatus===this.VIDEO_ACTION.FULLSCREEN||this.lastBackGroundRequest!==this.VIDEO_ACTION.REFILL&&(this.info(">>> Refilling Background1"),this.ch5BackgroundRequest(this.VIDEO_ACTION.REFILL,"OnVideoAspectRatioConditionNotMet")),this.isOrientationChanged||this.elementIsInViewPort||this.fromExitFullScreen||(this.info(">>> Stopping Video4"),this._publishVideoEvent(this.VIDEO_ACTION.STOP))))}},{key:"_updateAppBackgroundStatus",value:function(){var e=this;""!==this.subsCsigAppBackgrounded&&(0,r.unsubscribeState)("o","Csig.app.background",this.subsCsigAppBackgrounded),this.subsCsigAppBackgrounded=(0,r.subscribeState)("o","Csig.app.background",function(t){e._wasAppBackGrounded=t.isAppBackgrounded})}},{key:"_appCurrentBackgroundStatus",value:function(){var e=this;""!==this.subsCsigAppCurrentSate&&(0,r.unsubscribeState)("o","Csig.app.background",this.subsCsigAppCurrentSate),this.subsCsigAppCurrentSate=(0,r.subscribeState)("o","Csig.app.background",function(t){e._appCurrentStatus=t.isAppBackgrounded})}},{key:"createHTMLElements",value:function(){this.classList.add(this.primaryVideoCssClass),this.style.width="100%",this.style.height="100%",this.style.display="flex",this.style.justifyContent="center",this.style.alignItems="center",this.videoElement=document.createElement("div"),this.vidControlPanel=document.createElement("div"),this.vidControlPanel.classList.add("control-panel"),this.controlFullScreen=document.createElement("a"),this.controlFullScreen.classList.add("control"),this.controlFullScreen.innerHTML=this.ESVG_ICONS.FULLSCREEN_ICON,this.vidControlPanel.appendChild(this.controlFullScreen),this.vidControlPanel.style.width="100%",this.vidControlPanel.style.left="-5px",this.vidControlPanel.style.top="5px",this.videoElement.classList.add("video-wrapper"),this.videoElement.style.background="#000",this.appendChild(this.videoElement),this.videoElement.appendChild(this.vidControlPanel)}},{key:"getAllSnapShotData",value:function(e){if(0!==e)for(var t=0;t<e;t++){var i={index:0,videoTagId:this.videoTagId,snapShotUrl:"",snapShotRefreshRate:"",snapShotUser:"",snapShotPass:"",isMultipleVideo:this.isMultipleVideo};i.index=t,this.isMultipleVideo?(i.snapShotUrl=String(u.Ch5VideoSubscription.getNewSignalName(this,"receivestatesnapshoturl",this.receiveStateSnapShotURL,t,this.indexId)),i.snapShotUser=String(u.Ch5VideoSubscription.getNewSignalName(this,"receivestateuserid",this.receiveStateSnapShotUserId,t,this.indexId)),i.snapShotPass=String(u.Ch5VideoSubscription.getNewSignalName(this,"receivestatesnapshotpassword",this.receiveStateSnapShotPassword,t,this.indexId)),i.snapShotRefreshRate=String(u.Ch5VideoSubscription.getNewSignalName(this,"receivestatesnapshotrefreshrate",this.receiveStateSnapShotRefreshRate,t,this.indexId))):(i.snapShotUrl=this.snapShotUrl,i.snapShotUser=this.snapShotUserId,i.snapShotPass=this.snapShotPassword,i.snapShotRefreshRate=this.snapShotRefreshRate),this.snapShotMap.set(t,new c.Ch5VideoSnapshot(i))}}},{key:"stopLoadingSnapShots",value:function(){if(this.maxVideoCount)for(var e=0;e<this.maxVideoCount;e++){var t=this.snapShotMap.get(e);t&&t.stopLoadingSnapShot()}}},{key:"_manageControls",value:function(){if(this.isFullScreen)return this.removeEventListener("touchmove",this._handleTouchMoveEvent_Fullscreen,!1),void this._exitFullScreen();this.info("lastRequestStatus is "+this.lastRequestStatus+" & lastResponseStatus is "+this.lastResponseStatus),this.lastResponseStatus===this.VIDEO_ACTION.STARTED||this.lastRequestStatus===this.VIDEO_ACTION.RESIZE||this.lastResponseStatus===this.VIDEO_ACTION.RESIZED?this._showFullScreenIcon():this._hideFullScreenIcon(),this._sendEvent(this.sendEventOnClick,!0,"boolean"),this._autoHideControls()}},{key:"_setErrorMessages",value:function(){this._videoErrorMessages.set(1,"Miscellaneous transient issue"),this._videoErrorMessages.set(2,"Connection timeout"),this._videoErrorMessages.set(3,"No input sync"),this._videoErrorMessages.set(-1,"Miscellaneous error"),this._videoErrorMessages.set(-2,"Hostname could not be resolved"),this._videoErrorMessages.set(-3,"Unsupported source type for this platform"),this._videoErrorMessages.set(-4,"Connection timeout"),this._videoErrorMessages.set(-5,"Invalid credentials"),this._videoErrorMessages.set(-6,"Unsupported streaming protocol"),this._videoErrorMessages.set(-7,"Unsupported codec"),this._videoErrorMessages.set(-1001,"Credentials required"),this._videoErrorMessages.set(-1002,"Hostname invalid"),this._videoErrorMessages.set(-1003,"Unsupported codec"),this._videoErrorMessages.set(-9001,"Unsupported source type"),this._videoErrorMessages.set(-9002,"Invalid URL"),this._videoErrorMessages.set(-9003,"Request for greater than maximum simultaneous sessions per source type"),this._videoErrorMessages.set(-9004,"Request for greater than maximum simultaneous sessions per device")}},{key:"_subscribeVideos",value:function(e){var t=this;this._hideFullScreenIcon(),this._sendEvent(this.sendEventSelectionChange,e,"number");var i=0;if(this.hasAttribute("receivestateurl")){var n=this.getAttribute("receivestateurl");this.info("rsVURL: "+n);var s=0;null!==this.indexId&&(s=u.Ch5VideoSubscription.getNewSignalName(this,"receivestateurl",n,parseInt(e,0),this.indexId)),this.selectObject.values.url=String(s),this.info("selectObjectUrl: "+s),this.selectObject.subscriptionIds.url=(0,r.subscribeState)("s",String(s),function(e){e?(t._sendEvent(t.sendEventSelectionURL,t.url,"string"),t.url=e):t.hasAttribute("url")?t.url=t.getAttribute("url"):t.url="",t.info("ReceiveStateSelect Url is "+t.url),i++,t._matchAttributeResponse(t.receiveStateAttributeCount,i)})}else this.hasAttribute("url")?this.url=this.getAttribute("url"):this.url="",this.info("Basic Url is "+this.url),i++,this._matchAttributeResponse(this.receiveStateAttributeCount,i);if(this.hasAttribute("receivestatesourcetype")){var a=this.getAttribute("receivestatesourcetype");this.info("rsVSType: "+a);var o=0;null!==this.indexId&&(o=u.Ch5VideoSubscription.getNewSignalName(this,"receivestatesourcetype",a,parseInt(e,0),this.indexId)),this.selectObject.values.type=String(o),this.info("selectObjectSourceType: "+o),this.selectObject.subscriptionIds.type=(0,r.subscribeState)("s",String(o),function(e){e?(t.sourceType=e,t._sendEvent(t.sendEventSelectionSourceType,t.sourceType,"string")):t.hasAttribute("sourcetype")?t.sourceType=t.getAttribute("sourcetype"):t.sourceType="",t.info("ReceiveStateSelect Source Type is "+t.sourceType),i++,t._matchAttributeResponse(t.receiveStateAttributeCount,i)})}else this.hasAttribute("sourcetype")?this.sourceType=this.getAttribute("sourcetype"):this.sourceType="",this.info("Basic Source Type is "+this.sourceType),i++,this._matchAttributeResponse(this.receiveStateAttributeCount,i);if(this.hasAttribute("receivestateuserid")){var l=this.getAttribute("receivestateuserid");this.info("rsVUserId: "+l);var c=0;null!==this.indexId&&(c=u.Ch5VideoSubscription.getNewSignalName(this,"receivestateuserid",l,parseInt(e,0),this.indexId)),this.selectObject.values.user=String(c),this.info("selectObjectUserId: "+c),this.selectObject.subscriptionIds.user=(0,r.subscribeState)("s",String(c),function(e){e&&e.length>=0?t.userId=e.trim():t.hasAttribute("userid")?t.userId=t.getAttribute("userid"):t.userId="",t.info("ReceiveStateSelect UserId is "+t.userId),i++,t._matchAttributeResponse(t.receiveStateAttributeCount,i)})}else this.hasAttribute("userid")?this.userId=this.getAttribute("userid"):this.userId="",this.info("Basic UserId is "+this.userId),i++,this._matchAttributeResponse(this.receiveStateAttributeCount,i);if(this.hasAttribute("receivestatepassword")){var h=this.getAttribute("receivestatepassword");this.info("rsVPassword: "+h);var d=0;null!==this.indexId&&(d=u.Ch5VideoSubscription.getNewSignalName(this,"receivestatepassword",h,parseInt(e,0),this.indexId)),this.selectObject.values.videoPass=String(d),this.info("selectObjectPassword: "+d),this.selectObject.subscriptionIds.videoPass=(0,r.subscribeState)("s",String(d),function(e){e&&e.length>=0?t.password=e.trim():t.hasAttribute("password")?t.password=t.getAttribute("password"):t.password="",t.info("ReceiveStateSelect Password is "+t.password),i++,t._matchAttributeResponse(t.receiveStateAttributeCount,i)})}else this.hasAttribute("password")?this.password=this.getAttribute("password"):this.password="",this.info("Basic Password is "+this.password),i++,this._matchAttributeResponse(this.receiveStateAttributeCount,i);if(this.hasAttribute("receivestatesnapshoturl")){var f=this.getAttribute("receivestatesnapshoturl");this.info("rsSIURL: "+f);var p=0;null!==this.indexId&&(p=u.Ch5VideoSubscription.getNewSignalName(this,"receivestatesnapshoturl",f,parseInt(e,0),this.indexId)),this.selectObject.values.snapShotUrl=String(p),this.info("selectObjectSnapShotUrl: "+p),this.selectObject.subscriptionIds.snapShotUrl=(0,r.subscribeState)("s",String(p),function(e){e&&e.length>=0?(t.snapShotUrl=e.trim(),t._sendEvent(t.sendEventSnapShotURL,t.snapShotUrl,"string")):t.hasAttribute("snapshoturl")?t.snapShotUrl=t.getAttribute("snapshoturl"):t.snapShotUrl="",t.info("ReceiveStateSelect SnapShot Url is "+t.snapShotUrl),i++,t._matchAttributeResponse(t.receiveStateAttributeCount,i)})}else this.hasAttribute("snapshoturl")?this.snapShotUrl=this.getAttribute("snapshoturl"):this.snapShotUrl="",this.info("Basic SnapShot Url is "+this.snapShotUrl),i++,this._matchAttributeResponse(this.receiveStateAttributeCount,i);if(this.hasAttribute("receivestatesnapshotrefreshrate")){var v=this.getAttribute("receivestatesnapshotrefreshrate");this.info("rsSIRefreshRate: "+v);var g=0;null!==this.indexId&&(g=u.Ch5VideoSubscription.getNewSignalName(this,"receivestatesnapshotrefreshrate",v,parseInt(e,0),this.indexId)),this.selectObject.values.snapShotRefreshRate=String(g),this.info("selectObjectSnapShotRefreshRate: "+g),this.selectObject.subscriptionIds.snapShotRefreshRate=(0,r.subscribeState)("n",String(g),function(e){e?t.snapShotRefreshRate=e:t.hasAttribute("snapshotrefreshrate")?t.snapShotRefreshRate=t.getAttribute("snapshotrefreshrate"):t.snapShotRefreshRate="",t.info("ReceiveStateSelect SnapShot Refresh Rate is "+t.snapShotRefreshRate),i++,t._matchAttributeResponse(t.receiveStateAttributeCount,i)})}else this.hasAttribute("snapshotrefreshrate")?this.snapShotRefreshRate=this.getAttribute("snapshotrefreshrate"):this.snapShotRefreshRate="",this.info("Basic SnapShot Refresh Rate is "+this.snapShotRefreshRate),i++,this._matchAttributeResponse(this.receiveStateAttributeCount,i);if(this.hasAttribute("receivestatesnapshotuserid")){var b=this.getAttribute("receivestatesnapshotuserid");this.info("rsSIUserId: "+b);var m=0;null!==this.indexId&&(m=u.Ch5VideoSubscription.getNewSignalName(this,"receivestatesnapshotuserid",b,parseInt(e,0),this.indexId)),this.selectObject.values.snapShotUser=String(m),this.info("selectObjectSnapShotUserId: "+m),this.selectObject.subscriptionIds.snapShotUser=(0,r.subscribeState)("s",String(m),function(e){e&&e.length>=0?t.snapShotUserId=e.trim():t.hasAttribute("snapshotuserid")?t.snapShotUserId=t.getAttribute("snapshotuserid"):t.snapShotUserId="",t.info("ReceiveStateSelect SnapShot UserId is "+t.snapShotUserId),i++,t._matchAttributeResponse(t.receiveStateAttributeCount,i)})}else this.hasAttribute("snapshotuserid")?this.snapShotUserId=this.getAttribute("snapshotuserid"):this.snapShotUserId="",this.info("Basic SnapShot UserId is "+this.snapShotUserId),i++,this._matchAttributeResponse(this.receiveStateAttributeCount,i);if(this.hasAttribute("receivestatesnapshotpassword")){var _=this.getAttribute("receivestatesnapshotpassword");this.info("rsSIPassword: "+_);var S=0;null!==this.indexId&&(S=u.Ch5VideoSubscription.getNewSignalName(this,"receivestatesnapshotpassword",_,parseInt(e,0),this.indexId)),this.selectObject.values.snapShotPass=String(S),this.info("selectObjectSnapShotPassword: "+S),this.selectObject.subscriptionIds.snapShotPass=(0,r.subscribeState)("s",String(S),function(e){e&&e.length>=0?t.snapShotPassword=e.trim():t.hasAttribute("snapshotpassword")?t.snapShotPassword=t.getAttribute("snapshotpassword"):t.snapShotPassword="",t.info("ReceiveStateSelect SnapShot Password is "+t.snapShotPassword),i++,t._matchAttributeResponse(t.receiveStateAttributeCount,i)})}else this.hasAttribute("snapshotpassword")?this.snapShotPassword=this.getAttribute("snapshotpassword"):this.snapShotPassword="",this.info("Basic SnapShot Password is "+this.snapShotPassword),i++,this._matchAttributeResponse(this.receiveStateAttributeCount,i)}},{key:"_matchAttributeResponse",value:function(e,t){e===t&&this.elementIsInViewPort&&this.elementIntersectionEntry.intersectionRatio>=this.INTERSECTION_RATIO_VALUE&&(this.lastResponseStatus=this.VIDEO_ACTION.EMPTY,this.lastRequestStatus=this.VIDEO_ACTION.EMPTY,this.isVideoReady=!1,this.isExitFullscreen=!1,this.info("*** 5"),this._publishVideoEvent(this.VIDEO_ACTION.START))}},{key:"loadAllSnapshots",value:function(){if(this.snapShotMap.size>0)for(var e=0;e<this.maxVideoCount;e++)this.snapShotMap.get(e).startLoadingSnapShot()}},{key:"switchLoadingSnapShot",value:function(){for(var e=0;e<this.maxVideoCount;e++){var t=this.snapShotMap.get(e);this.receivedStateSelect===e?t.stopLoadingSnapShot():t.startLoadingSnapShot()}}},{key:"_sendEvent",value:function(e,t,i){switch(this.info("sendEventPublish : "+e+", "+t+", "+i),i){case"boolean":var n=null;e&&null!==(n=r.Ch5SignalFactory.getInstance().getBooleanSignal(e))&&(n.publish(!0),n.publish(!1));break;case"string":var s=null;e&&null!==(s=r.Ch5SignalFactory.getInstance().getStringSignal(e))&&s.publish(t);break;case"number":var a=null;e&&null!==(a=r.Ch5SignalFactory.getInstance().getNumberSignal(e))&&a.publish(parseInt(t,0))}}},{key:"_unSubscribeVideos",value:function(e){e.subscriptionIds.url&&(0,r.unsubscribeState)("s",e.values.url,e.subscriptionIds.url),e.subscriptionIds.type&&(0,r.unsubscribeState)("s",e.values.type,e.subscriptionIds.type),e.subscriptionIds.user&&(0,r.unsubscribeState)("s",e.values.user,e.subscriptionIds.user),e.subscriptionIds.videoPass&&(0,r.unsubscribeState)("s",e.values.videoPass,e.subscriptionIds.videoPass),e.subscriptionIds.snapShotUrl&&(0,r.unsubscribeState)("s",e.values.snapShotUrl,e.subscriptionIds.snapShotUrl),e.subscriptionIds.snapShotRefreshRate&&(0,r.unsubscribeState)("n",e.values.snapShotRefreshRate,e.subscriptionIds.snapShotRefreshRate),e.subscriptionIds.snapShotUser&&(0,r.unsubscribeState)("s",e.values.snapShotUser,e.subscriptionIds.snapShotUser),e.subscriptionIds.snapShotPass&&(0,r.unsubscribeState)("s",e.values.snapShotPass,e.subscriptionIds.snapShotPass)}},{key:"_initializeVideo",value:function(){this.createHTMLElements(),this.initAttributes(),this.cacheComponentChildrens(),this.attachEventListeners(),this.setAttribute("id",this.getCrId());var e=this.getCrId().split("cr-id-");this.ch5UId=parseInt(e[1],0),this.videoTagId=this.getCrId(),(0,a.publishEvent)("o","Csig.video.request",this.videoStopObjJSON(this.VIDEO_ACTION.STOP,this.ch5UId))}},{key:"beforeVideoDisplay",value:function(){var e=this;if(!(this.elementIntersectionEntry.intersectionRatio>=this.INTERSECTION_RATIO_VALUE&&this.lastResponseStatus!==this.VIDEO_ACTION.STARTED))return console.log("drawSnapShot#9"),void clearTimeout(this.exitSnapsShotTimer);var t=this.videoElement.childNodes;if(this.snapShotMap.size>0){var i=this.snapShotMap.get(this.receivedStateSelect);if(i.getSnapShotStatus())t.length>1?(this.videoElement.childNodes[1].remove(),this.videoElement.appendChild(i.getSnapShot())):this.videoElement.appendChild(i.getSnapShot()),this.videoElement.style.removeProperty("border-bottom"),this._sendEvent(this.sendEventSnapShotStatus,this.receivedStateSelect,"number");else{if(this.videoElement.style.background="#000",this.lastBackGroundRequest===this.VIDEO_ACTION.MARK||""===this.url||this.lastResponseStatus===this.VIDEO_ACTION.ERROR||!this.playValue)return""===this.url&&this.lastBackGroundRequest!==this.VIDEO_ACTION.NOURL?this.ch5BackgroundRequest(this.VIDEO_ACTION.NOURL,"drawSnapShot#2"):this.lastResponseStatus===this.VIDEO_ACTION.ERROR&&this.ch5BackgroundRequest(this.VIDEO_ACTION.ERROR,"drawSnapShot#2"),void clearTimeout(this.exitSnapsShotTimer);this.ch5BackgroundRequest(this.VIDEO_ACTION.MARK,"drawSnapShot#3")}}clearTimeout(this.exitSnapsShotTimer);var n=parseInt(this.snapShotRefreshRate,0);this.exitSnapsShotTimer=setTimeout(function(){e.info("Snapshot refreshed with new image"),e.beforeVideoDisplay()},1e3*n)}},{key:"_videoScenariosCheck",value:function(e){var t=this.VIDEO_ACTION.STOP;return e&&this.elementIsInViewPort?(this.isVideoReady=!1,this.lastRequestStatus=this.VIDEO_ACTION.STOP,t=this.VIDEO_ACTION.START):e&&!this.elementIsInViewPort?(this.isVideoReady=!0,this.isVideoPublished=!0,this.lastRequestStatus=this.VIDEO_ACTION.START):!e&&this.elementIsInViewPort?(this.isVideoPublished=!0,this.isVideoReady=!1,this.lastRequestStatus=this.VIDEO_ACTION.START,t=this.VIDEO_ACTION.STOP):e||this.elementIsInViewPort||(this.isVideoReady=!0,this.isVideoPublished=!0,this.lastRequestStatus=this.VIDEO_ACTION.START),t}},{key:"_exitFullScreen",value:function(){this.info("Ch5Video.exitFullScreen()"),this.vidControlPanel.classList.remove("fullScreen"),this.fullScreenOverlay&&this.fullScreenOverlay.classList&&this.fullScreenOverlay.classList.remove(this.primaryVideoCssClass+"--overlay"),this.controlFullScreen.innerHTML="",this.controlFullScreen.innerHTML=this.ESVG_ICONS.FULLSCREEN_ICON,this.zIndex="0",this.isVideoReady=!0,this.isOrientationChanged=!1,this.isExitFullscreen=!0,this.isFullScreen=!1,this.vidControlPanel.classList.remove("fullScreen"),this.fullScreenOverlay&&this.fullScreenOverlay.classList&&this.fullScreenOverlay.classList.remove(this.primaryVideoCssClass+"--overlay"),this.classList.remove(this.fullScreenStyleClass),this._autoHideControls(),this.style.visibility="",this.calculation(),clearTimeout(this.scrollTimer),document.body.classList.remove(this.fullScreenBodyClass),this._publishVideoEvent(this.VIDEO_ACTION.RESIZE)}},{key:"_handleTouchMoveEvent_Fullscreen",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"addTouchPollingForVideoMonitor",value:function(){this.info("HH Test: Ch5VideoTouchManager triggered"),this.videoTouchHandler=new v.Ch5VideoTouchManager({onTouchStartHandler:this.touchBeginHandler.bind(this),onTouchMoveHandler:this.checkIfVideoStoppedMoving.bind(this),onTouchEndHandler:this.stopVideoWhileSectionStoppedMoving.bind(this),onTouchCancelHandler:this.stopVideoWhileSectionStoppedMoving.bind(this),pollingDuration:300,componentID:this.videoTagId})}},{key:"removeTouchPollingForVideoMonitor",value:function(){this.info("HH Test: Destructor triggered"),this.videoTouchHandler&&null!==this.videoTouchHandler&&void 0!==this.videoTouchHandler&&this.videoTouchHandler.destructor&&this.videoTouchHandler.destructor()}},{key:"touchBeginHandler",value:function(){this.pollForStateUntilFalseAndRerenderVideo()}},{key:"pollForStateUntilFalseAndRerenderVideo",value:function(){if(!this.firstTime){this.info("HH TEST: TOUCH TRIGGERED START : ".concat(this.isTouchInProgress," ").concat(this.videoTagId));var e=this.getBoundingClientRect();this.touchCoordinates.startX=e.left,this.touchCoordinates.startY=e.top,this.isTouchInProgress=!1}}},{key:"checkIfVideoStoppedMoving",value:function(){if(this.info("HH TEST: touch in progress/move  ".concat(this.videoTagId)),!this.isTouchInProgress){var e=this.getBoundingClientRect();this.touchCoordinates.endX=e.left,this.touchCoordinates.endY=e.top,(Math.abs(this.touchCoordinates.startX-this.touchCoordinates.endX)>this.swipeDeltaCheckNum||Math.abs(this.touchCoordinates.startY-this.touchCoordinates.endY)>this.swipeDeltaCheckNum)&&(this.info("HH TEST: touch move [did move]  ".concat(this.videoTagId)),this.isTouchInProgress=!0,this.clearBackgroundOfVideoWrapper(!1),this.ch5BackgroundRequest(this.VIDEO_ACTION.STOP,"receiveStatePlay"),this._publishVideoEvent(this.VIDEO_ACTION.RESIZE))}}},{key:"stopVideoWhileSectionStoppedMoving",value:function(){var e=this;this.info("HH TEST: touch stop  ".concat(this.videoTagId)),this.isTouchInProgress&&(this.info("HH TEST: touch stop [did stop]  ".concat(this.videoTagId)),setTimeout(function(){e.clearBackgroundOfVideoWrapper(!0),e.videoIntersectionObserver()},300)),this.isTouchInProgress=!1}},{key:"clearBackgroundOfVideoWrapper",value:function(e){this.videoElement.style.background=e?"transparent":"black"}},{key:"toggleFullScreen",value:function(){this.isFullScreen?this._exitFullScreen():(this.info("Ch5Video.enterFullScreen()"),this.isFullScreen=!0,this.addEventListener("touchmove",this._handleTouchMoveEvent_Fullscreen,{passive:!0}),this._hideFullScreenIcon(),this.fullScreenOverlay&&this.fullScreenOverlay.classList&&this.fullScreenOverlay.classList.add(this.primaryVideoCssClass+"--overlay"),this.vidControlPanel.classList.add("fullScreen"),this.controlFullScreen.innerHTML=this.ESVG_ICONS.EXIT_FULLSCREEN_ICON,this.classList.add(this.fullScreenStyleClass),document.body.classList.add(this.fullScreenBodyClass),this.style.visibility="visible",this.isVideoReady=!0,this.isOrientationChanged=!1,this.style.width="100%",this.style.height="100%",this._publishVideoEvent(this.VIDEO_ACTION.FULLSCREEN))}},{key:"_autoHideControls",value:function(){var e=this;clearTimeout(this.controlTimer),this.controlTimer=setTimeout(function(){e._hideFullScreenIcon()},1e3*this.autoHideControlPeriod)}},{key:"_videoCP",value:function(e){e.stopPropagation()}},{key:"_observePositionChangesAfterScrollEnds",value:function(){this.info("Ch5Video.observePositionChangesAfterScrollEnds()"),this.previousXPos===this.videoLeft&&this.previousYPos===this.videoTop||this.lastBackGroundRequest!==this.VIDEO_ACTION.REFILL&&this.ch5BackgroundRequest(this.VIDEO_ACTION.REFILL,"observePositionChangesAfterScrollEnds"),this.lastResponseStatus!==this.VIDEO_ACTION.STARTED&&this.lastResponseStatus!==this.VIDEO_ACTION.RESIZED||(this._publishVideoEvent(this.VIDEO_ACTION.RESIZE),this.previousXPos=this.videoLeft,this.previousYPos=this.videoTop)}},{key:"_positionChange",value:function(){var e=this;this.info("Ch5Video.positionChange()"),this.lastResponseStatus!==this.VIDEO_ACTION.EMPTY&&this.lastResponseStatus!==this.VIDEO_ACTION.STARTED&&this.lastResponseStatus!==this.VIDEO_ACTION.RESIZED||(this.isPositionChanged=!0,window.clearTimeout(this.exitTimer),clearTimeout(this.scrollTimer),this.lastBackGroundRequest!==this.VIDEO_ACTION.REFILL&&this.ch5BackgroundRequest(this.VIDEO_ACTION.REFILL,"positionChange"),this.isExitFullscreen=!1,this.scrollTimer=setTimeout(function(){e.elementIntersectionEntry.intersectionRatio>=.2&&e._observePositionChangesAfterScrollEnds()},500))}},{key:"_removeEvents",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),this.controlFullScreen.removeEventListener("click",this.toggleFullScreen.bind(this)),this.removeEventListener("click",this._manageControls.bind(this)),this.vidControlPanel.removeEventListener("click",this._videoCP.bind(this)),window.removeEventListener("orientationchange",this._orientationChange.bind(this)),window.removeEventListener(this.VIDEO_ACTION.RESIZE,this._orientationChange.bind(this)),this._scrollableElm.removeEventListener("scroll",f.default.debounce(this._positionChange.bind(this),100,{leading:!0,trailing:!0}))}},{key:"_orientationChanged",value:function(){return new Promise(function(e){!function t(i,n){window.innerHeight!==n||i>=120?e():window.requestAnimationFrame(function(){return t(i+1,n)})}(0,window.innerHeight)})}},{key:"_orientationChange",value:function(){var e=this;this.info("Ch5Video.orientationChange()"),this.elementIntersectionEntry.intersectionRatio<this.INTERSECTION_RATIO_VALUE||(this.info("Ch5Video.orientationChange() -> 1"),this.info("this.orientationCount -> "+this.orientationCount),1===this.orientationCount&&(this.orientationCount=0,this._hideFullScreenIcon(),this._orientationChanged().then(function(){e.calculation(),e.lastResponseStatus===e.VIDEO_ACTION.STARTED||e.lastResponseStatus===e.VIDEO_ACTION.RESIZED&&e.lastRequestStatus===e.VIDEO_ACTION.RESIZE?e.elementIsInViewPort&&(e.isOrientationChanged=!0,e.isFullScreen?e._publishVideoEvent(e.VIDEO_ACTION.FULLSCREEN):(e._publishVideoEvent(e.VIDEO_ACTION.RESIZE),e._updateAppBackgroundStatus())):(e.lastResponseStatus===e.VIDEO_ACTION.STOPPED||e.lastResponseStatus===e.VIDEO_ACTION.EMPTY)&&e.elementIntersectionEntry.intersectionRatio>=e.INTERSECTION_RATIO_VALUE&&(e.info(">>>>>>>>>>>>>>>>>>>>> DrawSnapshot3 <<<<<<<<<<<<<<<<<<<<<<<<<<<"),e.beforeVideoDisplay(),e._publishVideoEvent(e.VIDEO_ACTION.START))})),this.orientationCount++)}},{key:"_getSizeAndPositionObj",value:function(e,t,i){return e.width<t?this.position=p.CH5VideoUtils.calculatePillarBoxPadding(t,e.width):e.height<i&&(this.position=p.CH5VideoUtils.calculateLetterBoxPadding(i,e.height)),this.position}},{key:"_performanceDuration",value:function(e,t,i){this.info("performanceDuration -> key: "+e+"; duration: "+t+"; action: "+i);var n=0;return"timerStart"===i?this._performanceMap.set(e,t):"timerEnd"===i&&this._performanceMap.has(e)&&(n=.001*(t-this._performanceMap.get(e)),this.info("Video "+e+" took "+n.toFixed(2)+" seconds between request and response."),this._performanceMap.delete(e)),n}},{key:"_publishVideoEvent",value:function(e){switch(this.info("*** publishVideoEvent: actionType -> "+e+"; lastRequestStatus -> "+this.lastRequestStatus+"; lastResponseStatus -> "+this.lastResponseStatus+"; CH5UID: "+this.ch5UId),this.fromReceiveStatePlay&&(e=this._videoScenariosCheck(this.playValue)),this._hideFullScreenIcon(),this._sendEvent(this.sendEventResolution,this.sizeObj.width+"x"+this.sizeObj.height+"@24fps","string"),this.responseObj={},this.isAlphaBlend=!this.isFullScreen,this._clearOldResponseData(),e){case this.VIDEO_ACTION.START:if(this.info("*** VIDEO_ACTION.START ",this.playValue,this.receiveStatePlay,this.fromReceiveStatePlay),this.isVideoPublished=!0,""!==this.receiveStatePlay&&!this.playValue)return;if(this.playValue&&this.fromReceiveStatePlay)return this._videoStartRequest(e),void(this.fromReceiveStatePlay=!1);this._sendEvent(this.sendEventSelectionURL,this._url,"string"),this.info("*** this.isVideoReady: "+!this.isVideoReady+" && this.lastRequestStatus: "+this.lastRequestStatus+" !== start && this.url: "+this.url+"&& (this.lastResponseStatus === "+this.lastResponseStatus+"=== stopped || this.lastResponseStatus: "+this.lastResponseStatus+"=== '' || "+this.lastResponseStatus+"this.wasAppBackGrounded: "+this._wasAppBackGrounded+") && !this.isExitFullscreen: "+!this.isExitFullscreen),this.isVideoReady||this.lastRequestStatus===this.VIDEO_ACTION.START||!this.url||this.lastResponseStatus!==this.VIDEO_ACTION.STOPPED&&this.lastResponseStatus!==this.VIDEO_ACTION.EMPTY&&this.lastResponseStatus!==this.VIDEO_ACTION.ERROR&&!this._wasAppBackGrounded||this.isExitFullscreen?(this.info("*** this.sendEvent"),this._sendEvent(this.sendEventState,0,"number")):(this.info("*** videoStartRequest"),this._videoStartRequest(e));break;case this.VIDEO_ACTION.STOP:if(this.info("VIDEO_ACTION.STOP - this.playValue",this.playValue),this.info("VIDEO_ACTION.STOP - this.fromReceiveStatePlay",this.fromReceiveStatePlay),!this.playValue&&this.fromReceiveStatePlay)return this._videoStopRequest(e),void(this.fromReceiveStatePlay=!1);if(this.info("*** MyCase STOPPED - this.isVideoPublished",this.isVideoPublished),!this.isVideoPublished)return;this.info("*** MyCase STOPPED - this.lastRequestStatus",this.lastRequestStatus),this.info("*** MyCase STOPPED - this.lastResponseStatus",this.lastResponseStatus),this.info("*** MyCase STOPPED - this.elementIsInViewPort",this.elementIsInViewPort),this.info("*** MyCase STOPPED - this.isExitFullscreen",this.isExitFullscreen),this.lastRequestStatus===this.VIDEO_ACTION.STOP||this.lastResponseStatus!==this.VIDEO_ACTION.EMPTY&&this.lastResponseStatus!==this.VIDEO_ACTION.STARTED&&this.elementIsInViewPort&&(this.lastResponseStatus!==this.VIDEO_ACTION.RESIZED&&this.lastResponseStatus!==this.VIDEO_ACTION.ERROR||this.isExitFullscreen)||(this.info("*** videoStopRequest"),this._videoStopRequest(e)),this.info("*** MyCase STOPPED - ENDS");break;case this.VIDEO_ACTION.RESIZE:if(this.info("*** MyCase RESIZE"),this.lastResponseStatus===this.VIDEO_ACTION.STOPPED||this.lastResponseStatus===this.VIDEO_ACTION.EMPTY||this.lastRequestStatus===this.VIDEO_ACTION.STOP)return;this.fromExitFullScreen=!1,this.calculation(),this.beforeVideoDisplay(),this._performanceDuration(this.VIDEO_ACTION.RESIZE,performance.now(),"timerStart"),(0,a.publishEvent)("o","Csig.video.request",this.videoStartObjJSON(e,"publishVideoEvent")),this.isVideoReady=!1;break;case this.VIDEO_ACTION.FULLSCREEN:this.lastResponseStatus!==this.VIDEO_ACTION.STARTED&&this.lastResponseStatus!==this.VIDEO_ACTION.RESIZED||(this.fromExitFullScreen=!1,(0,a.publishEvent)("o","Csig.video.request",this.videoStartObjJSON(e,"publishVideoEvent")),this.isVideoReady=!1)}}},{key:"validateVideoUrl",value:function(e){return!!(e.startsWith("rtsp://")||e.startsWith("http://")||e.startsWith("https://"))}},{key:"_videoStartRequest",value:function(e){if(""!==this.url.trim()){if(!this.validateVideoUrl(this.url))return this.info("Invalid RTSP url -> "+this.url),this.lastResponseStatus=this.VIDEO_ACTION.ERROR,void this.ch5BackgroundRequest(this.VIDEO_ACTION.ERROR,"videoStartRequest");this.fromExitFullScreen=!1,this.lastRequestUrl=this.url,this.isVideoReady=!0,this._performanceDuration(this.VIDEO_ACTION.START,performance.now(),"timerStart"),(0,a.publishEvent)("o","Csig.video.request",this.videoStartObjJSON(e,"videoStartRequest")),this.requestID=this.ch5UId}else this.ch5BackgroundRequest(this.VIDEO_ACTION.NOURL,"videoStartRequest")}},{key:"_videoStopRequest",value:function(e){(0,a.publishEvent)("o","Csig.video.request",this.videoStopObjJSON(e,this.ch5UId)),this.stopLoadingSnapShots(),this.fromExitFullScreen=!1,this.lastRequestUrl="",this._performanceDuration(this.VIDEO_ACTION.STOP,performance.now(),"timerStart"),this.isVideoReady=!1,this._sendEvent(this.sendEventState,3,"number")}},{key:"resetVideoElement",value:function(){var e=this.videoElement.childNodes;this.clearBackgroundOfVideoWrapper(!0),this.videoElement.style.removeProperty("border-bottom"),e.length>1&&this.videoElement.childNodes[1].remove()}},{key:"ch5BackgroundAction",value:function(e){if(!(e.width<=0||e.height<=0||""===e.id))for(var t=this.ch5BackgroundElements.length;t>0;)this.ch5BackgroundElements[--t].videoBGRequest(e)}},{key:"ch5BackgroundRequest",value:function(e,t){var i=!0,n=this.videoElement.childNodes;switch(e){case this.VIDEO_ACTION.NOURL:this.clearBackgroundOfVideoWrapper(!1),n.length>1&&this.videoElement.childNodes[1].remove(),this.videoElement.style.borderBottom="1rem solid #828282";break;case this.VIDEO_ACTION.MARK:this.clearBackgroundOfVideoWrapper(!1),n.length>1&&this.videoElement.childNodes[1].remove(),this.videoElement.style.borderBottom="1rem solid #FFBF00";break;case this.VIDEO_ACTION.REFILL:this.lastBackGroundRequest!==e?this.ch5BackgroundAction(this.videoBGObjJSON(this.VIDEO_ACTION.REFILL)):i=!1;break;case this.VIDEO_ACTION.RESIZE:this.ch5BackgroundAction(this.videoBGObjJSON(this.VIDEO_ACTION.RESIZE));break;case this.VIDEO_ACTION.STARTED:clearTimeout(this.exitSnapsShotTimer),this.resetVideoElement(),this.switchLoadingSnapShot(),this.firstTime=!1,this.ch5BackgroundAction(this.videoBGObjJSON(this.VIDEO_ACTION.STARTED));break;case this.VIDEO_ACTION.STOP:clearTimeout(this.exitSnapsShotTimer),this.elementIsInViewPort?(this.resetVideoElement(),this.ch5BackgroundAction(this.videoBGObjJSON(this.VIDEO_ACTION.STOP))):i=!1;break;case this.VIDEO_ACTION.ERROR:this.elementIsInViewPort?(this.videoElement.style.background="#000",n.length>1&&this.videoElement.childNodes[1].remove(),this.videoElement.style.borderBottom="1rem solid #CF142B"):i=!1}this.lastBackGroundRequest=i?e:this.lastBackGroundRequest,this.info("\nVideo Id: "+this.videoTagId+"\nCalling Method -> "+t+"\nPrevious BG Request -> "+this.lastBackGroundRequest+"\nPresent BG Request -> "+(i?e:"none"))}},{key:"_errorResponse",value:function(e){this.info("Ch5Video - Error when the video response",e)}},{key:"_videoResponse",value:function(e){this.responseObj="string"==typeof e?JSON.parse(e):e,this.info(JSON.stringify(this.responseObj));var t=!Object.keys(e).length;if(this.responseObj.id===this.ch5UId&&!t)if(this._appCurrentBackgroundStatus(),this.info("Video Response : ",this._wasAppBackGrounded,this._appCurrentStatus,t,e,_typeof(e),JSON.stringify(this.responseObj),this.oldResponseStatus,this.requestID),this._wasAppBackGrounded&&!this._appCurrentStatus&&(this.isVideoReady=!1,this.info("*** 7"),this._publishVideoEvent(this.VIDEO_ACTION.START),this._updateAppBackgroundStatus()),t)this.isVideoReady=!1;else if((this.oldResponseStatus!==this.responseObj.status||this.oldResponseId!==this.responseObj.id)&&-1!==this.responseObj.id&&this.responseObj.id&&this.requestID===this.responseObj.id&&"queued"!==this.responseObj.status){this.info("Video Response : "+JSON.stringify(this.responseObj)),this.oldResponseStatus=this.responseObj.status,this.oldResponseId=this.responseObj.id;var i=this.responseObj.statusCode||0,n=this.responseObj.status.toLowerCase();switch(this.info("Response Status: "+n.toLowerCase()),n.toLowerCase()){case this.VIDEO_ACTION.STOPPED:this._performanceDuration(this.VIDEO_ACTION.STOP,performance.now(),"timerEnd"),this.isFullScreen&&this.lastRequestStatus===this.VIDEO_ACTION.STOP&&this._exitFullScreen(),-1!==["connecting","buffering","retrying","resizing","error"].indexOf(this.lastResponseStatus)&&(this.info("Stop Request when continous play and stop clicks"),this.lastRequestStatus=this.VIDEO_ACTION.EMPTY,this.lastResponseStatus=this.VIDEO_ACTION.STARTED,this._publishVideoEvent(this.VIDEO_ACTION.STOP)),this.retryCount=0,this.errorCount=0,this.isVideoReady=!1,this.isOrientationChanged=!1,this.isExitFullscreen=!1,this.isPositionChanged=!1,this._sendEvent(this.sendEventState,1,"number"),this._hideFullScreenIcon();break;case"connecting":this.isVideoReady=!1,this._hideFullScreenIcon(),this.lastRequestStatus===this.VIDEO_ACTION.START&&this._sendEvent(this.sendEventState,4,"number");break;case"buffering":this.isVideoReady=!1,this._hideFullScreenIcon(),this.lastRequestStatus===this.VIDEO_ACTION.START&&this._sendEvent(this.sendEventState,5,"number");break;case this.VIDEO_ACTION.STARTED:this._performanceDuration(this.VIDEO_ACTION.START,performance.now(),"timerEnd"),this._sendEvent(this.sendEventSnapShotStatus,0,"number"),this.retryCount=0,this.errorCount=0,this.isVideoReady=!0,this._sendEvent(this.sendEventState,2,"number"),this.isOrientationChanged=!1,this.isExitFullscreen=!1,this.isPositionChanged=!1,this.ch5BackgroundRequest(this.VIDEO_ACTION.STARTED,"videoResponse"),this.elementIntersectionEntry.intersectionRatio<this.INTERSECTION_RATIO_VALUE&&(this.info("Video not visible ("+this.elementIntersectionEntry.intersectionRatio+")."),this.info("Received this.VIDEO_ACTION.STARTED delayed response from VSM. Sending this.VIDEO_ACTION.STOP request from UI."),this._publishVideoEvent(this.VIDEO_ACTION.STOP));break;case"retrying":this.isVideoReady=!1,this._hideFullScreenIcon(),this.lastRequestStatus===this.VIDEO_ACTION.START&&this._sendEvent(this.sendEventState,6,"number"),this.retryCount=this.retryCount+1,this._sendEvent(this.sendEventRetryCount,this.retryCount,"number");break;case"resizing":this.isVideoReady=!1,this._hideFullScreenIcon();break;case this.VIDEO_ACTION.RESIZED:this._performanceDuration(this.VIDEO_ACTION.RESIZE,performance.now(),"timerEnd"),this.isOrientationChanged=!1,this.isExitFullscreen&&(this.isExitFullscreen=!1,this.fromExitFullScreen=!0),this.isPositionChanged=!1,(0,l.isSafariMobile)()?this.lastRequestStatus===this.VIDEO_ACTION.START&&(this.ch5BackgroundRequest(this.VIDEO_ACTION.STARTED,"videoResponse"),this.isVideoReady=!0):this.lastRequestStatus===this.VIDEO_ACTION.RESIZE&&(this.ch5BackgroundRequest(this.VIDEO_ACTION.STARTED,"videoResponse"),this.isVideoReady=!0);break;case"error":this.info("Error case in Csig.video.response with status code : "+i),this.lastRequestStatus===this.VIDEO_ACTION.START&&this._sendEvent(this.sendEventState,7,"number"),this.responseObj.statusCode&&(this._sendEvent(this.sendEventErrorCode,this.responseObj.statusCode,"number"),this._videoErrorMessages.has(this.responseObj.statusCode)?this._sendEvent(this.sendEventErrorMessage,this._videoErrorMessages.get(this.responseObj.statusCode),"string"):this._sendEvent(this.sendEventErrorMessage,"Unknown Error Message","string")),this.lastResponseStatus=this.VIDEO_ACTION.ERROR,this.lastRequestStatus=this.VIDEO_ACTION.EMPTY,this.isVideoReady=!1,0===this.errorCount&&this.ch5BackgroundRequest(this.VIDEO_ACTION.ERROR,"videoResponse"),this.errorCount=this.errorCount+1,this._hideFullScreenIcon();break;default:this.info("Default case in Csig.video.response with status : "+n),this.isVideoReady=!1,this._hideFullScreenIcon(),"retrying connection"===n&&(this.retryCount+=this.retryCount,this._sendEvent(this.sendEventRetryCount,this.retryCount,"number"))}this.lastResponseStatus=n}}},{key:"_clearOldResponseData",value:function(){this.oldResponseStatus="",this.oldResponseId=0}},{key:"_hideFullScreenIcon",value:function(){this.vidControlPanel&&this.vidControlPanel.classList&&this.vidControlPanel.classList.remove(this.showControl)}},{key:"_showFullScreenIcon",value:function(){this.vidControlPanel&&this.vidControlPanel.classList&&this.vidControlPanel.classList.add(this.showControl)}},{key:"calculation",value:function(){if(!this.isFullScreen){var e=this.getBoundingClientRect();this.sizeObj={width:0,height:0},"false"===this.stretch?this.sizeObj=p.CH5VideoUtils.getAspectRatioForVideo(this.aspectRatio,this.size):"true"===this.stretch&&(this.sizeObj=p.CH5VideoUtils.getDisplayWxH(this.aspectRatio,this.clientWidth,this.clientHeight)),this._getSizeAndPositionObj(this.sizeObj,this.clientWidth,this.clientHeight),this.vidControlPanel.style.left="-5px",this.vidControlPanel.style.top=this.position.yPos+5+"px",this.videoLeft=e.left+this.position.xPos,this.videoTop=e.top+this.position.yPos,this.videoElement.style.width=this.sizeObj.width+"px",this.videoElement.style.height=this.sizeObj.height+"px"}}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),this.controlFullScreen.addEventListener("click",this.toggleFullScreen.bind(this)),this.addEventListener("click",this._manageControls.bind(this)),this.vidControlPanel.addEventListener("click",this._videoCP.bind(this)),window.addEventListener("orientationchange",this._orientationChange.bind(this)),window.addEventListener(this.VIDEO_ACTION.RESIZE,this._orientationChange.bind(this)),this._scrollableElm.addEventListener("scroll",f.default.debounce(this._positionChange.bind(this),100,{leading:!0,trailing:!0}))}},{key:"initAttributes",value:function(){if(_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("indexid")&&(this.indexId=this.getAttribute("indexid")),this.hasAttribute("userid")&&(this.userId=this.getAttribute("userid")),this.hasAttribute("snapshotuserid")&&(this.snapShotUserId=this.getAttribute("snapshotuserid")),this.hasAttribute("password")&&(this.password=this.getAttribute("password")),this.hasAttribute("snapshotpassword")&&(this.snapShotPassword=this.getAttribute("snapshotpassword")),this.hasAttribute("aspectratio")){var e=this.getAttribute("aspectratio");this.aspectRatio="16:9"===e||"4:3"===e?e:"16:9"}this.hasAttribute("stretch")&&(this.stretch=this.getAttribute("stretch")),this.hasAttribute("snapshoturl")&&(this.snapShotUrl=this.getAttribute("snapshoturl")),this.hasAttribute("url")&&(this.url=this.getAttribute("url")),this.hasAttribute("sourcetype")&&(this.sourceType=this.getAttribute("sourcetype")),this.hasAttribute("sendeventonclick")&&(this.sendEventOnClick=this.getAttribute("sendeventonclick")),this.hasAttribute("sendeventselectionchange")&&(this.sendEventSelectionChange=this.getAttribute("sendeventselectionchange")),this.hasAttribute("sendeventselectionsourcetype")&&(this.sendEventSelectionSourceType=this.getAttribute("sendeventselectionsourcetype")),this.hasAttribute("sendeventselectionurl")&&(this.sendEventSelectionURL=this.getAttribute("sendeventselectionurl")),this.hasAttribute("sendeventsnapshoturl")&&(this.sendEventSnapShotURL=this.getAttribute("sendeventsnapshoturl")),this.hasAttribute("sendeventstate")&&(this.sendEventState=this.getAttribute("sendeventstate")),this.hasAttribute("sendeventerrorcode")&&(this.sendEventErrorCode=this.getAttribute("sendeventerrorcode")),this.hasAttribute("sendeventerrormessage")&&(this.sendEventErrorMessage=this.getAttribute("sendeventerrormessage")),this.hasAttribute("sendeventretrycount")&&(this.sendEventRetryCount=this.getAttribute("sendeventretrycount")),this.hasAttribute("sendeventresolution")&&(this.sendEventResolution=this.getAttribute("sendeventresolution")),this.hasAttribute("sendeventsnapshotstatus")&&(this.sendEventSnapShotStatus=this.getAttribute("sendeventsnapshotstatus")),this.hasAttribute("sendeventsnapshotlastupdatetime")&&(this.sendEventSnapShotLastUpdateTime=this.getAttribute("sendeventsnapshotlastupdatetime")),this.hasAttribute("receivestatevideocount")&&(this.receiveStateVideoCount=this.getAttribute("receivestatevideocount")),this.hasAttribute("receivestateplay")&&(this.receiveStatePlay=this.getAttribute("receivestateplay")),this.hasAttribute("receivestateselect")&&(this.receiveStateSelect=this.getAttribute("receivestateselect")),this.hasAttribute("receivestateurl")&&(this.receiveStateUrl=this.getAttribute("receivestateurl")),this.hasAttribute("receivestatesourcetype")&&(this.receiveStateSourceType=this.getAttribute("receivestatesourcetype")),this.hasAttribute("receivestatesnapshoturl")&&(this.receiveStateSnapShotURL=this.getAttribute("receivestatesnapshotURL")),this.hasAttribute("receivestatesnapshotrefreshrate")&&(this.receiveStateSnapShotRefreshRate=this.getAttribute("receivestatesnapshotrefreshrate")),this.hasAttribute("receivestateuserid")&&(this.receiveStateUserId=this.getAttribute("receivestateuserid")),this.hasAttribute("receivestatesnapshotuserid")&&(this.receiveStateSnapShotUserId=this.getAttribute("receivestatesnapshotuserid")),this.hasAttribute("receivestatepassword")&&(this.receiveStatePassword=this.getAttribute("receivestatepassword")),this.hasAttribute("receivestatesnapshotpassword")&&(this.receiveStateSnapShotPassword=this.getAttribute("receivestatesnapshotpassword")),this.hasAttribute("size")&&(this.size=this.getAttribute("size")),this.hasAttribute("zindex")&&(this.zIndex=this.getAttribute("zindex")),this.hasAttribute("snapshotrefreshrate")&&(this.snapShotRefreshRate=this.getAttribute("snapshotrefreshrate"))}}],[{key:"observedAttributes",get:function(){return s.Ch5Common.observedAttributes.concat(["indexid","userid","snapshotuserid","password","snapshotpassword","aspectratio","stretch","snapshotrefreshrate","url","sourcetype","snapshoturl","size","zindex","controls","sendEventsnapshotUrl","sendeventonclick","sendeventselectionchange","sendeventselectionsourcetype","sendeventselectionurl","sendeventsnapshoturl","sendeventerrorcode","sendeventerrormessage","sendeventretrycount","sendeventresolution","sendeventsnapshotstatus","sendeventsnapshotlastupdatetime","sendeventstate","receivestatesnapshoturl","receivestateurl","receivestateplay","receivestateselect","receivestatesourcetype","receivestatesnapshotrefreshrate","receivestateuserid","receivestatesnapshotuserid","receivestatepassword","receivestatevideocount","receivestatesnapshotpassword"])}},{key:"registerSignalAttributeTypes",value:function(){g.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}}]),i}();t.Ch5Video=b,b.ELEMENT_NAME="ch5-video",b.COMPONENT_DATA={},b.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatesnapshotpassword:{direction:"state",stringJoin:1,contractName:!0},receivestatevideocount:{direction:"state",stringJoin:1,contractName:!0},receivestatepassword:{direction:"state",stringJoin:1,contractName:!0},receivestatesnapshotuserid:{direction:"state",stringJoin:1,contractName:!0},receivestateuserid:{direction:"state",stringJoin:1,contractName:!0},receivestatesnapshotrefreshrate:{direction:"state",numericJoin:1,contractName:!0},receivestatesourcetype:{direction:"state",stringJoin:1,contractName:!0},receivestateselect:{direction:"state",stringJoin:1,contractName:!0},receivestateplay:{direction:"state",stringJoin:1,contractName:!0},receivestateurl:{direction:"state",stringJoin:1,contractName:!0},receivestatesnapshoturl:{direction:"state",stringJoin:1,contractName:!0},sendeventstate:{direction:"event",booleanJoin:1,contractName:!0},sendeventsnapshotlastupdatetime:{direction:"event",booleanJoin:1,contractName:!0},sendeventsnapshotstatus:{direction:"event",booleanJoin:1,contractName:!0},sendeventresolution:{direction:"event",booleanJoin:1,contractName:!0},sendeventretrycount:{direction:"event",booleanJoin:1,contractName:!0},sendeventerrormessage:{direction:"event",booleanJoin:1,contractName:!0},sendeventerrorcode:{direction:"event",booleanJoin:1,contractName:!0},sendeventsnapshoturl:{direction:"event",booleanJoin:1,contractName:!0},sendeventselectionurl:{direction:"event",booleanJoin:1,contractName:!0},sendeventselectionsourcetype:{direction:"event",booleanJoin:1,contractName:!0},sendeventselectionchange:{direction:"event",booleanJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0}}),"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(b.ELEMENT_NAME,b),b.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(128),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeObserver=void 0,t.resizeObserver=function(e,t){new ResizeObserver(t).observe(e)}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Background=void 0;var s=i(3),r=i(0),a=i(28),o=i(130),l=i(2),u=n(i(1)),c=function(e){_inherits(i,s.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).primaryCssClass="ch5-background",e.parentCssClassPrefix="--parent",e.canvasCssClassPrefix="--canvas",e.isCanvasCreated=!1,e._elCanvas={},e._prevCanvasList=[],e._imgUrls=[],e._elImages=[],e._elBackupImages=[],e._bgColors=[],e._bgIdx=0,e._videoRes={},e._isVisible=!1,e._videoDimensions=[],e._isRefilled=!0,e.lastRefillTime=100,e.videoSnapShot={},e.isInitialized=!1,e.VIDEO_ACTION={STARTED:"started",STOP:"stop",STOPPED:"stopped",RESIZE:"resize",REFILL:"refill",SNAPSHOT:"snapshot",MARK:"mark",NOURL:"nourl",ERROR:"error"},e.MARK_COLORS=new Map,e._url="",e._backgroundColor=i.IMGBGCOLOR,e._repeat=null,e._scale=i.SCALE[0],e._refreshRate=i.REFRESHRATE,e._videoCrop="",e._imgBackgroundColor="",e._transitionEffect="ease",e._transitionDuration="",e._receiveStateRefreshRate="",e._subReceiveRefreshRate="",e._receiveStateUrl="",e._sigNameReceiveUrl="",e._subReceiveUrl="",e._receiveStateBackgroundColor="",e._subReceiveBackgroundColor="",e._videoSubscriptionId="",e._canvasSubscriptionId="",customElements.whenDefined("ch5-background").then(function(){e.classList.add(e.primaryCssClass),e.parentElement&&!e._isVisible&&e.parentElement.classList.add(e.primaryCssClass+e.parentCssClassPrefix),e.MARK_COLORS.set("mark","#FFBF00"),e.MARK_COLORS.set("error","#CF142B"),e.MARK_COLORS.set("nourl","#828282"),e.MARK_COLORS.set("stop","#828282"),e.parentElement&&(0,o.resizeObserver)(e.parentElement,e.updateCanvasDimensions.bind(_assertThisInitialized(e))),e.info("From connectedCallback of ch5-background")}),e}return _createClass(i,[{key:"url",get:function(){return this._url},set:function(e){this._url===e||u.default.isNil(e)||""===e||(this._url=e,this.getBackgroundUrl(this._url),this.setAttribute("url",this._url))}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this.hasAttribute("url")||this.hasAttribute("receivestateurl")||(this._backgroundColor=""!==e.trim()?this.imgBackgroundColor:"value",this._backgroundColor=e,this.getBackgroundColor(this._backgroundColor),this.setAttribute("backgroundcolor",this._backgroundColor))}},{key:"repeat",get:function(){return this._repeat},set:function(e){u.default.isNil(e)?(this._repeat=null,this.removeAttribute("repeat")):this._repeat!==e&&(i.REPEAT.indexOf(e)>=0?(this._repeat=e,this.setAttribute("repeat",this._repeat)):(this._repeat=null,this.removeAttribute("repeat"))),this.updateBackground()}},{key:"scale",get:function(){return this._scale},set:function(e){this._scale!==e&&(i.SCALE.indexOf(e)>=0?this._scale=e:this._scale=i.SCALE[0],this.setAttribute("scale",this._scale))}},{key:"refreshRate",get:function(){return this._refreshRate},set:function(e){(e=isNaN(e)?i.REFRESHRATE:Number(e))<10?e=10:e>604800&&(e=604800),this._refreshRate!==e&&(this._refreshRate=e,this.setAttribute("refreshrate",this._refreshRate.toString()))}},{key:"videoCrop",get:function(){return this._videoCrop},set:function(e){this._videoCrop!==e&&(this._videoCrop=e,this.setAttribute("videocrop",this._videoCrop))}},{key:"imgBackgroundColor",get:function(){return this._imgBackgroundColor},set:function(e){this._imgBackgroundColor!==e&&(i.IMGBGCOLOR?this._imgBackgroundColor=e:this._imgBackgroundColor=i.IMGBGCOLOR,this.setAttribute("imgbackgroundcolor",this._imgBackgroundColor))}},{key:"transitionEffect",get:function(){return this._transitionEffect},set:function(e){this._transitionEffect!==e&&(this._transitionEffect=e,this.setAttribute("transitioneffect",this._transitionEffect))}},{key:"transitionDuration",get:function(){return this._transitionDuration},set:function(e){this._transitionDuration!==e&&(this._transitionDuration=e,this.setAttribute("transitionduration",this._transitionDuration));var t=0;Array.from(this._transitionDuration).forEach(function(e){e.toUpperCase()!==e.toLowerCase()&&t++}),t>1&&this.setAttribute("transitionduration","1s"),!0===new RegExp(/[`!@#$%^&*()_+\-=\[\]{};':"\\|,<>\/?~]/).test(this._transitionDuration)&&(this._transitionDuration="1s",this.setAttribute("transitionduration",this._transitionDuration)),""===this._transitionDuration&&this.setAttribute("transitionduration","1s")}},{key:"receiveStateRefreshRate",get:function(){return this._attributeValueAsString("receivestaterefreshrate")},set:function(e){var t=this;if(this.info("set receiveStateRefreshRate('"+e+"')"),e&&this._receiveStateRefreshRate!==e){if(this._receiveStateRefreshRate){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateRefreshRate),n=r.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==n&&n.unsubscribe(this._subReceiveRefreshRate)}this._receiveStateRefreshRate=e,this.setAttribute("receivestaterefreshrate",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateRefreshRate),a=r.Ch5SignalFactory.getInstance().getNumberSignal(s);null!==a&&(this._subReceiveRefreshRate=a.subscribe(function(e){Number(e)!==t.refreshRate&&t.setAttribute("refreshrate",String(e))}))}}},{key:"receiveStateUrl",get:function(){return this._attributeValueAsString("receivestateurl")},set:function(e){var t=this;if(this.info("set receiveStateUrl('"+e+"')"),""!==e&&this._sigNameReceiveUrl!==e&&null!=e){if(""!==this._sigNameReceiveUrl&&void 0!==this._sigNameReceiveUrl&&null!==this._sigNameReceiveUrl){var i=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUrl),n=r.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&n.unsubscribe(this._subReceiveUrl)}this._sigNameReceiveUrl=e,this.setAttribute("receivestateurl",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUrl),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);null!==a&&(this._subReceiveUrl=a.subscribe(function(e){e!==t._url&&t.setAttribute("url",e)}))}}},{key:"receiveStateBackgroundColor",get:function(){return this._attributeValueAsString("receivestatebackgroundcolor")},set:function(e){var t=this;if(this.info("set receivestatebackgroundcolor('"+e+"')"),e&&this._receiveStateBackgroundColor!==e){if(this._receiveStateBackgroundColor){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateBackgroundColor),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe(this._subReceiveBackgroundColor)}this._receiveStateBackgroundColor=e,this.setAttribute("receivestatebackgroundcolor",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateBackgroundColor),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);null!==a&&(this._subReceiveBackgroundColor=a.subscribe(function(e){e!==t.backgroundColor&&t.setAttribute("backgroundcolor",e)}))}}},{key:"connectedCallback",value:function(){var e=this;this.setAttribute("data-ch5-id",this.getCrId()),customElements.whenDefined("ch5-background").then(function(){a.Ch5CoreIntersectionObserver.getInstance().observe(e,function(){e.elementIsInViewPort?e._isVisible||(e.parentElement&&e.parentElement.classList.add(e.primaryCssClass+e.parentCssClassPrefix),e.updateCanvasDimensions(),e._isVisible=!0):e._isVisible=!1,e.isInitialized=!0})})}},{key:"isTimeToRefill",value:function(e){return performance.now()-e>500}},{key:"isInViewport",value:function(e){var t=document.getElementById(e);if(t){var i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)}return!1}},{key:"videoBGRequest",value:function(e){if(this.info("In videoBGRequest(): Video Tag Id -> "+e.id+" action: "+e.action),this.isInitialized&&this.elementIsInViewPort&&""!==e.id&&e&&Object.keys(e).length){var t=Object.assign({},e);delete t.image,this.setAttribute("videocrop",JSON.stringify(t)),e.action!==this.VIDEO_ACTION.REFILL||this._isRefilled?e.action===this.VIDEO_ACTION.STOP?this.manageVideoInfo(e):e.action===this.VIDEO_ACTION.STARTED?(this.manageVideoInfo(e),e.action===this.VIDEO_ACTION.SNAPSHOT&&e.image&&(this.videoSnapShot=e.image),this.videoBGAction()):e.action===this.VIDEO_ACTION.RESIZE&&(this.manageVideoInfo(e),this.refillBackground(),this.videoBGAction()):this.isTimeToRefill(this.lastRefillTime)&&(this.isInViewport(e.id)||this.refillBackground())}}},{key:"disconnectedCallback",value:function(){this.info("called disconnectedCallback()"),a.Ch5CoreIntersectionObserver.getInstance()instanceof a.Ch5CoreIntersectionObserver&&a.Ch5CoreIntersectionObserver.getInstance().unobserve(this),(0,r.unsubscribeState)("o","ch5.video.background",this._videoSubscriptionId),(0,r.unsubscribeState)("b","canvas.created",this._canvasSubscriptionId),this.unsubscribeFromSignals()}},{key:"attributeChangedCallback",value:function(e,t,n){var s=this;if(t!==n)switch(e){case"url":this.hasAttribute("url")?this.url=n:this.url="",this.createCanvas(),this.updateBackground(),null!==t&&(this._canvasSubscriptionId=(0,r.subscribeState)("b","canvas.created",function(e){e&&s.videoBGAction()}));break;case"backgroundcolor":this.hasAttribute("url")||this.hasAttribute("receivestateurl")||(this.hasAttribute("backgroundcolor")?this.backgroundColor=n:this.backgroundColor="",this.createCanvas(),this.updateBackground(),null!==t&&(this._canvasSubscriptionId=(0,r.subscribeState)("b","canvas.created",function(e){e&&s.videoBGAction()})));break;case"repeat":this.repeat=this.getAttribute("repeat");break;case"scale":this.hasAttribute("scale")?this.scale=n:this.scale=i.SCALE[0],this.updateBackground();break;case"refreshrate":this.hasAttribute("refreshrate")?this.refreshRate=Number(n):this.refreshRate=i.REFRESHRATE,this.updateBackground();break;case"videocrop":this.hasAttribute("videocrop")?this.videoCrop=n:this.videoCrop="";break;case"imgbackgroundcolor":this.hasAttribute("imgbackgroundcolor")?this.imgBackgroundColor=n:this.imgBackgroundColor=i.IMGBGCOLOR,this.updateBackground();break;case"transitioneffect":this.hasAttribute("transitioneffect")?this.transitionEffect=n:this.transitionEffect="ease",this.setBgTransition();break;case"transitionduration":this.hasAttribute("transitionduration")?this.transitionDuration=n:this.transitionDuration="",this.setBgTransition();break;case"receivestaterefreshrate":this.hasAttribute("receivestaterefreshrate")?this.receiveStateRefreshRate=n:this.receiveStateRefreshRate="";break;case"receivestateurl":this.hasAttribute("receivestateurl")?this.receiveStateUrl=n:this.receiveStateUrl="";break;case"receivestatebackgroundcolor":this.hasAttribute("url")||this.hasAttribute("receivestateurl")||(this.hasAttribute("receivestatebackgroundcolor")?this.receiveStateBackgroundColor=n:this.receiveStateBackgroundColor="");break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"unsubscribeFromSignals",value:function(){this.info("unsubscribeFromSignals()"),_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this);var e=r.Ch5SignalFactory.getInstance();if(""!==this._subReceiveRefreshRate&&""!==this._receiveStateRefreshRate){var t=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateRefreshRate),n=e.getStringSignal(t);null!==n&&(n.unsubscribe(this._subReceiveRefreshRate),this._receiveStateRefreshRate="")}if(""!==this._subReceiveUrl&&""!==this._receiveStateUrl){var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateUrl),a=e.getStringSignal(s);null!==a&&(a.unsubscribe(this._subReceiveUrl),this._receiveStateUrl="")}if(""!==this._subReceiveBackgroundColor&&""!==this._receiveStateBackgroundColor){var o=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateBackgroundColor),l=e.getStringSignal(o);null!==l&&(l.unsubscribe(this._subReceiveBackgroundColor),this._receiveStateBackgroundColor="")}this.info("unsubscribeFromSignals() end")}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("url")&&(this.url=this.getAttribute("url")),!this.hasAttribute("backgroundcolor")||this.hasAttribute("url")||this.hasAttribute("receivestateurl")||(this.backgroundColor=this.getAttribute("backgroundcolor")),this.repeat=this.getAttribute("repeat"),this.hasAttribute("scale")&&(this.scale=this.getAttribute("scale")),this.hasAttribute("refreshrate")&&(this.refreshRate=Number(this.getAttribute("refreshrate"))),this.hasAttribute("videocrop")&&(this.videoCrop=this.getAttribute("videocrop")),this.hasAttribute("imgbackgroundcolor")&&(this.imgBackgroundColor=this.getAttribute("imgbackgroundcolor")),this.hasAttribute("transitioneffect")&&(this.transitionEffect=this.getAttribute("transitioneffect")),this.hasAttribute("transitionduration")&&(this.transitionDuration=this.getAttribute("transitionduration")),this.hasAttribute("receivestaterefreshrate")&&(this.receiveStateRefreshRate=this.getAttribute("receivestaterefreshrate")),this.hasAttribute("receivestateurl")&&(this.receiveStateUrl=this.getAttribute("receivestateurl")),!this.hasAttribute("receivestatebackgroundcolor")||this.hasAttribute("url")||this.hasAttribute("receivestateurl")||(this.receiveStateBackgroundColor=this.getAttribute("receivestatebackgroundcolor"))}},{key:"updateBackground",value:function(){this._imgUrls.length?this.setBgImage():this._bgColors.length?this.setBgColor():this.info("Something went wrong. One attribute is mandatory - either URL or backgroundColor.")}},{key:"updateBackgroundForEachCanvas",value:function(e,t){this._imgUrls.length?this.setBgImageByCanvas(e,t):this._bgColors.length?this.setBgColorByCanvas(e,t):this.info("Something went wrong. One attribute is mandatory - either URL or backgroundColor.")}},{key:"getBackgroundUrl",value:function(e){this._imgUrls=e.split("|"),this._imgUrls=this._imgUrls.map(function(e){return e.trim()})}},{key:"getBackgroundColor",value:function(e){this._bgColors=e.split("|"),this._bgColors=this._bgColors.map(function(e){return e.trim()})}},{key:"scaleToFill",value:function(e,t,i){var n=Math.max(t.width/e.width,t.height/e.height),s=t.width/2-e.width/2*n,a=t.height/2-e.height/2*n;i.drawImage(e,s,a,e.width*n,e.height*n),(0,r.publishEvent)("b","canvas.created",!0)}},{key:"scaleToFit",value:function(e,t,i){var n=Math.min(t.width/e.width,t.height/e.height),s=t.width/2-e.width/2*n,a=t.height/2-e.height/2*n;i.drawImage(e,s,a,e.width*n,e.height*n),(0,r.publishEvent)("b","canvas.created",!0)}},{key:"scaleToStretch",value:function(e,t,i){i.drawImage(e,0,0,t.width,t.height),(0,r.publishEvent)("b","canvas.created",!0)}},{key:"updateBgImageScale",value:function(e,t,i){switch(this._scale){case"fill":this.scaleToFill(e,t,i);break;case"fit":this.scaleToFit(e,t,i);break;case"stretch":this.scaleToStretch(e,t,i);break;default:this.info("Scale value is wrong. it should be fill, fit or stretch(default)")}}},{key:"updateBgImageRepeat",value:function(e,t,i){switch(this._repeat){case"repeat":case"repeat-x":case"repeat-y":case"no-repeat":i.fillStyle=i.createPattern(e,this._repeat),i.fillRect(0,0,t.width,t.height),(0,r.publishEvent)("b","canvas.created",!0)}}},{key:"canvasTemplate",value:function(e){this.innerHTML="";for(var t=0;t<e;++t)this._elCanvas=document.createElement("canvas"),this._elCanvas.classList.add(this.primaryCssClass+this.canvasCssClassPrefix),this.appendChild(this._elCanvas),this.setCanvasDimensions(this._elCanvas),t===e-1&&(this._canvasList=this.querySelectorAll("canvas"));this.isCanvasCreated=!0}},{key:"manageVideoInfo",value:function(e){var t=this._videoDimensions.findIndex(function(t){return t.id===e.id});e.action===this.VIDEO_ACTION.STARTED||e.action===this.VIDEO_ACTION.RESIZE?t>-1?(this._videoDimensions[t]=e,this.refillBackground()):(this._videoDimensions.push(e),this.refillBackground()):e.action===this.VIDEO_ACTION.STOP&&t>=0&&(this._videoDimensions.splice(t,1),this.refillBackground())}},{key:"isScrollBar",value:function(e,t){var i=!!e[t="vertical"===t?"scrollTop":"scrollLeft"];return i||(e[t]=1,i=!!e[t],e[t]=0),i}},{key:"setCanvasDimensions",value:function(e){e.width=0,e.height=0,this.parentElement&&(e.width=this.isScrollBar(this.parentElement,"horizontal")?this.parentElement.scrollWidth:this.parentElement.clientWidth,e.height=this.isScrollBar(this.parentElement,"vertical")?this.parentElement.scrollHeight:this.parentElement.clientHeight)}},{key:"updateCanvasDimensions",value:function(){var e=this;this.isCanvasListValid()&&this._canvasList.forEach(function(t,i){var n=!0;if(e._prevCanvasList&&e._prevCanvasList.length>0){var s=t.width,r=t.height;e.parentElement&&(s=e.isScrollBar(e.parentElement,"horizontal")?e.parentElement.scrollWidth:e.parentElement.clientWidth,r=e.isScrollBar(e.parentElement,"vertical")?e.parentElement.scrollHeight:e.parentElement.clientHeight),e._prevCanvasList[i]&&e._prevCanvasList[i].width===s&&e._prevCanvasList[i].height===r?n=!1:0===s&&0===r&&(n=!1)}!0===n&&(t.width=0,t.height=0,e.parentElement&&(t.width=e.isScrollBar(e.parentElement,"horizontal")?e.parentElement.scrollWidth:e.parentElement.clientWidth,t.height=e.isScrollBar(e.parentElement,"vertical")?e.parentElement.scrollHeight:e.parentElement.clientHeight),e.updateBackgroundForEachCanvas(t,i),e._prevCanvasList.find(function(e){return e.id===i})?(e._prevCanvasList[i].width=t.width,e._prevCanvasList[i].height=t.height):e._prevCanvasList.push({id:i,width:t.width,height:t.height}))})}},{key:"createCanvas",value:function(){this._imgUrls.length?this.canvasTemplate(this._imgUrls.length):this._bgColors.length?this.canvasTemplate(this._bgColors.length):this.info("Something went wrong. One attribute is mandatory either URL or backgroundColor.")}},{key:"setBgTransition",value:function(){var e=this;setTimeout(function(){e.isCanvasListValid()&&e._canvasList.forEach(function(t){e._transitionEffect&&(t.style.transitionTimingFunction=e._transitionEffect),e._transitionDuration&&(t.style.transitionDuration=e._transitionDuration)})})}},{key:"setBgImage",value:function(){var e=this;this._canvasList&&this._canvasList.length&&this.isCanvasListValid()&&(this._canvasList.forEach(function(t,i){e.setBgImageByCanvas(t,i)}),this._elBackupImages=_toConsumableArray(this._elImages))}},{key:"setBgImageByCanvas",value:function(e,t){var i=this,n=e.getContext("2d");this._elImages[t]=new Image,this._elImages[t].src=this._imgUrls[t],this._elImages[t].onload=function(){i.updateBgImage(i._elImages[t],n),i._imgUrls.length===t+1&&i.changeBackground(i._imgUrls.length),i._elImages[t].onload=null},n.fillStyle=this._imgBackgroundColor,n.fillRect(0,0,e.width,e.height)}},{key:"setBgColor",value:function(){var e=this;this.isCanvasListValid()&&this._canvasList.forEach(function(t,i){e.setBgColorByCanvas(t,i)})}},{key:"setBgColorByCanvas",value:function(e,t){var i=e.getContext("2d");this.updateBgColor(this._bgColors[t],i),this._bgColors.length===t+1&&this.changeBackground(this._bgColors.length)}},{key:"updateBgColor",value:function(e,t){t.fillStyle=e,t.fillRect(0,0,this._elCanvas.width,this._elCanvas.height),(0,r.publishEvent)("b","canvas.created",!0)}},{key:"changeBackground",value:function(e){var t=this;if(clearInterval(this._interval),e>1){var i=!1;this._canvasList.forEach(function(e){e.classList&&e.classList.contains("ch5bg-fadein")&&(i=!0)}),!1===i&&this._canvasList[0].classList.add("ch5bg-fadein"),this._interval=setInterval(function(){t.isCanvasListValid()&&(t._canvasList.forEach(function(e){return e.classList.remove("ch5bg-fadein")}),t._canvasList[t._bgIdx].classList.add("ch5bg-fadein"),t._bgIdx++,t._bgIdx===e&&(t._bgIdx=0))},1e3*this._refreshRate)}else this._canvasList[0].classList.add("ch5bg-fadein")}},{key:"updateBgImage",value:function(e,t){u.default.isNil(this._repeat)?this.updateBgImageScale(e,this._elCanvas,t):this.updateBgImageRepeat(e,this._elCanvas,t)}},{key:"refillBackground",value:function(){var e=this;this.isCanvasListValid()&&(this._canvasList.forEach(function(t,i){var n=t.getContext("2d");switch(e._canvasList.length){case e._imgUrls.length:e._elImages=_toConsumableArray(e._elBackupImages),e.updateBgImage(e._elImages[i],n);break;case e._bgColors.length:e.updateBgColor(e._bgColors[i],n)}e._isRefilled=!0}),this.lastRefillTime=performance.now())}},{key:"videoBGAction",value:function(){var e=this;if((!this._elCanvas||0!==Object.keys(this._elCanvas).length||this._elCanvas.constructor!==Object)&&(this._videoCrop&&"string"==typeof this._videoCrop&&(this._videoRes=JSON.parse(this._videoCrop)),this._videoRes&&this._videoRes.action!==this.VIDEO_ACTION.REFILL)){var t=this._elCanvas.getBoundingClientRect().top,n=this._elCanvas.getBoundingClientRect().left;this._videoRes.left=this._videoRes.left-n,this._videoRes.top=this._videoRes.top-t,this._videoRes.left=Math.ceil(this._videoRes.left),this._videoRes.top=Math.ceil(this._videoRes.top),this.manageVideoInfo(this._videoRes),this._videoDimensions.length&&this._videoDimensions.map(function(t){e.info("\nvideoBGAction() -> Video Tag Id "+t.id+" is in Viewport: "+e.isInViewport(t.id)),e.isInViewport(t.id)&&e.isCanvasListValid()&&e._canvasList.forEach(function(n,s){var r=n.getContext("2d");if(t.action===e.VIDEO_ACTION.STARTED||t.action===e.VIDEO_ACTION.RESIZE)r.clearRect(t.left,t.top,t.width,t.height),e._isRefilled=!1;else if(t.action===e.VIDEO_ACTION.STOP||t.action===e.VIDEO_ACTION.MARK||t.action===e.VIDEO_ACTION.ERROR||t.action===e.VIDEO_ACTION.NOURL){r.fillStyle=i.IMGBGCOLOR,r.fillRect(t.left,t.top,t.width,t.height),r.beginPath();var a=Math.ceil(.04*t.height);r.lineWidth=a,r.moveTo(t.left,t.top+t.height-Math.ceil(a/2)),r.lineTo(t.width+t.left,t.top+t.height-Math.ceil(a/2)),r.strokeStyle=e.MARK_COLORS.get(t.action),r.setLineDash([]),t.action===e.VIDEO_ACTION.STOP&&r.setLineDash([Math.ceil(t.width/2),4,6,4]),r.stroke(),e._isRefilled=!1}else t.action===e.VIDEO_ACTION.SNAPSHOT&&e.videoSnapShot&&(r.drawImage(e.videoSnapShot,t.left,t.top,t.width,t.height),e._isRefilled=!1)})})}}},{key:"isCanvasListValid",value:function(){return!!this._canvasList&&null!=this._canvasList&&this._canvasList.length>0}}],[{key:"registerSignalAttributeTypes",value:function(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"observedAttributes",get:function(){return s.Ch5Common.observedAttributes.concat(["url","backgroundcolor","repeat","scale","refreshrate","videocrop","imgbackgroundcolor","transitioneffect","transitionduration","receivestaterefreshrate","receivestateurl","receivestatebackgroundcolor"])}}]),i}();t.Ch5Background=c,c.ELEMENT_NAME="ch5-background",c.SCALE=["stretch","fill","fit"],c.REPEAT=["no-repeat","repeat","repeat-x","repeat-y"],c.REFRESHRATE=600,c.IMGBGCOLOR="black",c.COMPONENT_DATA={SCALE:{default:c.SCALE[0],values:c.SCALE,key:"scale",classListPrefix:"ch5-background--"},REPEAT:{default:null,values:c.REPEAT,key:"repeat",classListPrefix:"ch5-background--"}},c.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestaterefreshrate:{direction:"state",numericJoin:1,contractName:!0},receivestateurl:{direction:"state",stringJoin:1,contractName:!0},receivestatebackgroundcolor:{direction:"state",stringJoin:1,contractName:!0}}),"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(c.ELEMENT_NAME,c),c.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(131),t)},function(e,t,i){"use strict";e.exports=function(e){return"object"==_typeof(e)&&!0===e.isAxiosError}},function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,i){"use strict";var n=i(45);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var i=this;e(function(e){i.reason||(i.reason=new n(e),t(i.reason))})}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s(function(t){e=t}),cancel:e}},e.exports=s},function(e){e.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}},function(e,t,i){"use strict";var n=i(136),s={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){s[e]=function(i){return _typeof(i)===e||"a"+(t<1?"n ":" ")+e}});var r={},a=n.version.split(".");function o(e,t){for(var i=t?t.split("."):a,n=e.split("."),s=0;s<3;s++){if(i[s]>n[s])return!0;if(i[s]<n[s])return!1}return!1}s.transitional=function(e,t,i){var s=t&&o(t);function a(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return function(i,n,o){if(!1===e)throw new Error(a(n," has been removed in "+t));return s&&!r[n]&&(r[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,n,o)}},e.exports={isOlderVersion:o,assertOptions:function(e,t,i){if("object"!=_typeof(e))throw new TypeError("options must be an object");for(var n=Object.keys(e),s=n.length;s-- >0;){var r=n[s],a=t[r];if(a){var o=e[r],l=void 0===o||a(o,r,e);if(!0!==l)throw new TypeError("option "+r+" must be "+l)}else if(!0!==i)throw Error("Unknown option "+r)}},validators:s}},function(e,t,i){"use strict";var n=i(6);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function s(e){var n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=s(window.location.href),function(t){var i=n.isString(t)?s(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},function(e,t,i){"use strict";var n=i(6),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,r,a={};return e?(n.forEach(e.split("\n"),function(e){if(r=e.indexOf(":"),t=n.trim(e.substr(0,r)).toLowerCase(),i=n.trim(e.substr(r+1)),t){if(a[t]&&s.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([i]):a[t]?a[t]+", "+i:i}}),a):a}},function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,i){"use strict";var n=i(141),s=i(140);e.exports=function(e,t){return e&&!n(t)?s(e,t):t}},function(e,t,i){"use strict";var n=i(6);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,i,s,r,a){var o=[];o.push(e+"="+encodeURIComponent(t)),n.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),n.isString(s)&&o.push("path="+s),n.isString(r)&&o.push("domain="+r),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,i){"use strict";var n=i(48);e.exports=function(e,t,i){var s=i.config.validateStatus;i.status&&s&&!s(i.status)?t(n("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},function(e,t,i){"use strict";var n=i(6);e.exports=function(e,t){n.forEach(e,function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])})}},function(e,t){var i,n,s=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(e){i=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=o(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new p(e,t)),1!==u.length||c||o(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,i){"use strict";var n=i(6),s=i(33);e.exports=function(e,t,i){var r=this||s;return n.forEach(i,function(i){e=i.call(r,e,t)}),e}},function(e,t,i){"use strict";var n=i(6),s=i(147),r=i(47),a=i(33);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=s.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return o(e),t.data=s.call(e,t.data,t.headers,e.transformResponse),t},function(t){return r(t)||(o(e),t&&t.response&&(t.response.data=s.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,i){"use strict";var n=i(6);function s(){this.handlers=[]}s.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=s},function(e,t,i){"use strict";var n=i(6),s=i(51),r=i(149),a=i(148),o=i(46),l=i(137),u=l.validators;function c(e){this.defaults=e,this.interceptors={request:new r,response:new r}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var i=[],n=!0;this.interceptors.request.forEach(function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,i.unshift(t.fulfilled,t.rejected))});var s,r=[];if(this.interceptors.response.forEach(function(e){r.push(e.fulfilled,e.rejected)}),!n){var c=[a,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(r),s=Promise.resolve(e);c.length;)s=s.then(c.shift(),c.shift());return s}for(var h=e;i.length;){var d=i.shift(),f=i.shift();try{h=d(h)}catch(e){f(e);break}}try{s=a(h)}catch(e){return Promise.reject(e)}for(;r.length;)s=s.then(r.shift(),r.shift());return s},c.prototype.getUri=function(e){return e=o(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,i){return this.request(o(i||{},{method:e,url:t,data:(i||{}).data}))}}),n.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,i,n){return this.request(o(n||{},{method:e,url:t,data:i}))}}),e.exports=c},function(e,t,i){"use strict";var n=i(6),s=i(52),r=i(150),a=i(46);function o(e){var t=new r(e),i=s(r.prototype.request,t);return n.extend(i,r.prototype,t),n.extend(i,t),i}var l=o(i(33));l.Axios=r,l.create=function(e){return o(a(l.defaults,e))},l.Cancel=i(45),l.CancelToken=i(135),l.isCancel=i(47),l.all=function(e){return Promise.all(e)},l.spread=i(134),l.isAxiosError=i(133),e.exports=l,e.exports.default=l},function(e,t,i){e.exports=i(151)},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(a,o)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RequestService=void 0;var r=i(53),a=s(i(152));t.RequestService=function(){function e(t){_classCallCheck(this,e),this._uri="",this._requestAPI={},this.uri=t,this._requestAPI=a.default}return _createClass(e,[{key:"post",value:function(e,t){return n(this,void 0,void 0,_regeneratorRuntime().mark(function i(){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this._requestAPI.post("".concat(this._uri,"/").concat(e),JSON.stringify(t),{headers:{"content-type":"application/json;charset=utf8"}});case 2:return i.t0=i.sent.status,i.abrupt("return",200===i.t0);case 4:case"end":return i.stop()}},i,this)}))}},{key:"get",value:function(e){try{return this._requestAPI.get("".concat(this._uri,"/").concat(e))}catch(e){return!1}}},{key:"uri",get:function(){return this._uri},set:function(e){if(!(0,r.uriSchemaValidation)(e))throw new Error("Invalid URI schema");this._uri=e}}]),e}()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(153),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteAppender=void 0;var n=i(54),s=i(154),r=i(18),a=i(34),o=function(e){_inherits(i,n.AbstractAppender);var t=_createSuper(i);function i(e,n){var s;return _classCallCheck(this,i),(s=t.call(this,e)).webSocket={},s._requestService={},s._address="",n.hostname&&n.port&&s.setIP(n),s}return _createClass(i,[{key:"closeSocketConnection",value:function(){this.webSocket&&this.webSocket.readyState&&1===this.webSocket.readyState&&this.webSocket.close()}},{key:"log",value:function(e){var t=this;this.sendLogTimeOffset.subscribe(function(){t._requestService.post(r.LogEndpointsEnum.log,e)})}},{key:"resetIP",value:function(e,t){var i={hostname:e,port:t,secure:arguments.length>2&&void 0!==arguments[2]&&arguments[2]};this.setIP(i)}},{key:"setIP",value:function(e){if(""!==e.hostname&&""!==e.port){var t="".concat(e.secure?"https":"http","://").concat(e.hostname,":").concat(e.port);this._address="".concat(e.hostname,":").concat(e.port),this.initialiseRequest(t)}}},{key:"configObserver",value:function(e,t){var i=this;if(e.subscribeDockerStatus.next("DOCKER_CONNECTING"),!t){var n=this._requestService.get("configuration");n&&n instanceof Promise&&n.then(function(t){var n=t.data;e.logFilter=new a.LogMessagesFilter(n.level,n.source,n.regularExpression),i.isInitialized=!0,i.isInitializedSubject.next(i.isInitialized),e.subscribeDockerStatus.next("DOCKER_CONNECTED")})}this.webSocket=new WebSocket("ws://".concat(this._address)),this.webSocket.onopen=function(){i.webSocket.onmessage=function(t){var i=JSON.parse(t.data).filter;e.logFilter=new a.LogMessagesFilter(i.level,i.source,i.regularExpression),e.subscribeDockerStatus.next("DOCKER_CONNECTED")}},this.webSocket.onclose=function(t){var n="";3001!==t.code&&1e3!==t.code||(n="DOCKER_DISCONNECTED",i.webSocket={},e.logFilter=new a.LogMessagesFilter,i.isInitialized=!1,i.isInitializedSubject.next(i.isInitialized),e.subscribeDockerStatus.next(n))},this.webSocket.onerror=function(t){e.subscribeDockerStatus.next("DOCKER_ERROR")}}},{key:"initialiseRequest",value:function(e){this._requestService=new s.RequestService(e)}}],[{key:"getInstance",value:function(e,t){return void 0===i._instance&&(i._instance=new i(e,t)),i._instance}}]),i}();t.RemoteAppender=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppenderFactory=void 0;var n=i(18),s=i(155);t.AppenderFactory=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getAppender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(e===n.AppendersEnum.remote)return s.RemoteAppender.getInstance(t,i);throw new Error("Appender type is invalid")}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRemoteAppender=void 0;var n=i(156),s=i(18);t.getRemoteAppender=function(e,t,i){var r={hostname:e,port:t,secure:i};return(new n.AppenderFactory).getAppender(s.AppendersEnum.remote,0,r)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=void 0;var n=i(55);t.getLogger=function(e,t,i){var s=n.Logger.getInstance(e,i);return e.configObserver(s,!!i),t&&(console.log=s.log,console.error=s.error,console.info=s.info,console.warn=s.warn),s}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(158),t),s(i(157),t),s(i(53),t)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var s=i(54),r=i(34),a=n(i(5)),o=i(56),l=i(15),u=function(){function e(t,i){var n=this;if(_classCallCheck(this,e),this._subscribeDockerStatus=new l.BehaviorSubject(""),this._appender={},this._logFilter=new o.LogMessagesFilter,this._messagesQueue=[],!(t instanceof s.AbstractAppender))throw Error("Appender is not defined");this.originalConsole={log:console.log,error:console.error,info:console.info,warn:console.warn},this.appender=t,this.addWindowErrorListener(),this.log=this.log.bind(this),this.info=this.info.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this),i&&(this.logFilter=i),this._appender.isInitializedSubject.subscribe(function(e){e&&n.checkAndAppendMessages()})}return _createClass(e,[{key:"disconnect",value:function(){console.log=this.originalConsole.log,console.error=this.originalConsole.error,console.info=this.originalConsole.info,console.warn=this.originalConsole.warn,this.appender.closeSocketConnection()}},{key:"subscribeDockerStatus",get:function(){return this._subscribeDockerStatus},set:function(e){this._subscribeDockerStatus=e}},{key:"logFilter",get:function(){return this._logFilter},set:function(e){(0,a.default)(e)?this._logFilter=new o.LogMessagesFilter:this._logFilter=new o.LogMessagesFilter(e.level,e.source,e.regularExpression)}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=this.formatMessage(0,t.join(" "));this.queueMessage(n)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=this.formatMessage(1,t.join(" "));this.queueMessage(n)}},{key:"warn",value:function(e){var t=this.formatMessage(2,e);this.queueMessage(t)}},{key:"error",value:function(e,t){var i=this.formatMessage(3,e);this.queueMessage(i)}},{key:"windowErrorListener",value:function(e){e instanceof ErrorEvent?this.error(e.message,e.lineno):e instanceof CustomEvent&&this.error(e.detail)}},{key:"restoreConsole",value:function(){console.log=this.originalConsole.log,console.error=this.originalConsole.error,console.info=this.originalConsole.info,console.warn=this.originalConsole.warn}},{key:"addWindowErrorListener",value:function(){var e=this;window.addEventListener("error",function(t){e.windowErrorListener(t)})}},{key:"appender",get:function(){return this._appender},set:function(e){e instanceof s.AbstractAppender&&(this._appender=e)}},{key:"formatMessage",value:function(e,t){var i=t.indexOf(":"),n=i>-1?t.slice(0,i):"",s={level:e,message:i>-1?t.slice(i):t,source:n};return new r.LogMessage(s,this.logFilter)}},{key:"checkAndAppendMessages",value:function(){for(;this._messagesQueue.length>0;){if(!this._appender.isInitialized)return;var e=this._messagesQueue.shift();e&&this.logFilter.applyFilter(e)&&this.appender.log(e)}}},{key:"queueMessage",value:function(e){this._messagesQueue.push(e),this.checkAndAppendMessages()}}],[{key:"getInstance",value:function(t,i){return void 0===e._instance&&(e._instance=new e(t,i)),e._instance}}]),e}();t.Logger=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogMessage=void 0;var n=i(18);t.LogMessage=function(){function e(t,i){_classCallCheck(this,e),this.date={},this.level=n.LogLevelEnum.info,this.message="",this.source="";var s=new Date;this.date=s,this.message=t.message,this.level=t.level,this.source=t.source}return _createClass(e,[{key:"getStringTime",value:function(){return"[".concat(this.date.getHours(),":").concat(this.date.getMinutes(),":").concat(this.date.getSeconds(),"]")}},{key:"toString",value:function(){return"[level ".concat(this.level,"][").concat(this.source,"] ").concat(this.getStringTime()," - ").concat(this.message)}}]),e}()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(34),t),s(i(55),t),s(i(159),t)},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function o(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?s(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(a,o)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ImportHtmlSnippet=void 0;var r=s(i(1)),a=s(i(5)),o=i(3),l=i(2),u=i(0),c=function(e){_inherits(i,o.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._elContainer={},e._url="",e._sigNameReceiveState="",e._subReceiveState="",e._sigNameSendOnError="",e.sigNameSendOnLoad="",e._sendEventOnShowSigName="",e._elContainer=document.createElement("div"),e.errorEvent=new CustomEvent("error",{bubbles:!0,cancelable:!1}),e._onError=e._onError.bind(_assertThisInitialized(e)),e}return _createClass(i,[{key:"url",get:function(){return this._url},set:function(e){this._url=e}},{key:"sendEventOnShow",get:function(){return this._sendEventOnShowSigName},set:function(e){this.info("set sendEventOnShow('"+e+"')"),""!==e&&this._sendEventOnShowSigName!==e&&(this._sendEventOnShowSigName=e,this.setAttribute("sendeventonshow",e))}},{key:"attributeChangedCallback",value:function(e,t,n){switch(e){case"url":this.hasAttribute("url")&&!r.default.isNil(this.getAttribute("url"))&&""!==this.getAttribute("url")&&this.url!==n?(this.url=n,this.loadHTMLContent(this.url)):this.url="";break;case"sendeventonshow":this.hasAttribute("sendeventonshow")?this.sendEventOnShow=n:this.sendEventOnShow="";break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this);var e=u.Ch5SignalFactory.getInstance();if(!(0,a.default)(this._subReceiveState)&&!(0,a.default)(this._sigNameReceiveState)){var t=e.getStringSignal(this._sigNameReceiveState);t&&(t.unsubscribe(this._subReceiveState),this._sigNameReceiveState="")}}},{key:"connectedCallback",value:function(){var e=this;this.info("Ch5ImportHTMLSnippet.connectedCallback()"),this.initAttributes(),customElements.whenDefined("ch5-import-htmlsnippet").then(function(){e.cacheComponentChildrens(),e.firstChild!==e._elContainer&&e.appendChild(e._elContainer),e._sendSignalValueOnShow(),e.info("ch5-import-htmlsnippet connectedCallback() - end")})}},{key:"disconnectedCallback",value:function(){this.info("Ch5ImportHTMLSnippet.disconnectedCallback()"),this.unsubscribeFromSignals()}},{key:"sendValueOnLoadSignal",value:function(e){var t=null;(0,a.default)(this.sigNameSendOnLoad)||(t=u.Ch5SignalFactory.getInstance().getBooleanSignal(this.sigNameSendOnLoad))&&t.publish(e)}},{key:"onLoadAction",value:function(e){this.sigNameSendOnLoad=e;var t=null;(0,a.default)(this.sigNameSendOnLoad)||(t=u.Ch5SignalFactory.getInstance().getBooleanSignal(this.sigNameSendOnLoad))&&(t.publish(!0),t.publish(!1)),this.sendValueOnLoadSignal(!1)}},{key:"loadHTMLContent",value:function(e){return n(this,void 0,void 0,_regeneratorRuntime().mark(function t(){var i;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.asyncLoadContent(e);case 3:i=t.sent,this._elContainer.innerHTML=i,(0,u.publishEvent)("object","ch5-import-htmlsnippet:".concat(this.id),{loaded:!0,url:e,id:this.id}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this.info("ch5-import-htmlsnippet failed to load the URL: ".concat(e,", ").concat(t.t0));case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"asyncLoadContent",value:function(e){return new Promise(function(t,i){var n=new XMLHttpRequest;n.open("GET",e),n.onload=function(){n.status<300&&null!==n.response&&(""===n.responseType||"text"===n.responseType)?t(n.responseText):i("load failed with status ".concat(n.status,", statusText ").concat(n.statusText,", responseType ").concat(n.responseType))},n.onerror=function(){i("There was a network error.")},n.send()})}},{key:"_sendSignalValueOnShow",value:function(){this.info("Ch5ImportHTMLSnippet._sendSignalValueOnShow()");var e=null;""!==this._sendEventOnShowSigName&&void 0!==this._sendEventOnShowSigName&&null!==this._sendEventOnShowSigName&&null!==(e=u.Ch5SignalFactory.getInstance().getBooleanSignal(this._sendEventOnShowSigName))&&(e.publish(!0),e.publish(!1))}},{key:"_onError",value:function(e){this.dispatchEvent(this.errorEvent);var t="Error loading URL: ".concat(this._url);this._sendValueForErrorSignal(t)}},{key:"_sendValueForErrorSignal",value:function(e){var t=null;(0,a.default)(this._sigNameSendOnError)||(t=u.Ch5SignalFactory.getInstance().getStringSignal(this._sigNameSendOnError))&&t.publish(e)}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("url")&&(this._url=this.getAttribute("url"))}}],[{key:"registerSignalAttributeTypes",value:function(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"observedAttributes",get:function(){return o.Ch5Common.observedAttributes.concat(["url"])}}]),i}();t.Ch5ImportHtmlSnippet=c,c.ELEMENT_NAME="ch5-import-htmlsnippet",c.SIGNAL_ATTRIBUTE_TYPES=Object.assign({},o.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(c.ELEMENT_NAME,c),c.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(163),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5TemplateStructure=void 0;var n=i(1),s=i(20),r=function(){function e(t){_classCallCheck(this,e),this._element={},this._templateElement={},this._wrapperDiv={},this._instanceId=null,this._elementIds=null,this.element=t,this.templateElement=document.querySelector("template")}return _createClass(e,[{key:"element",get:function(){return this._element},set:function(e){(0,n.isNil)(e)||(this._element=e)}},{key:"templateElement",get:function(){return this._templateElement},set:function(e){(0,n.isNil)(e)||(this._templateElement=e)}},{key:"instanceId",get:function(){return this._instanceId}},{key:"elementIds",get:function(){return this._elementIds}},{key:"initializeWrapperDiv",value:function(){this._wrapperDiv=document.createElement("DIV"),this._wrapperDiv.classList.add("ch5-template-content-wrapper")}},{key:"getTemplateContent",value:function(e){var t;if(this.initializeWrapperDiv(),(0,n.isNil)(this.templateElement.firstElementChild)){if((0,n.isNil)(this.templateElement.content.firstElementChild))throw new Error('[ch5-template] Error: The provided template with the id: "'.concat(e,'" has no content'));if(!this.templateElement.content.children[0].classList.contains("ch5-template-content-wrapper")){for(;this.templateElement.content.children.length>0;)this._wrapperDiv.appendChild(this.templateElement.content.children[0]);this.templateElement.content.appendChild(this._wrapperDiv)}t=this.templateElement.content.firstElementChild.cloneNode(!0)}else{if(!this.templateElement.children[0].classList.contains("ch5-template-content-wrapper")){for(;this.templateElement.children.length>0;)this._wrapperDiv.appendChild(this.templateElement.children[0]);this.templateElement.appendChild(this._wrapperDiv)}t=this.templateElement.firstElementChild.cloneNode(!0)}return t}},{key:"generateTemplate",value:function(t,i){if(this.element.info("Ch5TemplateStructure.generateTemplate(templateId: ".concat(t,", context: ").concat(i,")")),(0,n.isEmpty)(t))throw new Error("[ch5-template] Error: No templateId was provided");var r=document.getElementById(t),a=null;if((0,n.isNil)(r))throw new Error('[ch5-template] Error: No template with the id: "'.concat(t,'" found'));this.templateElement=r,this.element.info("Ch5TemplateStructure --- the following template will be used:",this.templateElement);var o=[];(0,n.isEmpty)(i)?this.element.info("Context attribute is empty, nothing will be renamed"):(o=i.split(";"),this.element.info("Parsed context attribute: ".concat(o)));var l=this.getTemplateContent(t);if(!(0,n.isNil)(l))try{if(this.element.info("Ch5TemplateStructure.generateTemplate() --- Copying attributes"),!(0,n.isNil)(l)){var u=l.innerHTML;this.element.info("Original template inner HTML before rename: ",u);for(var c=0;c<o.length;c++){var h=o[c].split(":");if(this.element.info("Processing original:replacement pair: ".concat(h)),2!==h.length||(0,n.isEmpty)(h[0])||(0,n.isEmpty)(h[1]))console.warn('[ch5-template] Warning: Invalid context pair structure, expected: "original:replacement", but received "'.concat(h,'", moving to the next context pair'));else{h[0]=h[0].trim(),this.element.info("Ch5TemplateStructure --- Count: [".concat(c+1,"/").concat(h.length,"] \n                    Replace original string: ").concat(h[0]," \n                    with provided replacement string: ").concat(h[1]));var d=new RegExp(h[0],"g");u=u.replace(d,h[1])}}l.innerHTML=u,s.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(l,this.element.contractName,parseInt(this.element.booleanJoinOffset,10)||0,parseInt(this.element.numericJoinOffset,10)||0,parseInt(this.element.stringJoinOffset,10)||0),this.element.isDebug()&&this.element.info("After substitution and increment/prefix:",l.innerHTML)}!(0,n.isNil)(this.element.children)&&this.element.children.length>0&&(this.element.info("Ch5TemplateStructure --- Removing children of: ",this.element),Array.from(this.element.children).forEach(function(e){return e.remove()})),(0,n.isNil)(this.element)||(a=this.element.appendChild(l))}catch(t){throw new Error("[ch5-template] Error: Failed to generate content: ".concat(t))}finally{if(null!==a&&a.children){var f=e.nextInstanceNum(t);this._instanceId="".concat(t,":").concat(f),a.id=this._instanceId,this._elementIds=[];for(var p=0;p<a.children.length;p++)a.children[p].id||(a.children[p].id="".concat(this._instanceId,":").concat(p)),this._elementIds.push(a.children[p].id);this.element.info("Ch5TemplateStructure --- [FINAL] Adding content to ChTemplate: ".concat(this._instanceId),a),this.element=a}}}}],[{key:"nextInstanceNum",value:function(t){var i=e._numInstances[t],n=void 0===i?1:i+1;return e._numInstances[t]=n,n}}]),e}();t.Ch5TemplateStructure=r,r._numInstances={}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Template=void 0;var n=i(3),s=i(2),r=i(165),a=i(0),o=i(57),l=function(e){_inherits(i,n.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.apply(this,arguments))._templateId="",e._context="",e._contractName="",e._booleanJoinOffset="",e._numericJoinOffset="",e._stringJoinOffset="",e._templateHelper={},e._refreshSubId=null,e}return _createClass(i,[{key:"templateId",get:function(){return this._templateId},set:function(e){this._templateId!==e&&(this._templateId=e,this.setAttribute("templateid",e.toString()))}},{key:"context",get:function(){return this._context},set:function(e){this._context!==e&&(this._context=e,this.setAttribute("context",e.toString()))}},{key:"contractName",get:function(){return this._contractName},set:function(e){this._contractName!==e&&(this._contractName=e,this.setAttribute("contractname",e))}},{key:"booleanJoinOffset",get:function(){return this._booleanJoinOffset},set:function(e){this._booleanJoinOffset!==e&&(this._booleanJoinOffset=e,this.setAttribute("booleanjoinoffset",e))}},{key:"numericJoinOffset",get:function(){return this._numericJoinOffset},set:function(e){this._numericJoinOffset!==e&&(this._numericJoinOffset=e,this.setAttribute("numericjoinoffset",e))}},{key:"stringJoinOffset",get:function(){return this._stringJoinOffset},set:function(e){this._stringJoinOffset!==e&&(this._stringJoinOffset=e,this.setAttribute("stringjoinoffset",e))}},{key:"connectedCallback",value:function(){var e=this;this.info("Ch5Template.connectedCallback()"),Promise.all([customElements.whenDefined("ch5-template")]).then(function(){e.initializations(),e.info("Ch5Template --- Callback loaded"),e._templateHelper&&e._templateHelper.instanceId&&(0,a.publishEvent)("object","ch5-template:".concat(e._templateId),{loaded:!0,id:e._templateHelper.instanceId,elementIds:e._templateHelper.elementIds})}),this.listenForCh5TemplateRefreshRequests()}},{key:"listenForCh5TemplateRefreshRequests",value:function(){var e=this;this.info("Ch5Template.listenForCh5TemplateRefreshRequests()"),this._refreshSubId=o.ch5TemplateSubject.subscribe(function(t){e.info("Ch5Template.listenForCh5TemplateRefreshRequests() new request for ".concat(t)),e.shouldRefresh(t)&&e.initializations(!0)})}},{key:"shouldRefresh",value:function(e){return this.info("Ch5Template.shouldRefresh() got called for id ".concat(e)),this.getAttribute("templateId")===e}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.info("Ch5Template.initAttributes()"),this.hasAttribute("templateid")&&(this.templateId=this.getAttribute("templateid")),this.hasAttribute("context")&&(this.context=this.getAttribute("context"))}},{key:"initializations",value:function(e){this.info("Ch5Template.initializations(".concat(!0===e,")")),!0!==e&&this._templateHelper&&this._templateHelper.instanceId||(this.classList.add(i.CH5_TEMPLATE_STYLE_CLASS),this.initAttributes(),this._templateHelper=new r.Ch5TemplateStructure(this),this._templateHelper.generateTemplate(this.templateId,this.context),this.info("Ch5Template --- Initialization Finished"))}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(this.info('Ch5Template.attributeChangedCallback("'.concat(e,'", "').concat(t,'", "').concat(n,'")')),e){case"templateId":this.templateId=this.getAttribute("templateId");break;case"context":this.context=this.getAttribute("context");break;case"contractname":this.contractName=this.getAttribute("contractname");break;case"booleanjoinoffset":this.booleanJoinOffset=this.getAttribute("booleanjoinoffset");break;case"numericjoinoffset":this.numericJoinOffset=this.getAttribute("numericjoinoffset");break;case"stringjoinoffset":this.stringJoinOffset=this.getAttribute("stringjoinoffset");break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"disconnectedCallback",value:function(){this.info("Ch5Template.disconnectedCallback()"),this._templateHelper&&this._templateHelper.instanceId&&(0,a.publishEvent)("object","ch5-template:".concat(this.templateId),{loaded:!1,id:this._templateHelper.instanceId}),null!==this._refreshSubId&&(this._refreshSubId.unsubscribe(),this._refreshSubId=null)}}],[{key:"registerSignalAttributeTypes",value:function(){s.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"registerSignalAttributeDefaults",value:function(){s.Ch5SignalAttributeRegistry.instance.addElementDefaultAttributeEntries(i.ELEMENT_NAME,{contractName:{attributes:["contractname"],defaultValue:""},booleanJoin:{attributes:["booleanjoinoffset"],defaultValue:"0"},numericJoin:{attributes:["numericjoinoffset"],defaultValue:"0"},stringJoin:{attributes:["stringjoinoffset"],defaultValue:"0"}})}},{key:"registerCustomElement",value:function(){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&void 0===window.customElements.get(i.ELEMENT_NAME)&&window.customElements.define(i.ELEMENT_NAME,i)}},{key:"observedAttributes",get:function(){var e=n.Ch5Common.observedAttributes;return["templateid","context","contractname","booleanjoinoffset","numericjoinoffset","stringjoinoffset"].concat(e)}}]),i}();t.Ch5Template=l,l.CH5_TEMPLATE_STYLE_CLASS="ch5-template",l.ELEMENT_NAME="ch5-template",l.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),l.registerCustomElement(),l.registerSignalAttributeTypes(),l.registerSignalAttributeDefaults()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.refreshCh5Template=void 0,s(i(166),t);var r=i(57);Object.defineProperty(t,"refreshCh5Template",{enumerable:!0,get:function(){return r.refreshCh5Template}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5TouchActivity=t.Ch5TouchActivitySignals=void 0;var n,s=i(1),r=i(0);!function(e){e.CsigTime="Csig.Time",e.CsigResetActivityTimer="Csig.Reset_Activity_Timer",e.CsigTouchActivity="Csig.Touch_Activity"}(n=t.Ch5TouchActivitySignals||(t.Ch5TouchActivitySignals={}));var a=function(){function e(t,i){_classCallCheck(this,e),this._ch5TimeSignal=null,this._ch5ResetActivityTimerSignal=null,this._supportsTouchActivity=!0,this._touchInactivityPeriod=0,this._touchActivityTimeoutId=0,this._ch5SignalFactory=t,this._ch5Platform=i,this._onTouchStart=this._onTouchStart.bind(this),document.addEventListener("touchstart",this._onTouchStart),this._onTouchMove=this._onTouchMove.bind(this),document.addEventListener("touchmove",this._onTouchMove),this._onTouchEnd=this._onTouchEnd.bind(this),document.addEventListener("touchend",this._onTouchEnd),this._onTouchCancel=this._onTouchCancel.bind(this),document.addEventListener("touchcancel",this._onTouchCancel)}return _createClass(e,[{key:"init",value:function(){var e=this;this.setSupportsTouchActivity(this._ch5Platform.getPlatformInfo()),this._ch5Platform.registerUpdateCallback(function(t){if(e.setSupportsTouchActivity(t),e._supportsTouchActivity)r.Ch5Debug.info("Ch5TouchActivity","Touch activity is supported");else{var i=n,s=i.CsigTime,a=i.CsigResetActivityTimer;r.Ch5Debug.info("Ch5TouchActivity","No support for touch activity, subscribing to ".concat(s," and ").concat(a)),e.subscribeToTimeSignal(),e.subscribeToResetActivityTimerSignal()}})}},{key:"setSupportsTouchActivity",value:function(e){this._supportsTouchActivity=!(0,s.isNil)(e.capabilities)&&e.capabilities.supportsTouchActivity}},{key:"subscribeToTimeSignal",value:function(){var e=this;this._ch5TimeSignal=this._ch5SignalFactory.getNumberSignal(n.CsigTime,!0),(0,s.isNil)(this._ch5TimeSignal)||this._ch5TimeSignal.subscribe(function(t){r.Ch5Debug.info("Ch5TouchActivity","CSIG_TIME: ".concat(t)),e._touchInactivityPeriod=t,e.clearTouchInactivityTimeout(),e.setTouchInactivityTimeout()})}},{key:"subscribeToResetActivityTimerSignal",value:function(){var e=this;this._ch5ResetActivityTimerSignal=this._ch5SignalFactory.getBooleanSignal(n.CsigResetActivityTimer,!0),(0,s.isNil)(this._ch5ResetActivityTimerSignal)||this._ch5ResetActivityTimerSignal.subscribe(function(t){r.Ch5Debug.info("Ch5TouchActivity","CSIG_RESET_ACTIVITY_TIMER: ".concat(t)),t&&(e.clearTouchInactivityTimeout(),e.publishTouchActivityEvent(!1),e.setTouchInactivityTimeout())})}},{key:"_onTouchStart",value:function(e){r.Ch5Debug.info("Ch5TouchActivity","_onTouchStart(".concat(e.type,")")),this.clearTouchInactivityTimeout(),this.publishTouchActivity()}},{key:"_onTouchMove",value:function(e){r.Ch5Debug.info("Ch5TouchActivity","_onTouchMove(".concat(e.type,")")),this.clearTouchInactivityTimeout(),this.publishTouchActivity()}},{key:"_onTouchEnd",value:function(e){r.Ch5Debug.info("Ch5TouchActivity","_onTouchEnd(".concat(e.type,")")),this.clearTouchInactivityTimeout(),this.setTouchInactivityTimeout(),this.publishTouchActivity()}},{key:"_onTouchCancel",value:function(e){r.Ch5Debug.info("Ch5TouchActivity","_onTouchCancel(".concat(e.type,")")),this.clearTouchInactivityTimeout(),this.setTouchInactivityTimeout(),this.publishTouchActivity()}},{key:"publishTouchActivity",value:function(){this._touchInactivityPeriod<=0||(r.Ch5Debug.info("Ch5TouchActivity","Publish touch activity with true"),this.publishTouchActivityEvent(!0))}},{key:"setTouchInactivityTimeout",value:function(){var e=this;this._touchInactivityPeriod<=0||(r.Ch5Debug.info("Ch5TouchActivity","Publish touch activity with false after ".concat(this._touchInactivityPeriod,"s")),this._touchActivityTimeoutId=window.setTimeout(function(){e.clearTouchInactivityTimeout(),e.publishTouchActivityEvent(!1)},1e3*this._touchInactivityPeriod))}},{key:"clearTouchInactivityTimeout",value:function(){(0,s.isNil)(this._touchActivityTimeoutId)||window.clearTimeout(this._touchActivityTimeoutId)}},{key:"publishTouchActivityEvent",value:function(e){r.Ch5Debug.info("Ch5TouchActivity","CSIG_TOUCH_ACTIVITY: ".concat(e)),(0,r.publishEvent)("boolean",n.CsigTouchActivity,e)}}],[{key:"getInstance",value:function(t,i){return(0,s.isNil)(this._instance)&&((0,s.isNil)(i)&&(i=r.Ch5Platform.getInstance()),(0,s.isNil)(t)&&(t=r.Ch5SignalFactory.getInstance()),this._instance=new e(t,i)),this._instance}}]),e}();t.Ch5TouchActivity=a,a.getInstance().init()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(168),t)},function(e,t){e.exports=function(e){return null===e}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5SpinnerEvents=void 0;var s=n(i(82)),r=n(i(5)),a=n(i(170)),o=i(0),l=n(i(14));t.Ch5SpinnerEvents=function(){function e(t){_classCallCheck(this,e),this._element={},this.element=t}return _createClass(e,[{key:"element",get:function(){return this._element},set:function(e){null!=e&&(this._element=e)}},{key:"dispatchFocus",value:function(){var e=this.element.sendEventOnFocus;if(""!==e&&null!=e){var t=o.Ch5SignalFactory.getInstance().getBooleanSignal(this.element.sendEventOnFocus);null!==t&&t.publish(!0)}this.dispatch("focus")}},{key:"dispatchBlur",value:function(){var e=this.element.sendEventOnFocus;if(!(0,s.default)(e)&&!(0,r.default)(e)){var t=o.Ch5SignalFactory.getInstance().getBooleanSignal(e);(0,a.default)(t)||t.publish(!1)}this.dispatch("blur")}},{key:"dispatchChange",value:function(e){var t=this.element.sendEventOnChange;if("direct"===this.element.feedbackMode&&""!==t&&null!=t){var i=o.Ch5SignalFactory.getInstance().getNumberSignal(this.element.sendEventOnChange);null!==i&&i.publish(parseFloat(e))}this.dispatch("change",e)}},{key:"dispatchDirty",value:function(e){var t=this.dispatch("dirty",e,!1);this.element.ondirty instanceof l.default?this.element.ondirty.run(t):this.element.ondirty instanceof Function&&this.element.ondirty.call(this.element,t)}},{key:"dispatchClean",value:function(){var e=this.dispatch("clean");this.element.onclean instanceof l.default?this.element.onclean.run(e):this.element.onclean instanceof Function&&this.element.onclean.call(this.element,e)}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.createEvent(e,t,i);return this.element.dispatchEvent(n),n}},{key:"createEvent",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new CustomEvent(e,{detail:{data:t},bubbles:!0,cancelable:i})}},{key:"dispatchMouseUp",value:function(){this.dispatch("mouseup")}},{key:"dispatchTouchEnd",value:function(){this.dispatch("touchend")}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5MouseVelocity=void 0;var n=function(){function e(t){_classCallCheck(this,e),this.start={x:0,y:0,time:new Date},this.end={x:0,y:0,time:new Date},this.step=t}return _createClass(e,[{key:"x1",get:function(){return this.start.x}},{key:"y1",get:function(){return this.start.y}},{key:"x2",get:function(){return this.end.x}},{key:"y2",get:function(){return this.end.y}},{key:"timeStart",get:function(){return this.start.time.getTime()}},{key:"timeEnd",get:function(){return this.end.time.getTime()}},{key:"timeDiff",get:function(){return this.timeEnd-this.timeStart}},{key:"getYSteps",value:function(){return Math.floor(e.calculateVelocity(this.y1,this.y2,this.step,this.timeDiff))}}],[{key:"calculateVelocity",value:function(e,t,i,n){return Math.abs(e-t)/n/i}}]),e}();t.Ch5MouseVelocity=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5SpinnerScroll=void 0;var n=i(0),s=i(172),r=i(58);t.Ch5SpinnerScroll=function(){function t(e){_classCallCheck(this,t),this.element={},this.mouseDown=!1,this.initialMousePos=0,this.currentYOffset=0,this.direction="",this.dragTimeout=0,this.readyToFocus=!0,this._currentElement=0,this._mouseDownListener={},this._mouseUpListener={},this._mouseMoveListener={},this._touchstartListener={},this._toucheendUpListener={},this._touchmoveListener={},this._mouseLeaveListener={},this._touchendLeaveListener={},this.mouseVelocity={},this._runTimeout=0,this.element=e,this.attachEventListeners();var i=this.element.selectedValue;this.selectTheItem(i)}return _createClass(t,[{key:"destruct",value:function(){this.detachEventListeners()}},{key:"currentElement",get:function(){var e=this.element.templateHelper.childrenObject;return this._currentElement<=0&&!this.element.endless?0:null!==e&&!this.element.endless&&this._currentElement>=e.length-1?e.length-1:null!==e&&this.element.endless&&e.length<this._currentElement?this._currentElement%e.length:this._currentElement},set:function(e){this._currentElement=e}},{key:"getCleanCurrentElement",value:function(){try{var t=this.element.templateHelper.childrenObject;return null!==t&&this.currentElement>=0&&this.currentElement<=t.length-1?parseFloat(t[this.currentElement].getAttribute("data-initial-index")+""):0}catch(e){return console.log(e),0}}},{key:"getCleanCurrentElementIndex",value:function(){return this.getCleanCurrentElement()}},{key:"selectTheItem",value:function(e){if(!1===isNaN(e)){var t=this.element.getItemHeightValue(),i=this.element.getHighlightOffsetValue();this.direction="",this.currentElement=e,this.currentYOffset=i-this.getCleanCurrentElementIndex()*t,this.moveTheList()}}},{key:"attachEventListeners",value:function(){try{this.element.templateHelper instanceof r.Ch5SpinnerTemplate&&this.element.templateHelper.wrapperElement instanceof HTMLElement&&(this._mouseDownListener=this._onMouseDown.bind(this),this._mouseUpListener=this._onMouseUp.bind(this),this._mouseMoveListener=this._onMouseMove.bind(this),this._touchstartListener=this._onMouseDown.bind(this),this._toucheendUpListener=this._onMouseUp.bind(this),this._touchmoveListener=this._onMouseMove.bind(this),this._mouseLeaveListener=this._onMouseLeave.bind(this),this._touchendLeaveListener=this._onMouseLeave.bind(this),this.element.templateHelper.wrapperElement.addEventListener("mousedown",this._mouseDownListener,{passive:!0}),this.element.addEventListener("mouseup",this._mouseUpListener),this.element.addEventListener("mousemove",this._mouseMoveListener),this.element.templateHelper.wrapperElement.addEventListener("touchstart",this._touchstartListener,{passive:!0}),this.element.addEventListener("touchend",this._toucheendUpListener),this.element.addEventListener("touchmove",this._touchmoveListener,{passive:!0}),this.element.addEventListener("mouseleave",this._mouseLeaveListener),this.element.addEventListener("touchend",this._touchendLeaveListener))}catch(e){console.log("Adding listeners have problems",e)}}},{key:"detachEventListeners",value:function(){try{this.element.templateHelper instanceof r.Ch5SpinnerTemplate&&this.element.templateHelper.wrapperElement instanceof HTMLElement&&(this.element.templateHelper.wrapperElement.removeEventListener("mousedown",this._mouseDownListener),this.element.removeEventListener("mouseup",this._mouseUpListener),this.element.removeEventListener("mousemove",this._mouseMoveListener),this.element.templateHelper.wrapperElement.removeEventListener("touchstart",this._touchstartListener),this.element.removeEventListener("touchend",this._toucheendUpListener),this.element.removeEventListener("touchmove",this._touchmoveListener),this.element.removeEventListener("mouseleave",this._mouseLeaveListener),this.element.removeEventListener("touchend",this._touchendLeaveListener))}catch(e){console.log("Removing listeners have problems",e)}}},{key:"moveTheList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;0===e&&(e=1),"up"===this.direction?(this.currentYOffset+=this.element.getItemHeightValue()*e,this.currentElement--,this.currentElement-=e-1):"down"===this.direction&&(this.currentYOffset-=this.element.getItemHeightValue()*e,this.currentElement++,this.currentElement+=e-1);var t=this.currentYOffset+this.element.getItemHeightMeasurementUnit();this.element.templateHelper.scrollableArea instanceof HTMLElement&&(this.element.templateHelper.scrollableArea.style.transition="all .1s ease",this.element.templateHelper.scrollableArea.style.transform="translate3d(0,"+t+",0)"),this.toggleActiveItem()}},{key:"detectDirection",value:function(e){return this.initialMousePos<e?this.direction="up":this.direction="down",this.direction}},{key:"_onMouseDown",value:function(e){var t=this;e.stopPropagation(),this.initialMousePos=this.getMousePosition(e).y;var i=this.element.visibleItemScroll,n=this.element.size;this.mouseVelocity.constructor!==s.Ch5MouseVelocity&&(this.mouseVelocity=new s.Ch5MouseVelocity(i/n)),this.mouseVelocity.start={x:this.getMousePosition(e).y,y:this.getMousePosition(e).y,time:new Date},!0===this.readyToFocus&&(this.element.eventsHelper.dispatchFocus(),this.readyToFocus=!1),this.dragTimeout=window.setTimeout(function(){t.mouseDown=!0,t.handleCursor("drag"),t.element.templateHelper.toggleOverlay(!0)},50)}},{key:"sendEventOnOverflow",value:function(){var e=this.element.sendEventOnOverflow;if(""!==e&&null!=e){var t=n.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==t&&(t.publish(!0),t.publish(!1))}}},{key:"sendEventOnUnderflow",value:function(){var e=this.element.sendEventOnUnderflow;if(""!==e&&null!=e){var t=n.Ch5SignalFactory.getInstance().getBooleanSignal(e);null!==t&&(t.publish(!0),t.publish(!1))}}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,this.handleCursor(),this.element.templateHelper.toggleOverlay(!1),window.clearTimeout(this.dragTimeout),this.element.dirtyTimeHandler(),this.mouseVelocity.end={x:e.pageX,y:e.pageY,time:new Date},this.element.eventsHelper.dispatchBlur(),this.readyToFocus=!0,this.getCleanCurrentElementIndex()!==this.element.cleanItem&&(!1===this.element.dirtyFlag&&(this.element.eventsHelper.dispatchDirty(this.getCleanCurrentElement()+""),this.element.dirtyFlag=!0),this.element.eventsHelper.dispatchChange(this.getCleanCurrentElement()+"")),"direct"===this.element.feedbackMode&&(this.element.cleanItem=this.element.selectedValueIndex)}},{key:"_onMouseMove",value:function(e){for(var t=this,i=this.getMousePosition(e).y,n=0,s=0,r=this.element;r&&!isNaN(r.offsetLeft)&&!isNaN(r.offsetTop);)n+=r.offsetLeft-r.scrollLeft+r.clientLeft,s+=r.offsetTop-r.scrollTop+r.clientTop,r=r.offsetParent;var a=null,o=null,l=n,u=n+this.element.clientWidth,c=s,h=s+this.element.clientHeight;if("touchmove"===e.type){var d=e.touches[0]||e.changedTouches[0];a=d.clientX,o=d.clientY}else a=e.clientX,o=e.clientY;if(a<l||a>u||o<c||o>h)!0===this.mouseDown&&"touchmove"===e.type&&(this.mouseDown=!1,this.moveTheList(),this.element.eventsHelper.dispatchTouchEnd());else if(!0===this.mouseDown&&Math.abs(this.initialMousePos-i)>=.3*this.element.selectedItem.getBoundingClientRect().height){this.detectDirection(i);var f=this.element.size,p=this.element.getHighlightOffsetValue(),v=this.element.getItemHeightValue(),g=this.element.templateHelper.childrenObject,b=this.element.endless,m=1,_=Number(this.element.visibleItemScroll)<=Number(f)?this.element.visibleItemScroll:f;_<Number(this.element.visibleItemScroll)&&this.element.endless&&(_=this.element.visibleItemScroll);var S=(Math.ceil(_/2)-1)*v,y=-(g.length*v-(S+v));this.mouseVelocity.end={x:this.getMousePosition(e).x,y:this.getMousePosition(e).y,time:new Date},!0===b&&this._isBoundary(this.currentYOffset,S,y)&&null!==g&&("down"===this.direction?(this.currentElement=-1,this._forceMovingTheSpinner(p+v),window.clearTimeout(this._runTimeout),this._runTimeout=0,this.sendEventOnOverflow()):"up"===this.direction&&(this.currentElement=g.length,this._forceMovingTheSpinner(y-v),this.sendEventOnUnderflow())),0===this._runTimeout&&(this._runTimeout=window.setTimeout(function(){t.mouseVelocity.getYSteps()>1&&(m=t._handleVelocity(t.mouseVelocity.getYSteps(),S,y)),t._isBoundary(t.currentYOffset,S,y)&&!b||t.moveTheList(m),window.clearTimeout(t._runTimeout),t._runTimeout=0},50)),this.initialMousePos=i}}},{key:"_handleVelocity",value:function(e,t,i){var n;return n="up"===this.direction?this.currentYOffset+this.element.getItemHeightValue()*e:this.currentYOffset-this.element.getItemHeightValue()*e,this._isBoundary(n,t,i)&&e>0?this._handleVelocity(--e,t,i):e}},{key:"_forceMovingTheSpinner",value:function(e){this.currentYOffset=e,this.element.templateHelper.scrollableArea.setAttribute("style","transition: all 0s ease; transform: translate3d(0px,"+this.currentYOffset+this.element.getItemHeightMeasurementUnit()+",0px)")}},{key:"_isBoundary",value:function(e,t,i){return!("up"===this.direction&&e<t||"down"===this.direction&&e>i)}},{key:"_onMouseLeave",value:function(e){!0===this.mouseDown&&(this.mouseDown=!1,this.moveTheList(),this.element.eventsHelper.dispatchMouseUp())}},{key:"getMousePosition",value:function(e){var t={x:0,y:0};if("undefined"!=typeof TouchEvent&&null!==TouchEvent&&e.constructor===TouchEvent){var i=e.touches[0];t.x=i.clientX,t.y=i.clientY}else t.x=e.clientX,t.y=e.clientY;return t}},{key:"handleCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"click";"click"===e?this.element.templateHelper.wrapperElement.style.cursor="pointer":"drag"===e&&(this.element.templateHelper.wrapperElement.style.cursor="grabbing")}},{key:"toggleActiveItem",value:function(){this.element.templateHelper.setActiveItem(this.currentElement)}}]),t}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5SpinnerMutationObserver=void 0;var n=function(){function e(t){_classCallCheck(this,e),e._observer.constructor!==MutationObserver&&(e._observer=new MutationObserver(this.mutationsCallback)),this.registerElement(t)}return _createClass(e,[{key:"registerElement",value:function(t){e._observer.observe(t,{childList:!0,subtree:!0,attributes:!0})}},{key:"mutationsCallback",value:function(e){}}]),e}();t.Ch5SpinnerMutationObserver=n,n._observer={}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(59),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ModalDialog=void 0;var n=i(60),s=i(4),r=i(17),a=i(2),o=i(3),l=function(e){_inherits(i,n.Ch5OverlayPanel);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).primaryCssClass="ch5-modal-dialog",e.cssClassPrefix="ch5-modal-dialog",e._elMask={},e._elHeader={},e._elPrompt={},e._elPromptIcon={},e._elPromptText={},e._elFooter={},e._elBtnOk={},e._elBtnCancel={},e._width="",e._height="",e._title="",e._mask=!1,e._maskStyle="",e._hideOkButton=!1,e._okButtonLabel="",e._okButtonIcon="",e._okButtonStyle="",e._hideCancelButton=!1,e._cancelButtonLabel="",e._cancelButtonIcon="",e._cancelButtonStyle="",e._prompt="",e._promptIcon="",e._sigNameSendOnOk="",e._sigSendOnOk=null,e._sigNameSendOnCancel="",e._sigSendOnCancel=null,e._btnOkDefaultLabelText="Ok",e._btnCancelDefaultLabelText="Cancel",e._crModalWasInstatiated=!1,e.info("Ch5ModalDialog.constructor()"),e._listOfAllPossibleComponentCssClasses=e.generateListOfAllPossibleComponentCssClasses(),e._crModalWasInstatiated||(e._rebindEventCallbacks(),e.createInternalHtml(),e._closeIcon=e.cssClassPrefix+"-default-close-icon"),e._crModalWasInstatiated=!0,e._okEvent=new CustomEvent("ok",{bubbles:!0,cancelable:!1}),e._cancelEvent=new CustomEvent("cancel",{bubbles:!0,cancelable:!1}),e._cancelButtonLabel=e._btnCancelDefaultLabelText,e._okButtonLabel=e._btnOkDefaultLabelText,e}return _createClass(i,[{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),this._elBtnCancel&&this._elBtnOk&&(this._elBtnOk.addEventListener("click",this._onOkClick),this._elBtnCancel.addEventListener("click",this._onCancelClick))}},{key:"removeEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),this._elBtnOk.removeEventListener("click",this._onOkClick),this._elBtnCancel.removeEventListener("click",this._onCancelClick)}},{key:"_rebindEventCallbacks",value:function(){_get(_getPrototypeOf(i.prototype),"_rebindEventCallbacks",this).call(this),this._onOkClick=this._onOkClick.bind(this),this._onCancelClick=this._onCancelClick.bind(this),this._clickedOnMask=this._clickedOnMask.bind(this)}},{key:"_onOkClick",value:function(e){this.info("_onOkClick()"),this.dispatchEvent(this._okEvent),this.setShowBasedOnAttributes()}},{key:"_onCancelClick",value:function(e){this.info("_onCancelClick()"),this.dispatchEvent(this._cancelEvent),this.setShowBasedOnAttributes()}},{key:"_parseSizeAttr",value:function(e){var t=e.trim().toLowerCase();return-1===t.indexOf("px")&&(t+="px"),t}},{key:"_clickedOnMask",value:function(e){return this.info("_clickedOnMask()"),!0===this.mask&&!0===this.dismissable&&this.setShowBasedOnAttributes(),e.stopPropagation(),!1}},{key:"_checkAndAttachMaskIfNeeded",value:function(){!0===this.mask&&this._elMask.parentElement!==this&&this._elContainer.parentElement===this&&this.insertBefore(this._elMask,this._elContainer)}},{key:"getTargetElementForCssClassesAndStyle",value:function(){return this._elContainer}},{key:"updatePosition",value:function(){}},{key:"updateForChangeInClosable",value:function(){this.adjustInternalHtmlStructure()}},{key:"updateForChangeInStretch",value:function(){var e=this.getTargetElementForCssClassesAndStyle();switch(this.stretch){case"width":this.hasAttribute("width")||(e.style.width=window.innerWidth-20+"px");break;case"height":this.hasAttribute("height")||(e.style.height=window.innerHeight-10+"px");break;case"both":this.hasAttribute("width")||(e.style.width=window.innerWidth-20+"px"),this.hasAttribute("height")||(e.style.height=window.innerHeight-10+"px")}}},{key:"connectedCallback",value:function(){var e=this;this.info("ch5-modal connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",s.Ch5RoleAttributeMapping.ch5ModalDialog),this.hasAttribute("show")||this.setShowBasedOnAttributes(),this._ready.then(function(){e._initialize(),e.initCommonMutationObserver(e)})}},{key:"disconnectedCallback",value:function(){this.info("ch5-modal disconnectedCallback()"),_get(_getPrototypeOf(i.prototype),"disconnectedCallback",this).call(this),this.disconnectCommonMutationObserver()}},{key:"setShowBasedOnAttributes",value:function(){this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,!1,!0)}},{key:"getListOfAllPossibleComponentCssClasses",value:function(){return _get(_getPrototypeOf(i.prototype),"getListOfAllPossibleComponentCssClasses",this).call(this)}},{key:"_initialize",value:function(){if(this.info("ch5-modal _initialize()"),!this.querySelector(".".concat(this.primaryCssClass))){for(;this.childNodes.length;)this._elContents.appendChild(this.childNodes[0]);this.appendChild(this._elContainer),this.adjustInternalHtmlStructure(),this.cacheComponentChildrens()}this.initAttributes(),this._checkAndAttachMaskIfNeeded(),this.updateCssClasses(),this.attachEventListeners()}},{key:"initAttributes",value:function(){if(_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("width")&&null!==this.getAttribute("width")&&(this.width=this._parseSizeAttr(this.getAttribute("width"))),this.hasAttribute("height")&&null!==this.getAttribute("height")&&(this.height=this._parseSizeAttr(this.getAttribute("height"))),this.hasAttribute("title")&&null!==this.getAttribute("title")&&(this.title=this.getAttribute("title")),this.hasAttribute("hideokbutton")){var e=this.getAttribute("hideokbutton");"0"===e||"false"===e.toLowerCase()?this.hideOkButton=!1:this.hideOkButton=!0}else this.hideOkButton=!1;if(this.hasAttribute("okbuttonlabel")&&null!==this.getAttribute("okbuttonlabel")&&(this.okButtonLabel=this.getAttribute("okbuttonlabel")),this.hasAttribute("okbuttonicon")&&null!==this.getAttribute("okbuttonicon")&&(this.okButtonIcon=this.getAttribute("okbuttonicon")),this.hasAttribute("okbuttonstyle")&&null!==this.getAttribute("okbuttonstyle")&&(this.okButtonStyle=this.getAttribute("okbuttonstyle")),this.hasAttribute("hidecancelbutton")){var t=this.getAttribute("hidecancelbutton");"0"===t||"false"===t.toLowerCase()?this.hideCancelButton=!1:this.hideCancelButton=!0}else this.hideCancelButton=!1;if(this.hasAttribute("cancelbuttonlabel")&&null!==this.getAttribute("cancelbuttonlabel")&&(this.cancelButtonLabel=this.getAttribute("cancelbuttonlabel")),this.hasAttribute("cancelbuttonicon")&&null!==this.getAttribute("cancelbuttonicon")&&(this.cancelButtonIcon=this.getAttribute("cancelbuttonicon")),this.hasAttribute("cancelbuttonstyle")&&null!==this.getAttribute("cancelbuttonstyle")&&(this.cancelButtonStyle=this.getAttribute("cancelbuttonstyle")),this.hasAttribute("prompt")&&null!==this.getAttribute("prompt")&&(this.prompt=this.getAttribute("prompt")),this.hasAttribute("prompticon")&&null!==this.getAttribute("prompticon")&&(this.promptIcon=this.getAttribute("prompticon")),this.hasAttribute("mask")){var n=this.getAttribute("mask");"0"===n||"false"===n.toLowerCase()?this.mask=!1:this.mask=!0}else this.mask=!1;this.hasAttribute("maskstyle")&&null!==this.getAttribute("maskstyle")?this.maskStyle=this.getAttribute("maskstyle"):this.maskStyle="",this.hasAttribute("sendeventonok")&&null!==this.getAttribute("sendeventonok")?this.sendEventOnOk=this.getAttribute("sendeventonok"):this.sendEventOnOk="",this.hasAttribute("sendeventoncancel")&&null!==this.getAttribute("sendeventoncancel")?this.sendEventOnCancel=this.getAttribute("sendeventoncancel"):this.sendEventOnCancel="",this._checkAndAttachMaskIfNeeded(),this.adjustInternalHtmlStructure(),this.hasAttribute("positionto")&&this.removeAttribute("positionto"),this.hasAttribute("positionoffset")&&this.removeAttribute("positionoffset"),this.hasAttribute("receivestatepositionto")&&this.removeAttribute("receivestatepositionto"),this.hasAttribute("receivestatepositionoffset")&&this.removeAttribute("receivestatepositionoffset")}},{key:"generateListOfAllPossibleComponentCssClasses",value:function(){return _get(_getPrototypeOf(i.prototype),"generateListOfAllPossibleComponentCssClasses",this).call(this)}},{key:"updateCssClasses",value:function(){var e=this;this.info("called updateCssClasses()");var t=new Set;t.add(this.primaryCssClass),t.add(this.cssClassPrefix+"--overflow-"+this.overflow);var i=this.getTargetElementForCssClassesAndStyle();void 0!==i.classList&&this._listOfAllPossibleComponentCssClasses.forEach(function(n){t.has(n)?(i.classList.add(n),e.info("add CSS class",n)):(i.classList.remove(n),e.info("remove CSS class",n))})}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(this.info('ch5-modal-dialog attributeChangedCallback("'+e+'","'+t+'","'+n+")"),e){case"width":this.hasAttribute("width")&&(this.width=this._parseSizeAttr(this.getAttribute("width")));break;case"height":this.hasAttribute("height")&&(this.height=this._parseSizeAttr(this.getAttribute("height")));break;case"title":this.hasAttribute("title")&&(this.title=this.getAttribute("title")),this.adjustInternalHtmlStructure();break;case"hideokbutton":if(this.hasAttribute("hideokbutton")){var s=this.getAttribute("hideokbutton");"0"===s||"false"===s.toLowerCase()?this.hideOkButton=!1:this.hideOkButton=!0}else this.hideOkButton=!1;this.adjustInternalHtmlStructure();break;case"okbuttonlabel":this.hasAttribute("okbuttonlabel")&&(this.okButtonLabel=this.getAttribute("okbuttonlabel"));break;case"okbuttonicon":this.hasAttribute("okbuttonicon")&&(this.okButtonIcon=this.getAttribute("okbuttonicon"));break;case"okbuttonstyle":this.hasAttribute("okbuttonstyle")&&(this.okButtonStyle=this.getAttribute("okbuttonstyle"));break;case"hidecancelbutton":if(this.hasAttribute("hidecancelbutton")){var r=this.getAttribute("hidecancelbutton");"0"===r||"false"===r.toLowerCase()?this.hideCancelButton=!1:this.hideCancelButton=!0}else this.hideCancelButton=!1;this.adjustInternalHtmlStructure();break;case"cancelbuttonlabel":this.hasAttribute("cancelbuttonlabel")&&(this.cancelButtonLabel=this.getAttribute("cancelbuttonlabel"));break;case"cancelbuttonicon":this.hasAttribute("cancelbuttonicon")&&(this.cancelButtonIcon=this.getAttribute("cancelbuttonicon"));break;case"cancelbuttonstyle":this.hasAttribute("cancelbuttonstyle")&&(this.cancelButtonStyle=this.getAttribute("cancelbuttonstyle"));break;case"prompt":this.hasAttribute("prompt")&&(this.prompt=this.getAttribute("prompt")),this.adjustInternalHtmlStructure();break;case"prompticon":this.hasAttribute("prompticon")&&(this.promptIcon=this.getAttribute("prompticon")),this.adjustInternalHtmlStructure();break;case"mask":if(this.hasAttribute("mask")){var a=this.getAttribute("mask");"0"===a||"false"===a.toLowerCase()?this.mask=!1:this.mask=!0}else this.mask=!1;this._checkAndAttachMaskIfNeeded();break;case"maskstyle":this.hasAttribute("maskstyle")?this.maskStyle=n:this.maskStyle="";break;case"sendeventonok":this.hasAttribute("sendeventonok")?this.sendEventOnOk=n:this.sendEventOnOk="";break;case"sendeventoncancel":this.hasAttribute("sendeventoncancel")?this.sendEventOnCancel=n:this.sendEventOnCancel="";break;case"positionto":case"positionoffset":case"receivestatepositionto":case"receivestatepositionoffset":break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"createInternalHtml",value:function(){var e=this.querySelector(".".concat(this.primaryCssClass));e?(this._elCloseIconBtn=this.querySelector(".".concat(this.cssClassPrefix,"-close-icon-btn")),this._elCloseIcon=this.querySelector(".".concat(this.cssClassPrefix,"-close-icon")),this._elHeader=this.querySelector(".".concat(this.cssClassPrefix,"-header")),this._elPrompt=this.querySelector(".".concat(this.cssClassPrefix,"-prompt")),this._elPromptIcon=this.querySelector(".".concat(this.cssClassPrefix,"-prompt-icon")),this._elPromptText=this.querySelector(".".concat(this.cssClassPrefix,"-prompt-text")),this._elFooter=this.querySelector(".".concat(this.cssClassPrefix,"-footer")),this._elBtnOk=this.querySelector(".".concat(this.cssClassPrefix,"-btn-ok")),this._elBtnCancel=this.querySelector(".".concat(this.cssClassPrefix,"-btn-cancel")),this._elContents=this.querySelector(".".concat(this.cssClassPrefix,"-contents")),this._elContainer=e,this._elMask=this.querySelector(".".concat(this.cssClassPrefix,"-mask"))):(this.info("ch5-modal-dialog create internal Html"),this._elContainer=document.createElement("div"),this._elCloseIconBtn=document.createElement("button"),this._elCloseIconBtn.setAttribute("type","button"),this._elCloseIconBtn.classList.add(this.cssClassPrefix+"-close-icon-btn"),this._elCloseIconBtn.setAttribute("aria-label","Close"),this._elCloseIcon=document.createElement("span"),this._elCloseIcon.setAttribute("aria-hidden","true"),this._elCloseIcon.classList.add(this.cssClassPrefix+"-close-icon"),this._elCloseIcon.classList.add(this.cssClassPrefix+"-default-close-icon"),this._elCloseIconBtn.appendChild(this._elCloseIcon),this._elHeader=document.createElement("div"),this._elHeader.classList.add(this.cssClassPrefix+"-header"),this._elPrompt=document.createElement("div"),this._elPrompt.classList.add(this.cssClassPrefix+"-prompt"),this._elPromptIcon=document.createElement("img"),this._elPromptIcon.classList.add(this.cssClassPrefix+"-prompt-icon"),this._elPromptText=document.createElement("span"),this._elPromptText.classList.add(this.cssClassPrefix+"-prompt-text"),this._elFooter=document.createElement("div"),this._elFooter.classList.add(this.cssClassPrefix+"-footer"),this._elBtnOk=new r.Ch5Button,this._elBtnOk.setAttribute("type","success"),this._elBtnOk.setAttribute("label",this._btnOkDefaultLabelText),this._elBtnOk.classList.add(this.cssClassPrefix+"-btn-ok"),this._elBtnCancel=new r.Ch5Button,this._elBtnCancel.setAttribute("type","warning"),this._elBtnCancel.setAttribute("label",this._btnCancelDefaultLabelText),this._elBtnCancel.classList.add(this.cssClassPrefix+"-btn-cancel"),this._elContents=document.createElement("div"),this._elContents.classList.add(this.cssClassPrefix+"-contents"),this._elContainer.classList.add(this.primaryCssClass),this._elContainer.setAttribute("data-ch5-id",this.getCrId()),this._elMask=document.createElement("div"),this._elMask.classList.add(this.cssClassPrefix+"-mask"),this._elMask.classList.add(this.cssClassPrefix+"-mask-default-style"),this._elMask.setAttribute("cr-id",this.getCrId()+"-mask"))}},{key:"adjustInternalHtmlStructure",value:function(){var e=document.createDocumentFragment();this.closable?e.appendChild(this._elCloseIconBtn):this._elCloseIconBtn.remove(),""!==this.title?(this._elHeader.textContent=this.title,e.appendChild(this._elHeader)):this._elHeader&&this._elHeader.remove(),""!==this.prompt||""!==this.promptIcon?(""!==this.promptIcon?(this._elPromptIcon.setAttribute("src",this.promptIcon),this._elPrompt.appendChild(this._elPromptIcon)):this._elPromptIcon&&this._elPromptIcon.remove(),""!==this.prompt&&this._elPromptText instanceof Node?(this._elPromptText.textContent=this.prompt,this._elPrompt.appendChild(this._elPromptText),this._elPromptIcon instanceof Node&&this._elPrompt.insertBefore(this._elPromptIcon,this._elPromptText)):this._elPromptText instanceof Node&&this._elPromptText.remove(),e.appendChild(this._elPrompt)):this._elPrompt&&this._elPrompt.remove(),e.appendChild(this._elContents),this.hideOkButton&&this.hideCancelButton?this._elFooter&&this._elFooter.remove():(e.appendChild(this._elFooter),this.hideOkButton?this._elBtnOk&&this._elBtnOk.remove():this._elFooter.appendChild(this._elBtnOk),this.hideCancelButton?this._elBtnCancel&&this._elBtnCancel.remove():this._elFooter.appendChild(this._elBtnCancel)),this._elContainer.appendChild(e)}},{key:"afterHandlingShow",value:function(){var e=this;_get(_getPrototypeOf(i.prototype),"afterHandlingShow",this).call(this),setTimeout(function(){e._elMask&&e._elMask.addEventListener("click",e._clickedOnMask)})}},{key:"afterHandlingHide",value:function(){_get(_getPrototypeOf(i.prototype),"afterHandlingHide",this).call(this),this._elMask&&this._elMask.removeEventListener("click",this._clickedOnMask)}},{key:"width",get:function(){return this._width},set:function(e){if(this.info("set width"+e),e!==this._width){this._width=e;var t=this.getTargetElementForCssClassesAndStyle();t&&(t.style.width=this._parseSizeAttr(this._width)),this.setAttribute("width",e)}}},{key:"height",get:function(){return this._height},set:function(e){if(this.info("set height"+e),e!==this._height){this._height=e;var t=this.getTargetElementForCssClassesAndStyle();t&&(t.style.height=this._parseSizeAttr(this._height)),this.setAttribute("height",e)}}},{key:"title",get:function(){return this._title},set:function(e){this.info("set title "+e),null!=e||(e="");var t=this._getTranslatedValue("title",e);t!==this.title&&(this._title=t,this.setAttribute("title",t),this._elHeader instanceof HTMLElement&&(this._elHeader.textContent=t))}},{key:"mask",get:function(){return this._mask},set:function(e){this.info('set mask("'+e+'")'),this._mask!==e&&(null!=e||(e=!1),this._mask=e,this.setAttribute("mask",e.toString())),!0===this._mask?this._elMask.classList.add(this.primaryCssClass+"-mask-default-style"):this._elMask.classList.remove(this.primaryCssClass+"-mask-default-style")}},{key:"maskStyle",get:function(){return this._maskStyle},set:function(e){this.info('set maskStyle("'+e+'")'),this._maskStyle!==e&&(this._maskStyle=e,this._elMask.style.cssText=e,this.setAttribute("maskstyle",e))}},{key:"hideOkButton",get:function(){return this._hideOkButton},set:function(e){this.info('set hideOkButton("'+e+'")'),e!==this._hideOkButton&&(this._hideOkButton=e,this.setAttribute("hideokbutton",e.toString()))}},{key:"okButtonLabel",get:function(){return this._okButtonLabel},set:function(e){this.info("set okButtonLabel"+e),null!=e||(e="");var t=this._getTranslatedValue("okButtonLabel",e);this.okButtonLabel!==t&&(this._okButtonLabel=t,this._elBtnOk instanceof HTMLElement&&this._elBtnOk.setAttribute("label",t),this.setAttribute("okbuttonlabel",t))}},{key:"okButtonIcon",get:function(){return this._okButtonIcon},set:function(e){this.info("set okButtonIcon "+e),this._okButtonIcon!==e&&(this._okButtonIcon=e,this._elBtnOk.setAttribute("iconClass",e),this.setAttribute("okbuttonicon",e))}},{key:"okButtonStyle",get:function(){return this._okButtonStyle},set:function(e){this.info("set okButtonStyle "+e),e!==this._okButtonStyle&&(this._okButtonStyle=e,this._elBtnOk.setAttribute("customStyle",e),this.setAttribute("okbuttonstyle",e))}},{key:"hideCancelButton",get:function(){return this._hideCancelButton},set:function(e){this.info("set hideCancelButton"+e),e!==this._hideCancelButton&&(this._hideCancelButton=e,this.setAttribute("hidecancelbutton",e.toString()))}},{key:"cancelButtonLabel",get:function(){return this._cancelButtonLabel},set:function(e){this.info("set cancelButtonLabel"+e),null!=e||(e="");var t=this._getTranslatedValue("cancelButtonLabel",e);this.cancelButtonLabel!==t&&(this._cancelButtonLabel=t,this._elBtnCancel instanceof HTMLElement&&this._elBtnCancel.setAttribute("label",t),this.setAttribute("cancelbuttonlabel",t))}},{key:"cancelButtonIcon",get:function(){return this._cancelButtonIcon},set:function(e){this.info("set cancelButtonIcon "+e),this._cancelButtonIcon!==e&&(this._cancelButtonIcon=e,this._elBtnCancel.setAttribute("iconClass",e),this.setAttribute("cancelbuttonicon",e))}},{key:"cancelButtonStyle",get:function(){return this._cancelButtonStyle},set:function(e){this.info("set cancelButtonStyle "+e),e!==this._cancelButtonStyle&&(this._cancelButtonStyle=e,this._elBtnCancel.setAttribute("customStyle",e),this.setAttribute("cancelbuttonstyle",e))}},{key:"prompt",get:function(){return this._prompt},set:function(e){this.info("set prompt "+e),null!=e||(e="");var t=this._getTranslatedValue("prompt",e);this.prompt!==t&&(this._prompt=t,this._elPromptText instanceof HTMLElement&&(this._elPromptText.textContent=t),this.setAttribute("prompt",t))}},{key:"promptIcon",get:function(){return this._promptIcon},set:function(e){this.info("set promptIcon "+e),e!==this._promptIcon&&(this._promptIcon=e,this.setAttribute("prompticon",e))}},{key:"sendEventOnOk",get:function(){return this._sigNameSendOnOk},set:function(e){this.info("set sendEventOnOk "+e),e!==this._sigNameSendOnOk&&(this._sigNameSendOnOk=e,this._elBtnOk.setAttribute("sendEventOnClick",e),this.setAttribute("sendeventonok",e))}},{key:"sendEventOnCancel",get:function(){return this._sigNameSendOnCancel},set:function(e){this.info("set sendEventOnCancel "+e),e!==this._sigNameSendOnCancel&&(this._sigNameSendOnCancel=e,this._elBtnCancel.setAttribute("sendEventOnClick",e),this.setAttribute("sendeventoncancel",e))}}],[{key:"registerSignalAttributeTypes",value:function(){a.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"observedAttributes",get:function(){var e=n.Ch5OverlayPanel.observedAttributes;return e.filter(function(e){var t=!1,i=e.toLowerCase();return"positionto"!==i&&"positionoffset"!==i&&"receivestatepositionto"!==i&&"receivestatepositionoffset"!==i||(t=!0),t}),e.concat(["width","height","title","hideokbutton","okbuttonlabel","okbuttonicon","okbuttonstyle","hidecancelbutton","cancelbuttonlabel","cancelbuttonicon","cancelbuttonstyle","prompt","prompticon","mask","maskstyle","sendeventonok","sendeventoncancel"])}}]),i}();t.Ch5ModalDialog=l,l.ELEMENT_NAME="ch5-modal-dialog",l.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},o.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatepositionto:{direction:"state",numericJoin:1,contractName:!0},receivestatepositionoffset:{direction:"state",numericJoin:1,contractName:!0},sendeventonbeforeshow:{direction:"state",booleanJoin:1,contractName:!0},sendeventonaftershow:{direction:"state",booleanJoin:1,contractName:!0},sendeventonbeforehide:{direction:"state",booleanJoin:1,contractName:!0},sendeventonafterhide:{direction:"state",booleanJoin:1,contractName:!0},sendeventonok:{direction:"state",booleanJoin:1,contractName:!0},contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}}),l.COMPONENT_DATA={POSITION_OFFSETS:{default:n.Ch5OverlayPanel.POSITION_OFFSETS[0],values:n.Ch5OverlayPanel.POSITION_OFFSETS,key:"position_offset",classListPrefix:"ch5-modal-dialog--pos-"},STRETCH:{default:n.Ch5OverlayPanel.STRETCHES[0],values:n.Ch5OverlayPanel.STRETCHES,key:"stretch",classListPrefix:"ch5-modal-dialog--stretch-"},OVERFLOWS:{default:n.Ch5OverlayPanel.OVERFLOWS[0],values:n.Ch5OverlayPanel.OVERFLOWS,key:"overflow",classListPrefix:"ch5-modal-dialog--overflow-"}},"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(l.ELEMENT_NAME,l),l.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(176),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5OverlayPanel=void 0;var n=i(3),s=i(0),r=i(4),a=i(2),o=function(e){_inherits(i,n.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).primaryCssClass="ch5-overlay-panel",e.cssClassPrefix="ch5-overlay-panel",e._elContainer={},e._elContents={},e._elCloseIcon={},e._elCloseIconBtn={},e._dismissable=!0,e._closable=!1,e._mask=!1,e._closeIcon="",e._stretch=null,e._overflow="scroll",e._positionTo="",e._positionOffset="top-left",e._sigNameReceivePositionTo="",e._subReceivePositionTo="",e._sigNameReceivePositionOffset="",e._subReceivePositionOffset="",e._sigNameSendOnBeforeShow="",e._sigSendOnBeforeShow=null,e._sigNameSendOnAfterShow="",e._sigSendOnAfterShow=null,e._sigNameSendOnBeforeHide="",e._sigSendOnBeforeHide=null,e._sigNameSendOnAfterHide="",e._sigSendOnAfterHide=null,e._wasInstatiated=!1,e._isShown=!1,e.info("Ch5OverlayPanel.constructor()"),e._listOfAllPossibleComponentCssClasses=e.generateListOfAllPossibleComponentCssClasses(),e._wasInstatiated||(e.createInternalHtml(),e._rebindEventCallbacks(),e._closeIcon=e.cssClassPrefix+"-default-close-icon"),e._wasInstatiated=!0,e._showEvent=new CustomEvent("show",{bubbles:!0,cancelable:!1}),e._hideEvent=new CustomEvent("hide",{bubbles:!0,cancelable:!1}),e._beforeShowEvent=new CustomEvent("beforeShow",{bubbles:!0,cancelable:!1}),e._afterShowEvent=new CustomEvent("afterShow",{bubbles:!0,cancelable:!1}),e._beforeHideEvent=new CustomEvent("beforeHide",{bubbles:!0,cancelable:!1}),e._afterHideEvent=new CustomEvent("afterHide",{bubbles:!0,cancelable:!1}),e._ready=e._getReadyCheckPromise(),e}return _createClass(i,[{key:"connectedCallback",value:function(){var e=this;this.info("called connectedCallback()"),this.hasAttribute("role")||this.setAttribute("role",r.Ch5RoleAttributeMapping.ch5OverlayPanel),this.hasAttribute("show")||this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,!1,!0),this._ready.then(function(){e._initialize(),e.initCommonMutationObserver(e)})}},{key:"disconnectedCallback",value:function(){this.info("called disconnectedCallback()"),this.removeEventListeners(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}},{key:"getListOfAllPossibleComponentCssClasses",value:function(){return this._listOfAllPossibleComponentCssClasses}},{key:"_initialize",value:function(){if(this.info("ch5-overlay-panel _initialize()"),this._elContainer.parentElement!==this){for(;this.childNodes.length;)this._elContents.appendChild(this.childNodes[0]);this.appendChild(this._elContainer)}this.cacheComponentChildrens(),this.initAttributes(),this.updateCssClasses(),this.attachEventListeners()}},{key:"generateListOfAllPossibleComponentCssClasses",value:function(){var e=this,t=this._listOfAllPossibleComponentCssClasses;return t.push(this.primaryCssClass),i.POSITION_OFFSETS.forEach(function(i){var n=e.cssClassPrefix+"--pos-"+i;t.push(n)}),i.OVERFLOWS.forEach(function(i){t.push(e.cssClassPrefix+"--overflow-"+i)}),i.STRETCHES.forEach(function(i){null!==i&&t.push(e.cssClassPrefix+"--stretch-"+i)}),t}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this);var e=s.Ch5SignalFactory.getInstance();if(""!==this._subReceivePositionOffset&&""!==this._sigNameReceivePositionOffset){var t=s.Ch5Signal.getSubscriptionSignalName(this._sigNameReceivePositionOffset),n=e.getStringSignal(t);null!==n&&(n.unsubscribe(this._subReceivePositionOffset),this._sigNameReceivePositionOffset="")}if(""!==this._subReceivePositionTo&&""!==this._sigNameReceivePositionTo){var r=s.Ch5Signal.getSubscriptionSignalName(this._sigNameReceivePositionTo),a=e.getBooleanSignal(r);null!==a&&(a.unsubscribe(this._subReceivePositionTo),this._sigNameReceivePositionTo="")}}},{key:"createInternalHtml",value:function(){this.info("ch5-overlay-panel create internal Html"),this._elContainer=document.createElement("div"),this._elCloseIconBtn=document.createElement("button"),this._elCloseIconBtn.setAttribute("type","button"),this._elCloseIconBtn.classList.add(this.cssClassPrefix+"-close-icon-btn"),this._elCloseIconBtn.setAttribute("aria-label","Close"),this._elCloseIcon=document.createElement("span"),this._elCloseIcon.setAttribute("aria-hidden","true"),this._elCloseIcon.classList.add(this.cssClassPrefix+"-close-icon"),this._elCloseIcon.classList.add(this.cssClassPrefix+"-default-close-icon"),this._elCloseIconBtn.appendChild(this._elCloseIcon),this._elContents=document.createElement("div"),this._elContents.classList.add(this.cssClassPrefix+"-contents"),this._elContainer.classList.add(this.primaryCssClass),this._elContainer.setAttribute("data-ch5-id",this.getCrId()),this._elContainer.appendChild(this._elContents)}},{key:"refreshComponent",value:function(){this.updateCssClasses()}},{key:"updateCssClasses",value:function(){var e=this;_get(_getPrototypeOf(i.prototype),"updateCssClasses",this).call(this),this.info("called updateCssClasses()");var t=new Set;t.add(this.primaryCssClass),t.add(this.cssClassPrefix+"--overflow-"+this.overflow);var n=this.getTargetElementForCssClassesAndStyle();void 0!==n.classList&&this._listOfAllPossibleComponentCssClasses.forEach(function(i){t.has(i)?(n.classList.add(i),e.info("add CSS class",i)):(n.classList.remove(i),e.info("remove CSS class",i))})}},{key:"initAttributes",value:function(){if(_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("dismissable")){var e=this.getAttribute("dismissable");"0"===e||"false"===e.toLowerCase()?this.dismissable=!1:this.dismissable=!0}else this.dismissable=!0;if(this.updateForChangeInDismissable(),this.hasAttribute("closable")){var t=this.getAttribute("closable");"0"===t||"false"===t.toLowerCase()?this.closable=!1:this.closable=!0}else this.closable=!1;this.updateForChangeInClosable(),this.hasAttribute("closeicon")&&(this.closeIcon=this.getAttribute("closeicon")),this.hasAttribute("stretch")&&(this.stretch=this.getAttribute("stretch")),this.hasAttribute("overflow")&&(this.overflow=this.getAttribute("overflow")),this.hasAttribute("positionto")&&(this.positionTo=this.getAttribute("positionto")),this.hasAttribute("positionoffset")&&(this.positionOffset=this.getAttribute("positionoffset")),this.hasAttribute("receivestatepositionto")&&(this.receiveStatePositionTo=this.getAttribute("receivestatepositionto")),this.hasAttribute("receivestatepositionoffset")&&(this.receiveStatePositionOffset=this.getAttribute("receivestatepositionoffset")),this.hasAttribute("sendeventonbeforeshow")&&(this.sendEventOnBeforeShow=this.getAttribute("sendeventonbeforeshow")),this.hasAttribute("sendeventonaftershow")&&(this.sendEventOnAfterShow=this.getAttribute("sendeventonaftershow")),this.hasAttribute("sendeventonbeforehide")&&(this.sendEventOnBeforeHide=this.getAttribute("sendeventonbeforehide")),this.hasAttribute("sendeventonafterhide")&&(this.sendEventOnAfterHide=this.getAttribute("sendeventonafterhide"))}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),this._elCloseIconBtn&&(this._elCloseIconBtn.addEventListener("click",this._clickedOnClose),window.addEventListener("keydown",this._handleKeyPress)),this.addEventListener("click",this._clickAndTouchEvent),this.addEventListener("touch",this._clickAndTouchEvent),this.addEventListener("show",this._onShow),this.addEventListener("hide",this._onHide),this.addEventListener("beforeShow",this._onBeforeShow),this.addEventListener("afterShow",this._onAfterShow),this.addEventListener("beforeHide",this._onBeforeHide),this.addEventListener("afterHide",this._onAfterHide)}},{key:"removeEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),this._elCloseIconBtn.removeEventListener("click",this._clickedOnClose),window.removeEventListener("keydown",this._handleKeyPress),this.removeEventListener("show",this._onShow),this.removeEventListener("hide",this._onHide),this.removeEventListener("beforeShow",this._onBeforeShow),this.removeEventListener("afterShow",this._onAfterShow),this.removeEventListener("beforeHide",this._onBeforeHide),this.removeEventListener("afterHide",this._onAfterHide)}},{key:"_rebindEventCallbacks",value:function(){this._onShow=this._onShow.bind(this),this._onHide=this._onHide.bind(this),this._onBeforeShow=this._onBeforeShow.bind(this),this._onAfterShow=this._onAfterShow.bind(this),this._onBeforeHide=this._onBeforeHide.bind(this),this._onAfterHide=this._onAfterHide.bind(this),this._clickedOnClose=this._clickedOnClose.bind(this),this._handleKeyPress=this._handleKeyPress.bind(this),this._dismissElement=this._dismissElement.bind(this),this._clickAndTouchEvent=this._clickAndTouchEvent.bind(this)}},{key:"getTargetElementForCssClassesAndStyle",value:function(){return this._elContainer}},{key:"_handleKeyPress",value:function(e){"false"!==this.getAttribute("show")&&"Escape"===e.key&&(this.info("_handleKeyPress()"),this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,!1,!0))}},{key:"_clickedOnClose",value:function(e){this.info("_clickedOnClose()"),this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,!1,!0)}},{key:"_getReadyCheckPromise",value:function(){return Promise.all([customElements.whenDefined("ch5-button"),customElements.whenDefined("ch5-form"),customElements.whenDefined("ch5-image"),customElements.whenDefined("ch5-list"),customElements.whenDefined("ch5-modal-dialog"),customElements.whenDefined("ch5-overlay-panel"),customElements.whenDefined("ch5-select"),customElements.whenDefined("ch5-slider"),customElements.whenDefined("ch5-spinner"),customElements.whenDefined("ch5-textinput"),customElements.whenDefined("ch5-toggle"),customElements.whenDefined("ch5-triggerview"),customElements.whenDefined("ch5-triggerview-child")])}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(this.info('ch5-overlay-panel attributeChangedCallback("'+e+'","'+t+'","'+n+")"),e){case"dismissable":if(this.hasAttribute("dismissable")){var s=this.getAttribute("dismissable");"0"===s||"false"===s.toLowerCase()?this.dismissable=!1:this.dismissable=!0}else this.dismissable=!0;this.updateForChangeInDismissable();break;case"closable":if(this.hasAttribute("closable")){var r=this.getAttribute("closable");"0"===r||"false"===r.toLowerCase()?this.closable=!1:this.closable=!0}else this.closable=!1;this.updateForChangeInClosable();break;case"closeicon":this.hasAttribute("closeicon")?this.closeIcon=n:this.closeIcon="";break;case"stretch":this.hasAttribute("stretch")?this.stretch=n:this.stretch=null,this.updateForChangeInStretch();break;case"overflow":this.hasAttribute("overflow")?this.overflow=n:this.overflow=i.OVERFLOWS[0];break;case"positionto":this.hasAttribute("positionto")?this.positionTo=n:this.positionTo="",this.updateForChangeInPositionTo();break;case"positionoffset":this.hasAttribute("positionoffset")?this.positionOffset=n:this.positionOffset=i.POSITION_OFFSETS[0],this.updateForChangeInPositionOffset();break;case"receivestatepositionto":this.hasAttribute("receivestatepositionto")?this.receiveStatePositionTo=n:this.receiveStatePositionTo="";break;case"receivestatepositionoffset":this.hasAttribute("receivestatepositionoffset")?this.receiveStatePositionOffset=n:this.receiveStatePositionOffset="";break;case"sendeventonbeforeshow":this.hasAttribute("sendeventonbeforeshow")?this.sendEventOnBeforeShow=n:this.sendEventOnBeforeShow="";break;case"sendeventonaftershow":this.hasAttribute("sendeventonaftershow")?this.sendEventOnAfterShow=n:this.sendEventOnAfterShow="";break;case"sendeventonbeforehide":this.hasAttribute("sendeventonbeforehide")?this.sendEventOnBeforeHide=n:this.sendEventOnBeforeHide="";break;case"sendeventonafterhide":this.hasAttribute("sendeventonafterhide")?this.sendEventOnAfterHide=n:this.sendEventOnAfterHide="";break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"getCssClassDisabled",value:function(){return this.cssClassPrefix+"--disabled"}},{key:"updateForChangeInDismissable",value:function(){this.info("updateForChangeInDismissable()")}},{key:"updateForChangeInStretch",value:function(){var e=this.parentElement,t=this.getTargetElementForCssClassesAndStyle();if(e)switch(this.stretch){case"width":t.style.width=e.offsetWidth+"px";break;case"height":t.style.height=e.offsetHeight+"px";break;case"both":t.style.width=e.offsetWidth+"px",t.style.height=e.offsetHeight+"px"}else this.info("updateForChangeInStretch() - parent element not found")}},{key:"updateForChangeInPositionTo",value:function(){this.updatePosition()}},{key:"updateForChangeInPositionOffset",value:function(){this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.positionTo||"";if(""!==e){"#"!==e.charAt(0)&&(e="#"+e);var t=document.querySelector(e);t&&this.parentElement!==t.parentElement&&this._insertAfter(this,t);var i=this.getTargetElementForCssClassesAndStyle();if(t)switch(this.positionOffset){case"top-left":i.style.top=t.offsetTop-i.offsetHeight+"px",i.style.left=t.offsetLeft+"px";break;case"top-center":i.style.top=t.offsetTop-i.offsetHeight+"px",i.style.left=t.offsetLeft+Math.floor(t.offsetWidth/2)-Math.floor(i.offsetWidth/2)+"px";break;case"top-right":i.style.top=t.offsetTop-i.offsetHeight+"px",i.style.left=t.offsetLeft+t.offsetWidth-i.offsetWidth+"px";break;case"bottom-left":i.style.top=t.offsetTop+t.offsetHeight+"px",i.style.left=t.offsetLeft+"px";break;case"bottom-center":i.style.top=t.offsetTop+t.offsetHeight+"px",i.style.left=t.offsetLeft+Math.floor(t.offsetWidth/2)-Math.floor(i.offsetWidth/2)+"px";break;case"bottom-right":i.style.top=t.offsetTop+t.offsetHeight+"px",i.style.left=t.offsetLeft+t.offsetWidth-i.offsetWidth+"px";break;case"left-center":i.style.top=t.offsetTop-Math.floor(i.offsetHeight/2)+Math.floor(t.offsetHeight/2)+"px",i.style.left=t.offsetLeft-i.offsetWidth+"px";break;case"right-center":i.style.top=t.offsetTop-Math.floor(i.offsetHeight/2)+Math.floor(t.offsetHeight/2)+"px",i.style.left=t.offsetLeft+t.offsetWidth+"px"}else this.info("updateForChangeInPositionTo() - reference element not found for id "+e)}else this.info("updateForChangeInPositionTo() - incorrect reference id ")}},{key:"_dismissElement",value:function(e){this.info("_dismissElement()"),!1!==this.dismissable?!1!==this._isShown?(this.info("_dismissElement() inEvent",e),this.setAttributeAndProperty(this.COMMON_PROPERTIES.SHOW,!1,!0)):this.info("_dismissElement() return ( _isShown is false)"):this.info("_dismissElement() return ( dismissable is false)")}},{key:"_clickAndTouchEvent",value:function(e){e.stopPropagation()}},{key:"updateForChangeInClosable",value:function(){!0===this.closable?this._elContainer.insertBefore(this._elCloseIconBtn,this._elContents):this._elCloseIconBtn.remove()}},{key:"beforeHandlingShow",value:function(){this.info("beforeHandlingShow()"),this.dispatchEvent(this._beforeShowEvent),this.dispatchEvent(this._showEvent),this._sendPulse(this._sigNameSendOnBeforeShow)}},{key:"afterHandlingShow",value:function(){var e=this;this.info("afterHandlingShow()"),this.dispatchEvent(this._afterShowEvent),this._sendPulse(this._sigNameSendOnAfterShow),this.updatePosition(),this._isShown=!0,setTimeout(function(){document.addEventListener("click",e._dismissElement)},250)}},{key:"beforeHandlingHide",value:function(){this.info("beforeHandlingHide()"),this.dispatchEvent(this._beforeHideEvent),this._sendPulse(this._sigNameSendOnBeforeHide),document.removeEventListener("click",this._dismissElement)}},{key:"afterHandlingHide",value:function(){this.info("afterHandlingHide()"),this.dispatchEvent(this._hideEvent),this.dispatchEvent(this._afterHideEvent),this._sendPulse(this._sigNameSendOnAfterHide),this._isShown=!1}},{key:"dismissable",get:function(){return this._dismissable},set:function(e){this.info('set dismissable("'+e+'")'),this._dismissable!==e&&(null!=e||(e=!1),this._dismissable=e,this.setAttribute("dismissable",e.toString()))}},{key:"closable",get:function(){return this._closable},set:function(e){this.info('set closable("'+e+'")'),this._closable!==e&&(null!=e||(e=!1),this._closable=e,this.setAttribute("closable",e.toString()))}},{key:"mask",get:function(){return this._mask},set:function(e){this.info('set mask("'+e+'")'),this._mask!==e&&(null!=e||(e=!1),this._mask=e,this.setAttribute("mask",e.toString()))}},{key:"closeIcon",get:function(){return this._closeIcon},set:function(e){var t=this;void 0!==this._elCloseIcon.classList&&(this.info('set closeIcon("'+e+'")'),this._closeIcon!==e&&(""!==this._closeIcon&&this._closeIcon.split(" ").forEach(function(e){""!==(e=e.trim())&&t._elCloseIcon.classList.remove(e)}),this._closeIcon=e,""!==this._closeIcon&&this._closeIcon.split(" ").forEach(function(e){""!==(e=e.trim())&&t._elCloseIcon.classList.add(e)}),this.setAttribute("closeicon",e)))}},{key:"stretch",get:function(){return this._stretch},set:function(e){null!==e?this._stretch!==e&&(i.STRETCHES.indexOf(e)>=0?(this._stretch=e,this.setAttribute("stretch",this._stretch)):this._stretch=null):this._stretch=null}},{key:"overflow",get:function(){return this._overflow},set:function(e){this.info('set overflow("'+e+'")'),this._overflow!==e&&(i.OVERFLOWS.indexOf(e)>=0?this._overflow=e:this._overflow=i.OVERFLOWS[0],this.setAttribute("overflow",this._overflow))}},{key:"positionTo",get:function(){return this._positionTo},set:function(e){this.info('set positionTo("'+e+'")'),this._positionTo!==e&&(this._positionTo=e,this.setAttribute("positionto",e))}},{key:"positionOffset",get:function(){return this._positionOffset},set:function(e){this.info('set positionOffset("'+e+'")'),this._positionOffset!==e&&(i.POSITION_OFFSETS.indexOf(e)>=0?this._positionOffset=e:this._positionOffset=i.POSITION_OFFSETS[0],this.setAttribute("positionoffset",this._positionOffset))}},{key:"receiveStatePositionTo",get:function(){return this._attributeValueAsString("receivestatepositionto")},set:function(e){var t=this;if(this.info("set receiveStatePositionTo('"+e+"')"),""!==e&&this._sigNameReceivePositionTo!==e&&null!=e){if(""!==this._sigNameReceivePositionTo&&void 0!==this._sigNameReceivePositionTo&&null!==this._sigNameReceivePositionTo){var i=s.Ch5Signal.getSubscriptionSignalName(this._sigNameReceivePositionTo),n=s.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe(this._subReceivePositionTo)}this._sigNameReceivePositionTo=e,this.setAttribute("receivestatepositionto",e);var r=s.Ch5Signal.getSubscriptionSignalName(this._sigNameReceivePositionTo),a=s.Ch5SignalFactory.getInstance().getStringSignal(r);null!==a&&(this._subReceivePositionTo=a.subscribe(function(e){e!==t._positionTo&&t.setAttribute("positionto",e)}))}}},{key:"receiveStatePositionOffset",get:function(){return this._attributeValueAsString("receivestatepositionoffset")},set:function(e){var t=this;if(this.info("set receiveStatePositionOffset('"+e+"')"),""!==e&&this._sigNameReceivePositionOffset!==e&&null!=e){if(""!==this._sigNameReceivePositionOffset&&void 0!==this._sigNameReceivePositionOffset&&null!==this._sigNameReceivePositionOffset){var i=s.Ch5Signal.getSubscriptionSignalName(this._sigNameReceivePositionOffset),n=s.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe(this._subReceivePositionOffset)}this._sigNameReceivePositionOffset=e,this.setAttribute("receivestatepositionoffset",e);var r=s.Ch5Signal.getSubscriptionSignalName(this._sigNameReceivePositionOffset),a=s.Ch5SignalFactory.getInstance().getStringSignal(r);null!==a&&(this._subReceivePositionOffset=a.subscribe(function(e){e!==t._positionOffset&&t.setAttribute("positionoffset",e)}))}}},{key:"sendEventOnBeforeShow",get:function(){return this._sigNameSendOnBeforeShow},set:function(e){this.info("set sendEventOnBeforeShow('"+e+"')"),""!==e&&e!==this.sendEventOnBeforeShow&&(this._sigNameSendOnBeforeShow=e,this.setAttribute("sendeventonbeforeshow",e))}},{key:"sendEventOnAfterShow",get:function(){return this._sigNameSendOnAfterShow},set:function(e){this.info("set sendEventOnAfterShow('"+e+"')"),""!==e&&e!==this.sendEventOnAfterShow&&(this._sigNameSendOnAfterShow=e,this.setAttribute("sendeventonaftershow",e))}},{key:"sendEventOnBeforeHide",get:function(){return this._sigNameSendOnBeforeHide},set:function(e){this.info("set sendEventOnBeforeHide('"+e+"')"),""!==e&&e!==this.sendEventOnBeforeHide&&(this._sigNameSendOnBeforeHide=e,this.setAttribute("sendeventonbeforehide",e))}},{key:"sendEventOnAfterHide",get:function(){return this._sigNameSendOnAfterHide},set:function(e){this.info("set sendEventOnAfterHide('"+e+"')"),""!==e&&e!==this.sendEventOnAfterHide&&(this._sigNameSendOnAfterHide=e,this.setAttribute("sendeventonafterhide",e))}},{key:"_onShow",value:function(e){this.info("_onShow()")}},{key:"_onHide",value:function(e){this.info("_onHide()"),this._onAfterHide(e)}},{key:"_onBeforeShow",value:function(e){this.info("_onBeforeShow()")}},{key:"_onAfterShow",value:function(e){this.info("_onAfterShow()")}},{key:"_onBeforeHide",value:function(e){this.info("_onBeforeHide()")}},{key:"_onAfterHide",value:function(e){this.info("_onAfterHide()")}},{key:"_sendPulse",value:function(e){var t=null;""!==e&&null!=e&&null!==(t=s.Ch5SignalFactory.getInstance().getBooleanSignal(e))&&(t.publish(!0),t.publish(!1))}},{key:"_insertAfter",value:function(e,t){null!==t&&null!==t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}}],[{key:"registerSignalAttributeTypes",value:function(){a.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}},{key:"observedAttributes",get:function(){return n.Ch5Common.observedAttributes.concat(["dismissable","closable","closeicon","mask","maskstyle","stretch","overflow","positionto","positionoffset","receivestatepositionto","receivestatepositionoffset","sendeventonbeforeshow","sendeventonaftershow","sendeventonbeforehide","sendeventonafterhide"])}}]),i}();t.Ch5OverlayPanel=o,o.ELEMENT_NAME="ch5-overlay-panel",o.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatepositionto:{direction:"state",numericJoin:1,contractName:!0},receivestatepositionoffset:{direction:"state",numericJoin:1,contractName:!0},sendeventonbeforeshow:{direction:"state",booleanJoin:1,contractName:!0},sendeventonaftershow:{direction:"state",booleanJoin:1,contractName:!0},sendeventonbeforehide:{direction:"state",booleanJoin:1,contractName:!0},sendeventonafterhide:{direction:"state",booleanJoin:1,contractName:!0}}),o.POSITION_OFFSETS=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right","left-center","right-center"],o.STRETCHES=["both","width","height"],o.OVERFLOWS=["scroll","show"],o.COMPONENT_DATA={POSITION_OFFSETS:{default:o.POSITION_OFFSETS[0],values:o.POSITION_OFFSETS,key:"position_offset",classListPrefix:"ch5-overlay-panel--pos-"},STRETCH:{default:o.STRETCHES[0],values:o.STRETCHES,key:"stretch",classListPrefix:"ch5-overlay-panel--stretch-"},OVERFLOWS:{default:o.OVERFLOWS[0],values:o.OVERFLOWS,key:"overflow",classListPrefix:"ch5-overlay-panel--overflow-"}},"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(o.ELEMENT_NAME,o),o.registerSignalAttributeTypes()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Form=void 0;var n=i(3),s=i(17),r=i(1),a=i(10),o=i(2),l=function(e){_inherits(i,n.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).primaryCssClass="ch5-form",e.cssClassPrefix="ch5-form",e._hideSubmitButton=!1,e._submitButtonLabel="",e._submitButtonIcon="",e._submitButtonStyle="",e._submitButtonType="default",e._hideCancelButton=!1,e._cancelButtonLabel="",e._cancelButtonIcon="",e._cancelButtonStyle="",e._cancelButtonType="default",e._submitId="",e._cancelId="",e._inputElements=[],e._submitButton={},e._cancelButton={},e._submitShouldBeDisable=!0,e._cancelShouldBeDisabled=!0,e._customCancelButtonRef=null,e._customSubmitButtonRef=null,e._onClickSubmitButton=e._onClickSubmitButton.bind(_assertThisInitialized(e)),e._onClickCancelButton=e._onClickCancelButton.bind(_assertThisInitialized(e)),e._checkIfCancelOrSubmitShouldBeDisabled=e._checkIfCancelOrSubmitShouldBeDisabled.bind(_assertThisInitialized(e)),e._initFormButtons(),e.ready=Promise.all([customElements.whenDefined("ch5-button"),customElements.whenDefined("ch5-toggle"),customElements.whenDefined("ch5-slider"),customElements.whenDefined("ch5-select"),customElements.whenDefined("ch5-list"),customElements.whenDefined("ch5-textinput"),customElements.whenDefined("ch5-spinner")]).then(function(t){e._linkInputElements(),e._linkFormButtons(),e._wasInstatiated=!0}),e}return _createClass(i,[{key:"inputElements",get:function(){return this._inputElements}},{key:"submitButton",get:function(){return this._submitButton},set:function(e){this._submitButton=e}},{key:"cancelButton",get:function(){return this._cancelButton},set:function(e){this._cancelButton=e}},{key:"hideSubmitButton",get:function(){return this._hideSubmitButton},set:function(e){this.info('Ch5Form set hideSubmitButton("'+e+'")');var t=this.toBoolean(e,!0);this._hideSubmitButton!==t&&(this._hideSubmitButton=t,!0===t?this.submitButton.setAttribute("hidden",""):this.submitButton.removeAttribute("hidden"),this.setAttribute("hidesubmitbutton",t.toString()))}},{key:"hidesubmitbutton",get:function(){return this.hideSubmitButton},set:function(e){this.hideSubmitButton=e}},{key:"submitButtonLabel",get:function(){return this._submitButtonLabel},set:function(e){this.info('Ch5Form set submitButtonLabel("'+e+'")'),null!=e&&""!==e||(e=i.SUBMIT_LABEL);var t=this._getTranslatedValue("submitbuttonlabel",e);t!==this.submitButtonLabel&&(this._submitButtonLabel=e,this.submitButton.setAttribute("label",t),this.setAttribute("submitbuttonlabel",t))}},{key:"submitButtonIcon",get:function(){return this._submitButtonIcon},set:function(e){if(this.info('Ch5Form set submitButtonIcon("'+e+'")'),this._submitButtonIcon!==e){null!=e&&""!==e||(e="");var t="".concat(e," ").concat(this.cssClassPrefix,"__submit__icon");this._submitButtonIcon=e,this.setAttribute("submitbuttonicon",e),this.submitButton.setAttribute("iconClass",t)}}},{key:"submitButtonStyle",get:function(){return this._submitButtonStyle},set:function(e){this.info('Ch5Form set submitButtonStyle("'+e+'")'),this._submitButtonStyle!==e&&(null!=e&&""!==e||(e=""),this._submitButtonStyle=e,this.setAttribute("submitbuttonstyle",e),this.submitButton.setAttribute("customStyle",e))}},{key:"submitButtonType",get:function(){return this._submitButtonType},set:function(e){this.info('Ch5Form set submitButtonType("'+e+'")'),this._submitButtonType!==e&&((0,r.isNil)(e)&&(e="default"),this._submitButtonType=e,this.setAttribute("submitbuttontype",e),this.submitButton.setAttribute("type",e))}},{key:"hideCancelButton",get:function(){return this._hideCancelButton},set:function(e){this.info('Ch5Form set hideCancelButton("'+e+'")');var t=this.toBoolean(e,!0);this._hideCancelButton!==t&&(this._hideCancelButton=t,!0===t?this.cancelButton.setAttribute("hidden",""):this.cancelButton.removeAttribute("hidden"),this.setAttribute("hidecancelbutton",t.toString()))}},{key:"cancelButtonLabel",get:function(){return this._cancelButtonLabel},set:function(e){this.info('Ch5Form set cancelButtonLabel("'+e+'")'),null!=e&&""!==e||(e=i.CANCEL_LABEL);var t=this._getTranslatedValue("cancelButtonLabel",e);t!==this.cancelButtonLabel&&(this._cancelButtonLabel=t,this.cancelButton.setAttribute("label",t),this.setAttribute("cancelbuttonlabel",t))}},{key:"cancelButtonIcon",get:function(){return this._cancelButtonIcon},set:function(e){if(this.info('Ch5Form set cancelButtonIcon("'+e+'")'),this._cancelButtonIcon!==e){null!=e&&""!==e||(e="");var t="".concat(e," ").concat(this.cssClassPrefix,"__cancel__icon");this._cancelButtonIcon=e,this.setAttribute("cancelbuttonicon",e),this.cancelButton.setAttribute("iconclass",t)}}},{key:"cancelButtonStyle",get:function(){return this._cancelButtonStyle},set:function(e){this.info('Ch5Form set cancelButtonStyle("'+e+'")'),this._cancelButtonStyle!==e&&(null!=e&&""!==e||(e=""),this._cancelButtonStyle=e,this.setAttribute("cancelbuttonstyle",e),this.cancelButton.setAttribute("customstyle",e))}},{key:"cancelButtonType",get:function(){return this._cancelButtonType},set:function(e){this.info('Ch5Form set cancelButtonType("'+e+'")'),this._cancelButtonType!==e&&((0,r.isNil)(e)&&(e="default"),this._cancelButtonType=e,this.setAttribute("cancelbuttontype",e),this.cancelButton.setAttribute("type",e))}},{key:"submitId",get:function(){return this._submitId},set:function(e){this.info('Ch5Form set submitId("'+e+'")'),this._submitId===e||(0,r.isNil)(e)||(this._submitId=e)}},{key:"cancelId",get:function(){return this._cancelId},set:function(e){this.info('Ch5Form set cancelId("'+e+'")'),this._cancelId===e||(0,r.isNil)(e)||(this._cancelId=e)}},{key:"setCustomCancelBtn",value:function(){(0,r.isNil)(this.cancelId)||(0,r.isEmpty)(this.cancelId)||(this.info("Ch5Form setCustomCancelBtn with id :".concat(this.cancelId," ready")),this._customCancelButtonRef=document.getElementById(this.cancelId),(0,r.isNil)(this._customCancelButtonRef)?this.info("Ch5Form Cannot find cancel button with id :".concat(this.cancelId)):(this._customCancelButtonRef.removeEventListener("click",this._onClickCancelButton),this._customCancelButtonRef.addEventListener("click",this._onClickCancelButton),this.info("Ch5Form canel button with ".concat(this.cancelId," found, events added"))))}},{key:"setCustomSubmitBtn",value:function(){(0,r.isNil)(this.submitId)||(0,r.isEmpty)(this.submitId)||(this.info("Ch5Form setCustomSubmitBtn with id :".concat(this.submitId," ready")),this._customSubmitButtonRef=document.getElementById(this.submitId),(0,r.isNil)(this._customSubmitButtonRef)?this.info("Ch5Form cannot find submit button with id :".concat(this.submitId)):(this._customSubmitButtonRef.addEventListener("click",this._onClickSubmitButton),this.info("Ch5Form submit button with ".concat(this.submitId," found, events added"))))}},{key:"connectedCallback",value:function(){var e=this;this.hasAttribute("role")||this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5Form),this.ready.then(function(){e.cacheComponentChildrens(),e.initAttributes(),e.appendChild(e.submitButton),e.appendChild(e.cancelButton),e.attachEventListeners(),e.initCommonMutationObserver(e),e.setCustomCancelBtn(),e.setCustomSubmitBtn(),e.checkIfCustomSubmitShouldBeDisabled(!0),e.checkIfCustomCancelShouldBeDisabled(!0)})}},{key:"disconnectedCallback",value:function(){this.removeEvents(),this.disconnectCommonMutationObserver()}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(this.info('Ch5Form attributeChangedCallback("'+e+'","'+t+'","'+n+')"'),e){case"hidesubmitbutton":this.hasAttribute("hideSubmitButton")?this.hideSubmitButton=this.toBoolean(n,!0):this.hideSubmitButton=!1;break;case"submitbuttonlabel":this.hasAttribute("submitbuttonlabel")?this.submitButtonLabel=n:this.submitButtonLabel="";break;case"submitbuttonicon":this.hasAttribute("submitbuttonicon")?this.submitButtonIcon=n:this.submitButtonIcon="";break;case"submitbuttonstyle":this.hasAttribute("submitbuttonstyle")?this.submitButtonStyle=n:this.submitButtonStyle="";break;case"submitbuttontype":this.hasAttribute("submitbuttontype")?this.submitButtonType=n:this.submitButtonType="default";break;case"hidecancelbutton":this.hasAttribute("hidecancelbutton")?this.hideCancelButton=this.toBoolean(n,!0):this.hideCancelButton=!1;break;case"cancelbuttonlabel":this.hasAttribute("cancelbuttonlabel")?this.cancelButtonLabel=n:this.cancelButtonLabel="";break;case"cancelbuttonicon":this.hasAttribute("cancelbuttonicon")?this.cancelButtonIcon=n:this.cancelButtonIcon="";break;case"cancelbuttonstyle":this.hasAttribute("cancelbuttonstyle")?this.cancelButtonStyle=n:this.cancelButtonStyle="";break;case"cancelbuttontype":this.hasAttribute("cancelbuttontype")?this.cancelButtonType=n:this.cancelButtonType="default";break;case"submitid":this.hasAttribute("submitid")?this.submitId=n:this.submitId="";break;case"cancelid":this.hasAttribute("cancelid")?this.cancelId=n:this.cancelId="";break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this._upgradeProperty("hideSubmitButton"),this._upgradeProperty("submitButtonLabel"),this._upgradeProperty("submitButtonIcon"),this._upgradeProperty("submitButtonStyle"),this._upgradeProperty("submitButtonType"),this._upgradeProperty("hideCancelButton"),this._upgradeProperty("cancelButtonLabel"),this._upgradeProperty("cancelButtonIcon"),this._upgradeProperty("cancelButtonStyle"),this._upgradeProperty("cancelButtonType"),this._upgradeProperty("submitId"),this._upgradeProperty("cancelId")}},{key:"attachEventListeners",value:function(){var e=this;_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),this.submitButton.addEventListener("click",this._onClickSubmitButton),this.cancelButton.addEventListener("click",this._onClickCancelButton),this._inputElements.forEach(function(t){t.addEventListener("dirty",e._checkIfCancelOrSubmitShouldBeDisabled),t.addEventListener("validitychange",e._checkIfCancelOrSubmitShouldBeDisabled),t.addEventListener("clean",e._checkIfCancelOrSubmitShouldBeDisabled)})}},{key:"removeEvents",value:function(){var e=this;_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),this.submitButton.removeEventListener("click",this._onClickSubmitButton),this.cancelButton.removeEventListener("click",this._onClickCancelButton),this._inputElements.forEach(function(t){t.removeEventListener("dirty",e._checkIfCancelOrSubmitShouldBeDisabled),t.removeEventListener("validitychange",e._checkIfCancelOrSubmitShouldBeDisabled),t.removeEventListener("clean",e._checkIfCancelOrSubmitShouldBeDisabled)}),(0,r.isNil)(this._customSubmitButtonRef)||this._customSubmitButtonRef.removeEventListener("click",this._onClickSubmitButton),(0,r.isNil)(this._customCancelButtonRef)||this._customCancelButtonRef.removeEventListener("click",this._onClickSubmitButton)}},{key:"submit",value:function(){this._submitShouldBeDisable||this._inputElements.forEach(function(e){e.submit()})}},{key:"cancel",value:function(){this.submitButton.setAttribute("disabled","true"),this._inputElements.forEach(function(e){e.reset()})}},{key:"_linkInputElements",value:function(){this._inputElements=Array.from(this.querySelectorAll("[feedbackmode='submit']"))}},{key:"_getInputElements",value:function(){return this._inputElements}},{key:"_initFormButtons",value:function(){this.submitButton=this._createButton(i.SUBMIT_LABEL,i.SUBMIT_TYPE,"submit",!0),this.cancelButton=this._createButton(i.CANCEL_LABEL,i.CANCEL_TYPE,"cancel",!0)}},{key:"_linkFormButtons",value:function(){var e=this.querySelector("[formtype='submit']"),t=this.querySelector("[formtype='cancel']");null!==e&&(e.setAttribute("disabled","true"),this.submitButton=e),null!==t&&(this.cancelButton=t)}},{key:"_checkIfCancelOrSubmitShouldBeDisabled",value:function(){var e=this,t=this._inputElements.every(function(e){return!1===e.getDirty()});if(this._cancelShouldBeDisabled=t,this._cancelShouldBeDisabled?(this.cancelButton.setAttribute("disabled","true"),this.cancelButton.classList.add(this.cssClassPrefix+"__submit--disabled")):(this.cancelButton.removeAttribute("disabled"),this.cancelButton.classList.remove(this.cssClassPrefix+"__submit--disabled")),this.checkIfCustomCancelShouldBeDisabled(this._cancelShouldBeDisabled),this._inputElements.forEach(function(t){if(!0===t.getDirty())return e._submitShouldBeDisable=!1,void e.checkIfCustomSubmitShouldBeDisabled(e._submitShouldBeDisable)}),this._submitShouldBeDisable=t,this._submitShouldBeDisable&&this.checkIfCustomSubmitShouldBeDisabled(this._submitShouldBeDisable),this._inputElements.forEach(function(t){if(void 0!==t.getValid&&!1===t.getValid())return e._submitShouldBeDisable=!0,void e.checkIfCustomSubmitShouldBeDisabled(e._submitShouldBeDisable)}),this._submitShouldBeDisable)return this.submitButton.setAttribute("disabled","true"),void this.submitButton.classList.add(this.cssClassPrefix+"__submit--disabled");this.submitButton.removeAttribute("disabled"),this.submitButton.classList.remove(this.cssClassPrefix+"__submit--disabled")}},{key:"checkIfCustomSubmitShouldBeDisabled",value:function(e){(0,r.isNil)(this._customSubmitButtonRef)||(e?this._customSubmitButtonRef.classList.add("ch5-button--disabled"):this._customSubmitButtonRef.classList.remove("ch5-button--disabled"))}},{key:"checkIfCustomCancelShouldBeDisabled",value:function(e){(0,r.isNil)(this._customCancelButtonRef)||(e?this._customCancelButtonRef.classList.add("ch5-button--disabled"):this._customCancelButtonRef.classList.remove("ch5-button--disabled"))}},{key:"_createButton",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=new s.Ch5Button;return r.setAttribute("label",e),r.setAttribute("type",t),r.setAttribute("formType",i),r.classList.add(this.cssClassPrefix+"__"+i),n&&(r.setAttribute("disabled","true"),r.classList.add(this.cssClassPrefix+"__"+i+"--disabled")),r}},{key:"_onClickSubmitButton",value:function(){this.submit()}},{key:"_onClickCancelButton",value:function(){this.cancel()}},{key:"_upgradeProperty",value:function(e){if(this.constructor.prototype.hasOwnProperty(e)){var t=this[e];delete this[e],this[e]=t}}}],[{key:"observedAttributes",get:function(){return n.Ch5Common.observedAttributes.concat(["hidesubmitbutton","submitbuttonlabel","submitbuttonicon","submitbuttonstyle","submitbuttontype","hidecancelbutton","cancelbuttonlabel","cancelbuttonicon","cancelbuttonstyle","cancelbuttontype","submitid","cancelid"])}},{key:"registerSignalAttributeTypes",value:function(){o.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}}]),i}();t.Ch5Form=l,l.ELEMENT_NAME="ch5-form",l.SIGNAL_ATTRIBUTE_TYPES=Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),l.SUBMIT_LABEL="Submit",l.CANCEL_LABEL="Cancel",l.SUBMIT_TYPE="default",l.CANCEL_TYPE="warning","object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(l.ELEMENT_NAME,l),l.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(179),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5tTextInputMask=void 0,t.Ch5tTextInputMask=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.prefix="_ch5-textinput-mask",this.MODIFIER_SEPARATOR="--",this.BLOCK_SEPARATOR="__",this._didMounted=!1,this._wasWrapped=!1,this._wrapperId=0,this._input={},this._maskElement={},this._maskValue="",this._lastValueLength=0,this._inputType="",this._alwaysShow=!1,this._show=!1,this._placeholder="",this.wrapperId=Math.random()*(new Date).getTime(),this.input=t,this.maskValue=i,this.alwaysShow=n,this._cleanTheInput(),this._inputListener=this._onInput.bind(this),this._inputKeyUpListener=this._onInputKeyUp.bind(this),this._inputKeyDownListener=this._onInputKeyDown.bind(this),this._inputFocusListener=this._onInputFocus.bind(this),this._inputBlurListener=this._onInputBlur.bind(this)}return _createClass(e,[{key:"init",value:function(){this._wasWrapped||this.didMounted||this._wrap(),!1===this.alwaysShow?this.show=!1:this.show=!0,this._attachEventListeners()}},{key:"stop",value:function(){this._detachEventListeners()}},{key:"dispatchMaskErrorEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"invalidCharacter";"invalidCharacter"!==e&&(e="invalidLength");var t=this._createInputMaskErrorEvent(e);this.input.dispatchEvent(t),this.maskElement.dispatchEvent(t),this.input.setCustomValidity(e)}},{key:"dispatchMaskUpdateEvent",value:function(){var e=this._createMaskUpdateEvent(this.input.value);this.maskElement.dispatchEvent(e),this.input.dispatchEvent(e)}},{key:"dispatchMaskCompleteEvent",value:function(){var e=this._createInputMaskCompleteEvent();this.maskElement.dispatchEvent(e),this.input.dispatchEvent(e),this.input.setCustomValidity("")}},{key:"didMounted",get:function(){return this._didMounted},set:function(e){this.didMounted===e||null!=e||(e=!1),this._didMounted=e}},{key:"input",get:function(){return this._input},set:function(e){this._input=e}},{key:"wasWrapped",get:function(){return this._wasWrapped},set:function(e){this.wasWrapped===e||null!=e||(e=!1),this._wasWrapped=e}},{key:"wrapperId",get:function(){return this._wrapperId},set:function(e){this.wrapperId===e||null!=e||(e=1e3*Math.random()),this._wrapperId=Math.round(e)}},{key:"maskElement",get:function(){return this._maskElement},set:function(e){this._maskElement=e}},{key:"maskValue",get:function(){return this._maskValue},set:function(e){this.maskValue===e||null!=e||(e=""),this._maskValue=e}},{key:"getInputStyles",value:function(){return window.getComputedStyle(this.input)}},{key:"lastValueLength",get:function(){return this._lastValueLength},set:function(e){this.lastValueLength===e||null!=e||(e=0),this._lastValueLength=e}},{key:"inputType",get:function(){return this._inputType},set:function(e){this.inputType===e||null!=e||(e=""),this._inputType=e}},{key:"alwaysShow",get:function(){return this._alwaysShow},set:function(e){this.alwaysShow===e||null!=e||(e=!1),this._alwaysShow=e}},{key:"show",get:function(){return this._show},set:function(e){this.show===e||null!=e||(e=!1),this._show=e,0===this.input.value.length&&(this.maskElement.style.zIndex=!0===this.show?"99":"-1")}},{key:"placeholder",get:function(){return this._placeholder},set:function(e){this.placeholder===e||null!=e||(e=""),this._placeholder=e}},{key:"_makeMaskElementLookAsInputPlaceholder",value:function(){var e=this.getInputStyles();this.maskElement.style.position="absolute",this.maskElement.style.top="0px",this.maskElement.style.left="0px",this.maskElement.style.paddingLeft=e.paddingLeft,this.maskElement.style.paddingRight=e.paddingRight,this.maskElement.style.fontSize=e.fontSize,this.maskElement.style.fontWeight=e.fontWeight,this.maskElement.style.pointerEvents="none",this.maskElement.style.lineHeight=e.lineHeight}},{key:"addStaticCharactersToInputValue",value:function(e){var t=""!==this.maskValue.substr(e,1)?this.maskValue.substr(e,1):null;this._isUserTyping()&&null!==t&&null!==t.match(/[-_#().,\\\/=@$&\s+]/g)&&(this.dispatchMaskUpdateEvent(),this.input.value=this.input.value+t,this.lastValueLength++,this.addStaticCharactersToInputValue(++e))}},{key:"_updateCharactersInMask",value:function(){var e,t=this.lastValueLength-1,i=void 0!==this.maskElement.childNodes[t]?this.maskElement.childNodes[t]:null,n={};(void 0!==i||null!==i)&&t<this.maskValue.length&&(e=!0===this._isUserTyping()&&this.input.value.length>0?this.input.value.substr(t,1):this.maskValue.substr(t,1),void 0!==(n=this.maskElement.childNodes[t])&&(n.innerHTML=e))}},{key:"togglePlaceholder",value:function(){!1===this.alwaysShow&&(!1===this.show?this.input.setAttribute("placeholder",this.placeholder):this.input.removeAttribute("placeholder"))}},{key:"_attachEventListeners",value:function(){this.input.addEventListener("keydown",this._inputKeyDownListener),this.input.addEventListener("input",this._inputListener),this.input.addEventListener("keyup",this._inputKeyUpListener),this.input.addEventListener("focus",this._inputFocusListener),this.input.addEventListener("blur",this._inputBlurListener),this.maskElement.addEventListener("update",this._onMaskUpdate.bind(this))}},{key:"_detachEventListeners",value:function(){this.input.removeEventListener("keydown",this._inputKeyDownListener),this.input.removeEventListener("input",this._inputListener),this.input.removeEventListener("keyup",this._inputKeyUpListener),this.input.removeEventListener("focus",this._inputFocusListener),this.input.removeEventListener("blur",this._inputBlurListener)}},{key:"_mount",value:function(e){this._createTheMaskElement(),e.appendChild(this.maskElement),this.didMounted=!0}},{key:"_wrap",value:function(){var e=this._input.parentNode.appendChild(this._createTheWrapper());e.appendChild(this.input),this._mount(e),this._makeMaskElementLookAsInputPlaceholder(),this.wasWrapped=!0}},{key:"_createTheWrapper",value:function(){var e=document.createElement("span");return e.id="_ch5-textinput"+this.BLOCK_SEPARATOR+this.wrapperId,e}},{key:"_createTheMaskElement",value:function(){var e=this._wrapEachCharacter();this.maskElement=document.createElement("span"),this.maskElement.setAttribute("data-mask",this.maskValue),this.maskElement.innerHTML=e}},{key:"_cleanTheInput",value:function(){!0===this.alwaysShow&&this.input.hasAttribute("placeholder")&&this.input.removeAttribute("placeholder"),this.input.hasAttribute("pattern")&&this.input.removeAttribute("pattern")}},{key:"_wrapEachCharacter",value:function(){var e=this,t=this.maskValue.split("");return t.forEach(function(i,n){t[n]='<span class="'+e.prefix+e.BLOCK_SEPARATOR+'letter">'+i+"</span>"}),t.join("")}},{key:"_createMaskUpdateEvent",value:function(e){return new CustomEvent("update",{detail:{message:e,time:(new Date).getTime()},bubbles:!0,cancelable:!0})}},{key:"_createInputMaskErrorEvent",value:function(e){return new CustomEvent("maskerror",{detail:{errorType:e,time:(new Date).getTime()},bubbles:!0,cancelable:!1})}},{key:"_createInputMaskCompleteEvent",value:function(){return new CustomEvent("maskcomplete",{detail:{message:"completed",time:(new Date).getTime()},bubbles:!0,cancelable:!0})}},{key:"_maskCharacterOnTyping",value:function(e){e>this.maskValue.length&&(e=this.maskValue.length);var t=this.maskElement.childNodes,i=void 0!==t[e]?t[e]:null;null!==i&&(i.style.visibility="hidden",this._maskCharacterOnTyping(--e))}},{key:"_unmaskCharacterOnTyping",value:function(e){e>this.maskValue.length&&(e=this.maskValue.length);var t=this.maskElement.childNodes,i=void 0!==t[e]?t[e]:null;null!==i&&e>=this.input.value.length&&(i.style.visibility="visible"),e>=0&&this._unmaskCharacterOnTyping(--e)}},{key:"_isUserTyping",value:function(){return!(this.input.value.length<this.lastValueLength)}},{key:"_isKeyAllowed",value:function(e){if(""!==this.maskValue.substr(this.input.value.length-1,1)){var t=this.maskValue.substr(this.input.value.length-1,1),i=e;if(null!==t.match(/[^a-zA-Z0-9*]/g))return!1;if(!1===isNaN(parseFloat(e))&&"*"!==t&&(i=parseFloat(e)),null!==String(i).match(/[^a-zA-Z0-9]/g)||_typeof(i)!==this._getDataType(t))return this.input.value.length>0&&this.dispatchMaskErrorEvent(),!1}return!0}},{key:"_isValueLengthValid",value:function(){return this.lastValueLength<this.maskValue.length?(this.lastValueLength>0?this.dispatchMaskErrorEvent("invalidLength"):this.input.setCustomValidity(""),!0):(this.lastValueLength>0&&this.dispatchMaskCompleteEvent(),!1)}},{key:"_getDataType",value:function(e){var t;switch(e){case"A":case"a":t="string";break;case"9":t="number";break;default:t="string"}return t}},{key:"_getCapsType",value:function(e){if(null!==e&&"*"!==e){if(e===e.toUpperCase())return"uppercase";if(e===e.toLowerCase())return"lowercase"}return"normal"}},{key:"_transformLetterCapsType",value:function(e){e>this.maskValue.length-1&&(e=this.maskValue.length-1);var t=""!==this.maskValue.substr(e,1)?this.maskValue.substr(e,1):null,i=this.input.value.split("")[e],n=this.maskElement.childNodes[e];if(null!==t&&void 0!==i){var s=this._getCapsType(t),r=this._getCapsType(i),a=this.input.value.substr(0,e),o=this.input.value.substr(e,1),l=this.input.value.substr(e+1);"uppercase"===s&&"uppercase"!==r?(this.input.value=a+o.toUpperCase()+l,n.innerHTML=o.toUpperCase()):"lowercase"===s&&"lowercase"!==r&&(this.input.value=a+o.toLowerCase()+l,n.innerHTML=o.toLowerCase()),this._transformLetterCapsType(--e)}}},{key:"_onInputKeyDown",value:function(e){this.inputType=e.key,this._isUserTyping()&&this.addStaticCharactersToInputValue(this.input.value.length),this.lastValueLength=this.input.value.length,null!==this.input.selectionStart&&this.input.selectionStart<this.lastValueLength&&e.preventDefault()}},{key:"_onInput",value:function(e){this.inputType=e.inputType;var t=e.data;if(null!==t&&t.length>1){var i=t.split("");t=i[i.length-1]}!this._isUserTyping()||this._isKeyAllowed(t)&&this._isValueLengthValid()?(this.dispatchMaskUpdateEvent(),this._updateCharactersInMask()):this.input.value=this.input.value.substr(0,this.lastValueLength),this._isUserTyping()&&(this.lastValueLength=this.input.value.length)}},{key:"_onInputKeyUp",value:function(e){this._isKeyAllowed(e.key),this._isValueLengthValid(),this._transformLetterCapsType(this.input.value.length)}},{key:"_onInputFocus",value:function(e){!1===this.alwaysShow&&(this.show=!0,this.togglePlaceholder())}},{key:"_onInputBlur",value:function(e){!1===this.alwaysShow&&(this.show=!1,this.togglePlaceholder()),0===this.input.value.length&&(this.lastValueLength=0),this._transformLetterCapsType(this.input.value.length),this._isValueLengthValid()}},{key:"_onMaskUpdate",value:function(e){this._isUserTyping()?this._maskCharacterOnTyping(this.lastValueLength):this._unmaskCharacterOnTyping(this.lastValueLength)}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5TextInputScaling=void 0;var n=function(){function e(t){_classCallCheck(this,e),this._fontSize=16,this._minimumFontSize=12,this._lastValueLength=0,this._valueLength=0,this._input={},this._inputPlaceholder={},this._input=t,this.updateDefaultFontSize(),this._addInputPlaceholder(),this._makeInputPlaceholderFeelLikeInput(),this._makeInputPlaceholderUnreachable(),this.attachEventListener()}return _createClass(e,[{key:"scaleUp",value:function(){var e="decrease";this._fillInputPlaceholder(),this._flagTheLengthWhichExactlyFits(),this._resetFontSizeWhenExactlyFits(),"erase"===this.detectUserBehavior()&&(e="increase"),!0===this._isTextWidthGreaterThanInputWidth()?this.edge=!0:"increase"===e&&!1===this._isTextWidthGreaterThanInputWidth()&&(this.edge=!1),!0===this.edge&&"decrease"===e&&this.currentFontSize>=this.minimumFontSize?(this._scaleFontSize(e),this.edge=!1):!1===this.edge&&"increase"===e&&(this._scaleFontSize(e),this.edge=!1),this.valueLength=this._input.value.length}},{key:"restoreTheInput",value:function(){this._fillInputPlaceholder(),this._flagTheLengthWhichExactlyFits(),this._resetFontSizeWhenExactlyFits(),this.valueLength=this._input.value.length}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this.fontSize===e||null!=e||(e=16),this._fontSize=e,this._setFontSizeToInput(e)}},{key:"minimumFontSize",get:function(){return this._minimumFontSize},set:function(e){this.minimumFontSize===e||null!=e||(e=12),this._minimumFontSize=e}},{key:"maximumFontSize",get:function(){return this._maximumFontSize},set:function(e){this.maximumFontSize===e||null!=e||(e=20),this._maximumFontSize=e}},{key:"valueLength",get:function(){return this._valueLength},set:function(e){this.valueLength===e||null!=e||(e=0),this._valueLength=e}},{key:"edge",get:function(){return this._edge},set:function(e){this.edge===e||void 0===e&&null===e||(this._edge=e)}},{key:"currentFontSize",get:function(){return this._currentFontSize},set:function(e){this.currentFontSize===e||null!=e||(e=16),this._validateFontSizeValue(e,"min")?this._validateFontSizeValue(e,"max")||(e=this.maximumFontSize):e=this.minimumFontSize,this._currentFontSize=e}},{key:"updateDefaultFontSize",value:function(){this.maximumFontSize=parseFloat(this._input.style.fontSize||window.getComputedStyle(this._input).fontSize),this.currentFontSize=this.maximumFontSize}},{key:"detectUserBehavior",value:function(){var t=this._input.value.length,i=0;return t>this.valueLength?i=1:t<this.valueLength&&(i=2),e.USERBEHAVIORS[i]}},{key:"attachEventListener",value:function(){this._input.addEventListener("blur",this.restoreTheInput.bind(this)),this._input.addEventListener("change",this.restoreTheInput.bind(this)),this._input.addEventListener("keydown",this.scaleUp.bind(this))}},{key:"_addInputPlaceholder",value:function(){this._input.parentNode.appendChild(this._createInputPlaceholder())}},{key:"_createInputPlaceholder",value:function(){var e=document.createElement("span");return e.style.whiteSpace="nowrap",this._inputPlaceholder=e,e}},{key:"_fillInputPlaceholder",value:function(){var e=this._input.value.replace(/\s/g,"&nbsp;");this._inputPlaceholder.innerHTML=e}},{key:"_makeInputPlaceholderFeelLikeInput",value:function(){var e=window.getComputedStyle(this._input);this._inputPlaceholder.style.fontSize=e.fontSize,this._inputPlaceholder.style.paddingLeft=e.paddingLeft,this._inputPlaceholder.style.paddingRight=e.paddingRight}},{key:"_makeInputPlaceholderUnreachable",value:function(){this._inputPlaceholder.style.position="absolute",this._inputPlaceholder.style.top="-1000px",this._inputPlaceholder.style.zIndex="-9999"}},{key:"_isTextWidthGreaterThanInputWidth",value:function(){var e=this._input.style.overflow;e&&"visible"!==e||(this._input.style.overflow="hidden");var t=this._input.clientWidth<this._input.scrollWidth;return this._input.style.overflow=e,t}},{key:"_flagTheLengthWhichExactlyFits",value:function(){var e=this._inputPlaceholder.getBoundingClientRect().width,t=this._input.clientWidth;void 0===this._valueLengthOnHitTheEdge&&e>t-10&&(this._valueLengthOnHitTheEdge=this._input.value.length)}},{key:"_resetFontSizeWhenExactlyFits",value:function(){void 0!==this._valueLengthOnHitTheEdge&&this._input.value.length<=this._valueLengthOnHitTheEdge&&(this.currentFontSize=this.maximumFontSize),this._setFontSizeToInput(this.currentFontSize)}},{key:"_scaleFontSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"increase",i=this.currentFontSize*e.CHANGEFACTOR;this.currentFontSize="increase"===t?this.currentFontSize+i:this.currentFontSize-i,this._setFontSizeToInput(this.currentFontSize)}},{key:"_validateFontSizeValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"min";return!("min"===t&&e<this.minimumFontSize||"max"===t&&e>this.maximumFontSize)}},{key:"_setFontSizeToInput",value:function(e){return this._input.style.fontSize=this._inputPlaceholder.style.fontSize=e+"px"}}]),e}();t.Ch5TextInputScaling=n,n.USERBEHAVIORS=["none","fill","erase"],n.CHANGEFACTOR=.07},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Textinput=void 0;var s=n(i(1)),r=i(35),a=i(0),o=i(182),l=i(181),u=i(3),c=n(i(14)),h=i(4),d=i(2),f=function(e){_inherits(i,r.Ch5CommonInput);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).primaryCssClass="ch5-textinput",e.cssClassPrefix="ch5-textinput",e._elInput={},e._elIcon={},e._labelElement={},e._placeholder="",e._mask="",e._inputType="text",e._pattern="",e._tabIndex=0,e._iconClass="",e._icon="",e._iconPosition="first",e._minLength=0,e._maxLength=0,e._minValue=0,e._maxValue=0,e._size="regular",e._stretch=null,e._scaling=!1,e._minimumFontSize=12,e._scalingUtility={},e._maskingUtility={},e._textTransform="none",e._label="",e._sendEventOnChange="",e._sendEventOnFocus="",e._sendEventOnBlur="",e._receiveStateFocus="",e._receiveStateFocusSub="",e._receiveStateValue="",e._receiveStateValueSub="",e._validityChangeEvent={},e._dirtyCustomEvent={},e._cleanCustomEvent={},e._lastValidState=!1,e._onFocusListener={},e._onBlurListener={},e._onChangeListener={},e._onKeyPressListener={},e._assetsWrapper={},e._onvaliditychange={},e}return _createClass(i,[{key:"tabIndex",get:function(){return this._tabIndex},set:function(e){this.tabIndex===e||null!=e||(e=0),this._tabIndex=e,this._elInput.tabIndex=this.tabIndex}},{key:"placeholder",get:function(){return this.info("get <ch5-textinput placeholder />"),this._placeholder},set:function(e){var t;this.info("set <ch5-textinput placeholder='"+e+"'/>"),(t=s.default.isNil(e)||""===e?"":this._getTranslatedValue("placeholder",e))!==e&&this.setAttribute("placeholder",t),this._placeholder=t,this._elInput.setAttribute("placeholder",t)}},{key:"iconClass",get:function(){return this.info("get <ch5-textinput iconClass />"),this._iconClass},set:function(e){var t=this;this.info("set <ch5-textinput icon='"+e+"'/>"),this.iconClass!==e&&(null!=e||(e=""),this.setAttribute("icon",e)),this._iconClass=e,this._elIcon.className="",void 0!==this._elIcon&&(this.iconClass.split(" ").forEach(function(e){t._elIcon.classList.add(e)}),this._elIcon.classList.add(this.cssClassPrefix+"__icon"))}},{key:"icon",get:function(){return this.info("get <ch5-textinput iconClass />"),this._icon},set:function(e){var t=this;this.info("set <ch5-textinput icon='"+e+"'/>"),this.icon!==e&&(null!=e||(e=""),this.setAttribute("icon",e)),this._icon=e,this._elIcon.className="",void 0!==this._elIcon&&(this.icon.split(" ").forEach(function(e){t._elIcon.classList.add(e)}),this._elIcon.classList.add(this.cssClassPrefix+"__icon"))}},{key:"iconPosition",get:function(){return this.info("get <ch5-textinput iconposition />"),this._iconPosition},set:function(e){this.info("set <ch5-textinput iconposition='"+e+"'/>"),this.iconPosition===e||null!=e||(e="first");var t=i.ICONPOSITION.indexOf(e);-1===t&&(t=0),(e=i.ICONPOSITION[t])!==this.iconPosition&&this.setAttribute("iconPosition",e),this._iconPosition=e,this._elIcon.constructor===HTMLElement&&(this._removeModifierClass(i.ICONPOSITION),this._elIcon.classList.add(this.cssClassPrefix+"__icon--"+e))}},{key:"inputType",get:function(){return this.info("get <ch5-textinput type />"),this._inputType},set:function(e){this.info("set <ch5-textinput type='"+e+"'/>"),this.inputType===e||null!=e||(e="text");var t=i.TYPES.filter(function(t){return t===e});t.length>0?this._inputType=t[0]:this._inputType="text",this._elInput.setAttribute("type",this._inputType)}},{key:"minLength",get:function(){return this.info("get <ch5-textinput minlength />"),this._minLength},set:function(e){this.info('set <ch5-textinput minlength="'+e+'"'),this.minLength===e||null!=e||(e=0),this._minLength=e,this._elInput.setAttribute("minlength",e+""),this._elInput.minLength=e}},{key:"maxLength",get:function(){return this.info("get <ch5-textinput maxlength />"),this._maxLength},set:function(e){this.info('set <ch5-textinput maxlength="'+e+'"'),this.maxLength===e||null!=e||(e=0),this._maxLength=e,this._elInput.maxLength=e,this._elInput.setAttribute("maxlength",String(e))}},{key:"minValue",get:function(){return this.info("get <ch5-textinput minvalue />"),this._minValue},set:function(e){this.info('set <ch5-textinput minvalue="'+e+'"'),!this.minValue||null!=e||(e=0),this._minValue=e,this._elInput.setAttribute("min",String(this.minValue))}},{key:"maxValue",get:function(){return this.info("get <ch5-textinput maxvalue />"),this._maxValue},set:function(e){this.info('set <ch5-textinput maxvalue="'+e+'"'),this.maxValue===e||null!=e||(e=0),this._maxValue=e,this._elInput.setAttribute("max",String(this.maxValue))}},{key:"stretch",get:function(){return this._stretch},set:function(e){var t=this;this.info('set <ch5-textinput stretch="'+e+'"'),this.stretch!==e&&(s.default.isNil(e)?(this._stretch=null,this.removeAttribute("stretch"),i.STRETCH.forEach(function(e){t.classList.remove(t.cssClassPrefix+"--"+e)})):i.STRETCH.indexOf(e)>=0?(this._stretch=e,this.setAttribute("stretch",e),this._addModifierClass(this._stretch,i.STRETCH)):(this._stretch=null,this.removeAttribute("stretch"),i.STRETCH.forEach(function(e){t.classList.remove(t.cssClassPrefix+"--"+e)})))}},{key:"textTransform",get:function(){return this.info("get <ch5-textinput text-transform />"),this._textTransform},set:function(e){this.info('set <ch5-textinput text-transform="'+e+'"'),this.textTransform===e||null!=e||(e="none");var t=i.TEXTTRANSFORM.indexOf(e);-1===t&&(t=0),(e=i.TEXTTRANSFORM[t])!==this.textTransform&&this.setAttribute("text-transform",e),this._textTransform=e,this._addModifierClass(this.textTransform,i.TEXTTRANSFORM,!0)}},{key:"label",get:function(){return this.info("get <ch5-textinput label />"),this._label},set:function(e){var t;this.info('set <ch5-textinput label="'+e+'"'),(t=this.label===e||null!=e?this._getTranslatedValue("label",e):"")!==e&&this.setAttribute("label",t),this._label=t,this._addLabel(),this.iconPositioning()}},{key:"pattern",get:function(){return this.info("get <ch5-textinput pattern />"),this._pattern},set:function(e){this.info('set <ch5-textinput pattern="'+e+'" />'),this.pattern===e||null!=e||(e=""),this._pattern=e,this._elInput.setAttribute("pattern",this.pattern),null!==e&&!1!==this.hasAttribute("mask")&&(this.mask="",this.removeAttribute("mask"),this.repaint())}},{key:"sendEventOnChange",get:function(){return this.info("get <ch5-textinput sendEventOnChange />"),this._sendEventOnChange},set:function(e){this.info('set <ch5-textinput sendEventOnChange="'+e+'"'),this.sendEventOnChange!==e&&(null!=e||(e=""),this.setAttribute("sendEventOnChange",e)),this._sendEventOnChange=e}},{key:"sendEventOnFocus",get:function(){return this.info("get <ch5-textinput sendEventOnFocus />"),this._sendEventOnFocus},set:function(e){this.info('set <ch5-textinput sendEventOnFocus="'+e+'"'),this.sendEventOnFocus!==e&&(null!=e||(e=""),this.setAttribute("sendEventOnFocus",e)),this._sendEventOnFocus=e}},{key:"sendEventOnBlur",get:function(){return this.info("get <ch5-textinput sendEventOnBlur />"),this._sendEventOnBlur},set:function(e){this.info('set <ch5-textinput sendEventOnBlur="'+e+'"'),this.sendEventOnBlur!==e&&(null!=e||(e=""),this.setAttribute("sendEventOnBlur",e)),this._sendEventOnBlur=e}},{key:"receiveStateFocus",get:function(){return this.info("get <ch5-textinput receivestatefocus />"),this._attributeValueAsString("receivestatefocus")},set:function(e){var t=this;if(this.info('set <ch5-textinput receivestatefocus="'+e+'"'),""!==e&&this._receiveStateFocus!==e&&null!=e){this.clearBooleanSignalSubscription(this._receiveStateFocus,this._receiveStateFocusSub),this._receiveStateFocus=e,this.setAttribute("receiveStateFocus",e);var i=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateFocus),n=a.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&(this._receiveStateFocusSub=n.subscribe(function(e){void 0!==e&&t.focusTheInput(e)}))}}},{key:"receiveStateValue",get:function(){return this.info("get <ch5-textinput receivestatevalue />"),this._attributeValueAsString("receivestatevalue")},set:function(e){var t=this;if(this.info('set <ch5-textinput receivestatevalue="'+e+'"'),""!==e&&this._receiveStateValue!==e&&null!=e){this.clearStringSignalSubscription(this._receiveStateValue,this._receiveStateValueSub),this._receiveStateValue=e,this.setAttribute("receivestatevalue",e);var i=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValue),n=a.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&(this._receiveStateValueSub=n.subscribe(function(e){null!=e&&t.updateValue(e,!0)}))}}},{key:"validityChangeEvent",get:function(){return this.info("get <ch5-textinput validitychangeevent />"),this._validityChangeEvent},set:function(e){this.info("set <ch5-textinput validitychangeevent"),this.validityChangeEvent!==e&&null!=e&&(this._validityChangeEvent=e)}},{key:"dirtyCustomEvent",get:function(){return this.info("get <ch5-textinput dirtycustomevent />"),this._dirtyCustomEvent},set:function(e){this.info("set <ch5-textinput dirtycustomevent />"),this.dirtyCustomEvent!==e&&null!=e&&(this._dirtyCustomEvent=e)}},{key:"cleanCustomEvent",get:function(){return this.info("get <ch5-textinput cleancustomevent />"),this._cleanCustomEvent},set:function(e){this.info("set <ch5-textinput cleancustomevent />"),this.cleanCustomEvent!==e&&null!=e&&(this._cleanCustomEvent=e)}},{key:"lastValidState",get:function(){return this.info("get ch5-textinput lastvalidstate />"),this._lastValidState},set:function(e){this.info('set <ch5-textinput lastvalidstate="'+e+'"'),this.lastValidState===e||null!=e||(e=!1),this._lastValidState=e}},{key:"mask",get:function(){return this.info("get <ch5-textinput mask />"),this._mask},set:function(e){this.info('set <ch5-textinput mask="'+e+'"'),this.mask!==e&&(this.mask===e||null!=e||(e=""),this._mask=e,this._elInput.setAttribute("mask",this.mask),this._maskInit(),this.hasAttribute("placeholder")&&(this._maskingUtility.placeholder=this.placeholder))}},{key:"size",get:function(){return this.info("get <ch5-textinput size />"),this._size},set:function(e){this.info('set <ch5-textinput size="'+e+'"');var t=i.SIZES.indexOf(e);-1===t&&(t=0),e=i.SIZES[t],this.size!==e&&(null!=e||(e="regular"),this._size=e,this.setAttribute("size",e)),this._addModifierClass(this.size,i.SIZES,!0),!0===this.scaling&&this._scalingUtility.updateDefaultFontSize()}},{key:"scaling",get:function(){return this.info("get <ch5-textinput scaling />"),this._scaling},set:function(e){this.info('set <ch5-textinput scaling="'+e+'" />'),this.scaling!==e&&(this._scaling=e,!0===this.scaling&&(this._scalingUtility=new o.Ch5TextInputScaling(this._elInput)))}},{key:"minimumFontSize",get:function(){return this.info("get <ch5-textinput minimumfontsize />"),this._minimumFontSize},set:function(e){this.info('set <ch5-textinput minimumfontsize="'+e+'"'),this.minimumFontSize===e||null!=e||(e=12),!1===this.scaling&&(this.scaling=!0),this._minimumFontSize=e,this._scalingUtility.minimumFontSize=this._minimumFontSize}},{key:"onvaliditychange",get:function(){return this._onvaliditychange},set:function(e){s.default.isNil(e)&&(e={}),e instanceof c.default&&this.onvaliditychange instanceof Function||(this._onvaliditychange=e)}},{key:"connectedCallback",value:function(){var e=this;this.info("<ch5-textinput/>.connectedCallback()"),Promise.all([customElements.whenDefined("ch5-textinput")]).then(function(){e.hasAttribute("role")||e.setAttribute("role",h.Ch5RoleAttributeMapping.ch5TextInput),e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e._wasInstatiated||e.createInternalHTML(),e._wasInstatiated=!0,e.initAttributes(),e.attachEventListeners(),e._addAriaAttributes(),e.initCommonMutationObserver(e),e.lastValidState=e.getValid(),e.info("Ch5TextInput --- Callback loaded")})}},{key:"disconnectedCallback",value:function(){this.info("<ch5-textinput/>.disconnectedCallback()"),this.removeEvents(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}},{key:"unsubscribeFromSignals",value:function(){this.info("ch5-textinput unsubscribeFromSignals()"),_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this),this.clearBooleanSignalSubscription(this._receiveStateFocus,this._receiveStateFocusSub),this._receiveStateFocus="",this.clearStringSignalSubscription(this._receiveStateValue,this._receiveStateValueSub),this._receiveStateValue=""}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n&&(_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n),this.info("<ch5-textinput/>.attributeChangedCallback("+e+","+t+","+n+")"),this._wasInstatiated&&""!==n)){switch(e){case"label":this.label=n;break;case"stretch":this.stretch=this.attributeChangeHandler("stretch",t,n);break;case"text-transform":"text"===this.inputType&&(this.textTransform=this.attributeChangeHandler("text-transform",t,n));break;case"value":this.value=n;break;case"placeholder":this.placeholder=n;break;case"pattern":this.pattern=n;break;case"iconclass":this.iconClass=n,this.iconPositioning(),this._addModifierClass(this.size,i.SIZES,!0);break;case"icon":this.icon=n,this.iconPositioning(),this._addModifierClass(this.size,i.SIZES,!0);break;case"iconposition":this.iconPosition=this.attributeChangeHandler("iconposition",t,n),this.iconPositioning();break;case"mask":this.mask=n;break;case"type":this.inputType=this.attributeChangeHandler("type",t,n);break;case"minlength":this.minLength=Number(this.attributeChangeHandler("minlength",t,n));break;case"maxlength":this.maxLength=Number(this.attributeChangeHandler("maxlength",t,n));break;case"minvalue":this.minValue=Number(this.attributeChangeHandler("minvalue",t,n));break;case"maxvalue":this.maxValue=Number(this.attributeChangeHandler("maxvalue",t,n));break;case"size":this.size=this.attributeChangeHandler("size",t,n),this._maskingUtility.constructor===l.Ch5tTextInputMask&&this._maskingUtility._makeMaskElementLookAsInputPlaceholder();break;case"scaling":this.scaling="false"!==n;break;case"minimumfontsize":this.minimumFontSize=Number(this.attributeChangeHandler("minimumfontsize",t,n));break;case"tabindex":this.tabIndex=Number(this.attributeChangeHandler("tabindex",t,n));break;case"feedbackmode":this.feedbackMode=this.attributeChangeHandler("feedbackmode",t,n);break;case"receivestatefocus":this.receiveStateFocus=this.attributeChangeHandler("receivestatefocus",t,n);break;case"receivestatevalue":this.receiveStateValue=this.attributeChangeHandler("receivestatevalue",t,n);break;case"sendeventonchange":this.sendEventOnChange=this.attributeChangeHandler("sendeventonchange",t,n);break;case"sendeventonfocus":this.sendEventOnFocus=this.attributeChangeHandler("sendeventonfocus",t,n);break;case"sendeventonblur":this.sendEventOnBlur=this.attributeChangeHandler("sendeventonblur",t,n)}this._addAriaAttributes()}}},{key:"setValue",value:function(e){this.value=e,this._elInput.value=e}},{key:"submit",value:function(){this.info("<ch5-textinput />.submit()"),"submit"===this.feedbackMode&&!0===this.getValid()&&(this.value!==this.cleanValue&&this.dirtyValue!==this.value&&this._onChangeSignal(this._elInput,this.value),this._submitted=!0,this._dirty=!1,this.dirtyValue=this._elInput.value,this.dirtyTimerHandle(),this._clean=!0)}},{key:"dirtyTimerHandle",value:function(){var e=this;this.info("<ch5-textinput />.dirtyTimeHandle()"),null!==this._dirtyTimerHandle&&clearTimeout(this._dirtyTimerHandle),this._dirtyTimerHandle=window.setTimeout(function(){return e.valueSync()},this.signalValueSyncTimeout)}},{key:"valueSync",value:function(){if(this.info("<ch5-textinput />.valueSync()"),this._dirtyTimerHandle=null,this._elInput.value!==this.cleanValue&&(this._createCleanCustomEvent(),this.dispatchEvent(this.cleanCustomEvent),this.runEventHandlers("clean",this.cleanCustomEvent),this.value=u.Ch5Common.handlingTextTransformValue(this.cleanValue,this.textTransform),this._elInput.value=this.value+"",this._clean=!0,this._dirty=!1,""!==this.mask&&this._maskingUtility.constructor===l.Ch5tTextInputMask)){var e=this._maskingUtility.lastValueLength,t=this.value.length;this._maskingUtility.dispatchMaskUpdateEvent();for(var i=e;i>=t;i--)this._maskingUtility._updateCharactersInMask(),this._maskingUtility.lastValueLength--;if(0===this.value.length){var n=new Event("focus");this._elInput.dispatchEvent(n)}}}},{key:"getCssClassDisabled",value:function(){return this.cssClassPrefix+"--disabled"}},{key:"reset",value:function(){this.info("<ch5-textinput />.reset()"),this._clean=!0,this._dirty=!1,this.value=this._cleanValue,this._elInput.value=this.value+"",this._createCleanCustomEvent(),this.dispatchEvent(this.cleanCustomEvent),this.onclean instanceof c.default?this.onclean.run({}):this.onclean instanceof Function&&this.onclean()}},{key:"updateValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.info("<ch5-textinput />.updateValue("+e+")"),this.dirtyValue=e,this.value=this._elInput.value=e,!0===t&&(this.cleanValue=e),this._elInput.setAttribute("value",this.cleanValue+"")}},{key:"focusTheInput",value:function(e){this.info("<ch5-textinput />.focusTheInput("+e+")"),null!=e||(e=!1),!0===e?this._elInput.focus():this._elInput.blur()}},{key:"getValid",value:function(){return this._elInput.validity.valid&&!this._elInput.validity.tooLong&&!this._elInput.validity.tooShort}},{key:"_onKeyPress",value:function(e){if(this.info("<ch5-textinput />._onKeyUp()"),"direct"===this.feedbackMode){var t=e.currentTarget;this._dirty=!0,this._clean=!1,this.dirtyValue=t.value}}},{key:"_onChange",value:function(e){this.info("<ch5-textinput />._onChange()");var t=e.currentTarget;this.value=e.currentTarget.value,this._dirty=!0,this._clean=!1,"direct"===this.feedbackMode&&(this._onChangeSignal(t,t.value),this.dirtyTimerHandle()),"submit"===this.feedbackMode&&(this._createValidityChangeEvent(t.value),this._createDirtyCustomEvent(t.value),t.dispatchEvent(this.dirtyCustomEvent),this.runEventHandlers("dirty",this.dirtyCustomEvent),this.lastValidState!==this.getValid()&&(t.dispatchEvent(this.validityChangeEvent),this.onvaliditychange instanceof c.default?this.onvaliditychange.run(this.validityChangeEvent):this.onvaliditychange instanceof Function&&this.onvaliditychange.call(this,this.validityChangeEvent)),this.lastValidState=this.getValid()),this.highlightInputIfNotValid()}},{key:"_onFocus",value:function(e){var t;this.info("<ch5-textinput />._onFocus()"),void 0!==this.lastValidState&&null!==this.lastValidState||(this.lastValidState=this.getValid()),this.classList.add(this.primaryCssClass+"--focused"),""===this.sendEventOnFocus||void 0===this.sendEventOnFocus&&null===this.sendEventOnFocus||null!==(t=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnFocus))&&(t.publish(!0),t.publish(!1)),this.highlightInputIfNotValid()}},{key:"_onBlur",value:function(e){var t;this.info("<ch5-textinput />._onBlur()"),this.classList.remove(this.primaryCssClass+"--focused"),""===this.sendEventOnBlur||void 0===this.sendEventOnBlur&&null===this.sendEventOnBlur||null!==(t=a.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnBlur))&&(t.publish(!0),t.publish(!1)),this.highlightInputIfNotValid()}},{key:"_onChangeSignal",value:function(e,t){var i;""!==this.sendEventOnChange&&void 0!==this.sendEventOnChange&&null!==this.sendEventOnChange&&null!==(i=a.Ch5SignalFactory.getInstance().getStringSignal(this.sendEventOnChange))&&i.publish(u.Ch5Common.handlingTextTransformValue(t,this.textTransform))}},{key:"clearComponentContent",value:function(){var e=this.getElementsByClassName(this.cssClassPrefix+i.COMPONENT_CONTENT_POSTFIX);Array.from(e).forEach(function(e){e.remove()})}},{key:"createInternalHTML",value:function(){this.info("<ch5-textinput />.createInternalHTML()"),this.clearComponentContent(),this.classList.add(this.primaryCssClass),this._elIcon=document.createElement("i"),this._elIcon.classList.add(this.cssClassPrefix+"__icon"),this._elInput=document.createElement("input"),this._elInput.classList.add(this.cssClassPrefix+"__input"),this._assetsWrapper=document.createElement("div"),this._assetsWrapper.classList.add(this.cssClassPrefix+i.COMPONENT_CONTENT_POSTFIX),this._assetsWrapper.appendChild(this._elInput),this.appendChild(this._assetsWrapper),this.info("END: Rendering has been finished")}},{key:"iconPositioning",value:function(){this.info("<ch5-textinput />.iconPositioning()"),(void 0===this.iconClass||""===this.iconClass||void 0===this._elInput&&null===this._elInput)&&(void 0===this.icon||""===this.icon||void 0===this._elInput&&null===this._elInput)||this.iconPositioningHandler()}},{key:"iconPositioningHandler",value:function(){this.info("<ch5-textinput />.iconPositioningHandler()"),this._elIcon.constructor===HTMLElement&&(this.info("** 1. IN"),this._elIcon.remove()),this.info("** 2. this.iconPosition: "+this.iconPosition),this.iconPosition===i.ICONPOSITION[1]?(this.info("** 3. IN"),this._assetsWrapper.appendChild(this._elIcon)):(this.info("** 4. IN"),this._elInput.parentNode.insertBefore(this._elIcon,this._elInput))}},{key:"initAttributes",value:function(){if(_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.inputType=this.getAttribute("type"),this.size=this.getAttribute("size"),this.stretch=this.getAttribute("stretch"),this.value=this._elInput.value=this.getAttribute("value"),this.info("<ch5-textinput />.initAttributes()"),this.hasAttribute("pattern")&&(this.pattern=this.getAttribute("pattern")),this.hasAttribute("mask")&&!this.hasAttribute("pattern")&&(this.mask=this.getAttribute("mask")),this.hasAttribute("type")||this.setAttribute("type",this.inputType),this.hasAttribute("size")||this.setAttribute("size",this.size),"text"===this.inputType&&(this.textTransform=this.getAttribute("text-transform")),this.hasAttribute("placeholder")&&(this.placeholder=this.getAttribute("placeholder")),this.hasAttribute("value")&&(this.value=this.getAttribute("value"),this.cleanValue=this.value),this.hasAttribute("iconClass")&&(this.iconClass=this.getAttribute("iconClass"),this.iconPosition=this.getAttribute("iconPosition"),this.setAttribute("iconPosition",this.iconPosition),this.iconPositioning(),this._addModifierClass(this.size,i.SIZES,!0)),this.hasAttribute("icon")&&(this.icon=this.getAttribute("icon"),this.iconPosition=this.getAttribute("iconPosition"),this.setAttribute("iconPosition",this.iconPosition),this.iconPositioning(),this._addModifierClass(this.size,i.SIZES,!0)),this.hasAttribute("label")&&(this.label=this.getAttribute("label")),"submit"===this.feedbackMode&&this.hasAttribute("minlength")&&(this.minLength=Number(this.getAttribute("minlength"))),"submit"===this.feedbackMode&&this.hasAttribute("maxlength")&&(this.maxLength=Number(this.getAttribute("maxlength"))),"number"===this.inputType&&"submit"===this.feedbackMode&&(this.hasAttribute("minValue")&&(this.minValue=Number(this.getAttribute("minvalue"))),this.hasAttribute("maxValue")&&(this.maxValue=Number(this.getAttribute("maxvalue")))),this.hasAttribute("scaling")){var e="false"!==this.getAttribute("scaling");this.setAttribute("scaling",e+"")}this.hasAttribute("minimumfontsize")&&(this.minimumFontSize=Number(this.getAttribute("minimumfontsize"))),this.hasAttribute("sendeventonchange")&&(this.sendEventOnChange=this.getAttribute("sendeventonchange")),this.hasAttribute("sendeventonfocus")&&(this.sendEventOnFocus=this.getAttribute("sendeventonfocus")),this.hasAttribute("sendeventonblur")&&(this.sendEventOnBlur=this.getAttribute("sendeventonblur")),this.hasAttribute("receivestatefocus")&&(this.receiveStateFocus=this.getAttribute("receivestatefocus")),this.hasAttribute("receivestatevalue")&&(this.receiveStateValue=this.getAttribute("receivestatevalue")),this.hasAttribute("onvaliditychange")&&(this.onvaliditychange=new c.default(this,this.getAttribute("onvaliditychange")))}},{key:"attachEventListeners",value:function(){this.info("<ch5-textinput />.attachEventListeners()"),this.removeEvents(),this._onChangeListener=this._onChange.bind(this),this._onBlurListener=this._onBlur.bind(this),this._onFocusListener=this._onFocus.bind(this),this._onKeyPressListener=this._onKeyPress.bind(this),this._elInput.addEventListener("keyup",this._onChangeListener),this._elInput.addEventListener("focus",this._onFocusListener),this._elInput.addEventListener("blur",this._onBlurListener),this._elInput.addEventListener("input",this._onKeyPressListener)}},{key:"removeEvents",value:function(){this.info("<ch5-textinput />.removeEvents()"),_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),s.default.isElement(this._elInput)&&(this._elInput.removeEventListener("keyup",this._onChangeListener),this._elInput.removeEventListener("focus",this._onFocusListener),this._elInput.removeEventListener("blur",this._onBlurListener),this._elInput.removeEventListener("input",this._onKeyPressListener))}},{key:"_maskInit",value:function(){this.info("<ch5-textinput />._maskInit()"),this._maskingUtility=new l.Ch5tTextInputMask(this._elInput,this.mask),this._maskingUtility.init()}},{key:"_createValidityChangeEvent",value:function(e){this.info("<ch5-textinput />._createValidityChangeEvent("+e+")"),this.validityChangeEvent=this._createCustomEvent("validitychange",e)}},{key:"_createDirtyCustomEvent",value:function(e){this.info("<ch5-textinput />._createDirtyCustomEvent("+e+")"),this.dirtyCustomEvent=this._createCustomEvent("dirty",e)}},{key:"_createCleanCustomEvent",value:function(){this.info("<ch5-textinput />._createCleanCustomEvent()"),this.cleanCustomEvent=this._createCustomEvent("clean")}},{key:"_createCustomEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.info("<ch5-textinput />._createCustomEvent("+e+","+t+")"),new CustomEvent(e,{detail:{message:t,time:new Date},bubbles:!0,cancelable:!0})}},{key:"_addLabel",value:function(){if(this.info("<ch5-textinput />._addLabel()"),null===this.querySelector("label")){this._labelElement=document.createElement("label"),this._labelElement.innerHTML=this.label,this._labelElement.classList.add(this.cssClassPrefix+"__label");var e=this._assetsWrapper;void 0!==this._elIcon&&this._elIcon.constructor===HTMLLabelElement&&(e=this._elIcon),e.parentNode.insertBefore(this._labelElement,e)}else this._labelElement instanceof HTMLElement&&(this._labelElement.innerHTML=this.label)}},{key:"_addModifierClass",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.info("<ch5-textinput />._addModifierClass("+e+","+i+")"),this._removeModifierClass(t),this.classList.add(this.cssClassPrefix+"--"+e),!0===i&&(this._elInput.classList.add(this.cssClassPrefix+"__input--"+e),this._assetsWrapper.classList.add(this.cssClassPrefix+"__assets--"+e),void 0!==this._labelElement&&this._labelElement.constructor===HTMLLabelElement&&this._labelElement.classList.add(this.cssClassPrefix+"__label--"+e),void 0!==this._elIcon&&this._elIcon.constructor===HTMLElement&&this._elIcon.classList.add(this.cssClassPrefix+"__icon--"+e))}},{key:"_removeModifierClass",value:function(e){var t=this;this.info("<ch5-textinput />._removeModifierClass()"),e.forEach(function(e){t.classList.remove(t.cssClassPrefix+"--"+e),t._elInput.classList.remove(t.cssClassPrefix+"__input--"+e),void 0!==t._labelElement&&t._labelElement.constructor===HTMLLabelElement&&t._labelElement.classList.remove(t.cssClassPrefix+"__label--"+e),t._elIcon.constructor===HTMLElement&&t._elIcon.classList.remove(t.cssClassPrefix+"__icon--"+e)})}},{key:"_addAriaAttributes",value:function(){this._elInput.setAttribute("aria-placeholder",this.placeholder),this._elInput.setAttribute("aria-multiline","false"),this._elInput.setAttribute("role","textbox"),!0===this.required?this._elInput.setAttribute("aria-required","true"):this._elInput.setAttribute("aria-required","false"),this._labelElement.constructor===HTMLLabelElement&&(this._labelElement.setAttribute("aria-label",this.label),this._elInput.setAttribute("aria-labeledby",this.label)),this._elIcon.constructor===HTMLElement&&this._elIcon.setAttribute("role","icon")}}],[{key:"observedAttributes",get:function(){var e=r.Ch5CommonInput.observedAttributes,t=u.Ch5Common.observedAttributes;return["icon","iconclass","iconposition","label","stretch","text-transform","value","type","minlength","maxlength","minvalue","maxvalue","size","tabindex","feedbackmode","scaling","minimumfontsize","mask","pattern","placeholder","receivestatefocus","receivestatevalue","sendeventonchange","sendeventonfocus","sendeventonblur"].concat(e,t)}},{key:"registerSignalAttributeTypes",value:function(){d.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}}]),i}();t.Ch5Textinput=f,f.ELEMENT_NAME="ch5-textinput",f.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},u.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatefocus:{direction:"state",booleanJoin:1,contractName:!0},receivestatevalue:{direction:"state",stringJoin:1,contractName:!0},sendeventonchange:{direction:"event",stringJoin:1,contractName:!0},sendeventonfocus:{direction:"event",booleanJoin:1,contractName:!0},sendeventonblur:{direction:"event",booleanJoin:1,contractName:!0}}),f.TYPES=["text","number","email"],f.SIZES=["regular","x-small","small","large","x-large"],f.STRETCH=["fixed","width","content"],f.TEXTTRANSFORM=["none","capitalize","uppercase","lowercase"],f.ICONPOSITION=["first","last"],f.COMPONENT_DATA={TYPES:{default:f.TYPES[0],values:f.TYPES,key:"type",classListPrefix:"ch5-textinput--"},SIZES:{default:f.SIZES[0],values:f.SIZES,key:"size",classListPrefix:"ch5-textinput--"},STRETCH:{default:f.STRETCH[0],values:f.STRETCH,key:"stretch",classListPrefix:"ch5-textinput--"},TEXT_TRANSFORM:{default:f.TEXTTRANSFORM[0],values:f.TEXTTRANSFORM,key:"text_transform",classListPrefix:"ch5-textinput--"},ICON_POSITION:{default:f.ICONPOSITION[0],values:f.ICONPOSITION,key:"icon_position",classListPrefix:"ch5-textinput--"}},f.COMPONENT_CONTENT_POSTFIX="__assets","object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(f.ELEMENT_NAME,f),f.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(183),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5TriggerViewSwiper=void 0,t.Ch5TriggerViewSwiper=function(){function e(t){_classCallCheck(this,e),this.slides=[],this._activeView=0}return _createClass(e,[{key:"activeView",get:function(){return this._activeView},set:function(e){this._activeView=e}},{key:"incrementActiveView",value:function(e){!0===e?this._activeView!==this.slides.length-1?this._activeView+=1:this._activeView=0:this._activeView!==this.slides.length-1&&(this._activeView+=1)}},{key:"decrementActiveView",value:function(e){!0===e?0!==this._activeView?this._activeView-=1:this._activeView=this.slides.length-1:0!==this._activeView&&(this._activeView-=1)}}]),e}()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5TriggerViewSlidesManager=void 0;var s=n(i(99)),r=i(16),a=i(1),o=i(70),l=i(0),u=i(185),c=n(i(1)),h=function(){function e(t){_classCallCheck(this,e),this.triggerViewEl={},this._slidesGap=0,this.isSwiperInitialized=!1,this.isCh5SwiperInitialized=!1,this._swiper=null,this._ch5Swiper=null,this._transitionSpeed=200,this._externalWrapper=null,this._slidesWrapper=null,this._touchMoveListRelatedEventDisabled=!1,this.triggerViewEl=t}return _createClass(e,[{key:"prepareSwiperSlides",value:function(){var e=this.getTriggerViewChildSlides();this._externalWrapper||this._createSlidesWrappers(),this.initSlides(e),this._computeSizes()}},{key:"initSwiper",value:function(){var t=this,i=this.triggerViewEl.getCrId();if(!1===this.triggerViewEl.gestureable&&!0===this.triggerViewEl.disableAnimation){c.default.isNil(this._slidesWrapper)||this._slidesWrapper.classList.add("slider-full-width-page"),this._ch5Swiper=new u.Ch5TriggerViewSwiper("#".concat(i," .").concat(e.TRIGGERVIEW_SLIDER_CONTAINER_CLASS)),this.isSwiperInitialized=!1,this.isCh5SwiperInitialized=!0;var n=this.getTriggerViewChildSlides();this._ch5Swiper.slides=n,this._ch5Swiper.activeView=this.triggerViewEl.activeView,this.setActiveIndexForLite()}else c.default.isNil(this._slidesWrapper)||this._slidesWrapper.classList.remove("slider-full-width-page"),this._swiper=new s.default("#".concat(i," .").concat(e.TRIGGERVIEW_SLIDER_CONTAINER_CLASS),{slidesPerView:1,spaceBetween:this._slidesGap,loop:this.triggerViewEl.endless,speed:this._getSlidingSpeed(),touchRatio:1.4,followFinger:!0,threshold:this.triggerViewEl.swipeThreshold,touchStartPreventDefault:!1,touchMoveStopPropagation:!1,nested:this.triggerViewEl.nested,updateOnImagesReady:!0,initialSlide:this.getInitialSlide()}),this.isSwiperInitialized=!0,this.isCh5SwiperInitialized=!1,this._swiper.on("slideChange",function(){t._updateActiveSlideAttributes(),t._updateTriggerViewElActiveViewWhenChangedBySwiper(),(0,l.publishEvent)("b","triggerview.slidechange",!0)}),this._swiper.on("slideChangeTransitionStart",function(){(0,l.publishEvent)("b","triggerview.slidemove",!0)}),this.setAllowTouchMove(this.triggerViewEl.gestureable),this._swiper.on("touchStart",function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var s=i[0].target;t.eventTargetBelongsToCh5List(s)&&(t.setAllowTouchMove(!1),t._touchMoveListRelatedEventDisabled=!0)}),this._swiper.on("touchEnd",function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var s=i[0].target;(t.eventTargetBelongsToCh5List(s)||t._touchMoveListRelatedEventDisabled)&&(t.setAllowTouchMove(t.triggerViewEl.gestureable),t._touchMoveListRelatedEventDisabled=!1),(0,l.publishEvent)("b","triggerview.touchend",!0)})}},{key:"getInitialSlide",value:function(){return this.triggerViewEl&&0!==this.triggerViewEl.activeView?this.triggerViewEl.activeView:0}},{key:"setActiveIndexForLite",value:function(){if(this._ch5Swiper){var e=this._ch5Swiper.activeView;e!==this.triggerViewEl.activeView&&(this.triggerViewEl.activeView=this._ch5Swiper.activeView);var t=this.getTriggerViewChildSlides();Array.from(t).forEach(function(t,i){t.style.width="100%",i!==e?(t.setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true"),t.setAttribute("inert","true"),t.classList.add("ch5-hide-dis"),t.removeAttribute("selected")):(t.setAttribute("tabindex","1"),t.setAttribute("aria-hidden","false"),t.removeAttribute("inert"),t.classList.remove("ch5-hide-dis"),t.setAttribute("selected",""))})}}},{key:"eventTargetBelongsToCh5List",value:function(e){var t=!!e&&null!==e.closest("ch5-slider"),i=!1;if(e&&null!==e.closest("ch5-list")){var n=e.closest("ch5-list");n.hasAttribute("orientation")&&(i="horizontal"===n.getAttribute("orientation"))}return t||i}},{key:"reinitializeSwiper",value:function(){this.swiperIsActive()?(this.destroySwiper(),this.initSwiper()):this.ch5SwiperIsActive()&&(this._ch5Swiper=null,this.initSwiper())}},{key:"swiperSensitivity",set:function(e){this.triggerViewEl.swipeThreshold=e,null!==this._swiper&&(this._swiper.params.threshold=e)}},{key:"swiperIsActive",value:function(){return this._swiper instanceof s.default&&!c.default.isNil(this._swiper)&&!0===this.isSwiperInitialized}},{key:"ch5SwiperIsActive",value:function(){return this._ch5Swiper instanceof u.Ch5TriggerViewSwiper&&!c.default.isNil(this._ch5Swiper)&&!0===this.isCh5SwiperInitialized}},{key:"destroySwiper",value:function(){this.swiperIsActive()&&this._swiper&&this._swiper.$el&&this._swiper.destroy(!0,!1)}},{key:"getSlidesNumber",value:function(){return!this.swiperIsActive()||(0,a.isNil)(this._swiper)||(0,a.isNil)(this._swiper.slides)?!this.ch5SwiperIsActive()||(0,a.isNil)(this._ch5Swiper)||(0,a.isNil)(this._ch5Swiper.slides)?this.getTriggerViewChildSlides().length:this._ch5Swiper.slides.length:this._swiper.slides.length}},{key:"initSlides",value:function(t){var i=this;o.Ch5CustomAttributes.preventUnsubscribe=!0;var n="list"===this.triggerViewEl.getAttribute("role");Array.from(t).forEach(function(t,s){var r=t.hasAttribute("selected")||s===i.triggerViewEl.activeView;t.setAttribute("tabindex",r?"1":"-1"),t.setAttribute("aria-hidden",String(!r)),r?(t.removeAttribute("inert"),t.hasAttribute("selected")||t.setAttribute("selected","")):t.setAttribute("inert","true"),n&&t.setAttribute("role","listitem"),t.classList.add(e.TRIGGERVIEW_SLIDE_CLASS),i._slidesWrapper.appendChild(t)})}},{key:"swipeTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if(this.swiperIsActive()){var n=c.default.isNil(i)?this._transitionSpeed:i,s=this.triggerViewEl.endless?e+1:e;if(s!==this._swiper.activeIndex&&this._swiper.hasOwnProperty("snapGrid")){var r=t?0:n;try{this._swiper.slideTo(s,r)}catch(e){}this._updateActiveSlideAttributes()}}else this.ch5SwiperIsActive()&&!c.default.isNil(this._ch5Swiper)&&(this._ch5Swiper.activeView=e,this.setActiveIndexForLite())}},{key:"getChildElSwipeIndex",value:function(e){var t=null;if(this.swiperIsActive()){var i=null,n=null;(0,a.isNil)(this._swiper)||(0,a.isNil)(this._swiper.slides)||Array.from(this._swiper.slides).forEach(function(t,s){t.classList.contains("swiper-slide-duplicate")||e!==t||(i=t,n=s)}),null!==i&&(t=this.triggerViewEl.endless?Number(i.getAttribute("data-swiper-slide-index")):n)}else if(this.ch5SwiperIsActive()&&!(0,a.isNil)(this._ch5Swiper)){var s=null,r=null;Array.from(this._ch5Swiper.slides).forEach(function(t,i){e===t&&(s=t,r=i)}),null!==s&&(t=this.triggerViewEl.endless?Number(s.getAttribute("data-swiper-slide-index")):r)}return isNaN(t)?null:t}},{key:"slideNext",value:function(){this.swiperIsActive()?this._swiper.slideNext(this._getSlidingSpeed()):this.ch5SwiperIsActive()&&!c.default.isNil(this._ch5Swiper)&&(this._ch5Swiper.incrementActiveView(this.triggerViewEl.endless),this.setActiveIndexForLite())}},{key:"slidePrevious",value:function(){this.swiperIsActive()?this._swiper.slidePrev(this._getSlidingSpeed()):this.ch5SwiperIsActive()&&!c.default.isNil(this._ch5Swiper)&&(this._ch5Swiper.decrementActiveView(this.triggerViewEl.endless),this.setActiveIndexForLite())}},{key:"setAllowTouchMove",value:function(e){this.swiperIsActive()&&(this._swiper.allowTouchMove=e)}},{key:"refreshSlideSpeed",value:function(){this.swiperIsActive()&&(this._swiper.params.speed=this._getSlidingSpeed())}},{key:"getActiveIndex",value:function(){return this.swiperIsActive()?this._swiper.realIndex:this.ch5SwiperIsActive()&&!c.default.isNil(this._ch5Swiper)?this._ch5Swiper.activeView:this._swiper.realIndex}},{key:"getSwiperParam",value:function(e){return this.swiperIsActive()?this._swiper.params[e]:null}},{key:"getTriggerViewChildSlides",value:function(){return this.swiperIsActive()?Array.from(this.triggerViewEl.children).filter(function(t){return t.tagName.toLowerCase()===e.TRIGGERVIEW_CHILD_SELECTOR}):this.ch5SwiperIsActive()?this.triggerViewEl.children&&this.triggerViewEl.children.length>1&&this.triggerViewEl.children[1].children&&this.triggerViewEl.children[1].children.length>0?Array.from(this.triggerViewEl.children[1].children[0].children).filter(function(t){return t.tagName.toLowerCase()===e.TRIGGERVIEW_CHILD_SELECTOR}):[]:Array.from(this.triggerViewEl.children).filter(function(t){return t.tagName.toLowerCase()===e.TRIGGERVIEW_CHILD_SELECTOR})}},{key:"_createSlidesWrappers",value:function(){this._externalWrapper=document.createElement("div"),this._externalWrapper.classList.add(e.TRIGGERVIEW_SLIDER_CONTAINER_CLASS),this._slidesWrapper=document.createElement("div"),this._slidesWrapper.classList.add(e.TRIGGERVIEW_SLIDES_WRAPPER_CLASS),this._externalWrapper.appendChild(this._slidesWrapper),this.triggerViewEl.appendChild(this._externalWrapper)}},{key:"_computeSizes",value:function(){this._slidesGap=this._getSlidesGap()}},{key:"_getSlidesGap",value:function(){/\d$/.test((0,r.getCSSCustomProperty)(this.triggerViewEl,"--ch5-triggerview-gap"))&&console.warn("Warning: it looks like --ch5-triggerview-gap has a unitless value.\n            Add CSS units to its value to avoid breaking the slides layout.");var t=this.triggerViewEl.querySelector(e.TRIGGERVIEW_CHILD_SELECTOR);if(t){var i=parseInt(window.getComputedStyle(t).getPropertyValue("margin-right"),10);return Number.isFinite(i)?i:0}return 0}},{key:"_updateActiveSlideAttributes",value:function(){if(this.swiperIsActive()){var e=this._swiper.activeIndex;Array.from(this._swiper.slides).forEach(function(t,i){i!==e?(t.setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true"),t.setAttribute("inert","true"),t.removeAttribute("selected")):(t.setAttribute("tabindex","1"),t.setAttribute("aria-hidden","false"),t.removeAttribute("inert"),t.setAttribute("selected",""))})}}},{key:"_updateTriggerViewElActiveViewWhenChangedBySwiper",value:function(){this.triggerViewEl.setAttribute("activeView",String(this.getActiveIndex()))}},{key:"_getSlidingSpeed",value:function(){return this.triggerViewEl.disableAnimation?0:this.triggerViewEl.gestureable?this._transitionSpeed:0}},{key:"getSlidesArray",value:function(){return!this.swiperIsActive()||(0,a.isNil)(this._swiper)||(0,a.isNil)(this._swiper.slides)?(!this.ch5SwiperIsActive()||(0,a.isNil)(this._ch5Swiper)||(0,a.isNil)(this._ch5Swiper.slides),this.getTriggerViewChildSlides()):this._swiper.slides}}]),e}();t.Ch5TriggerViewSlidesManager=h,h.TRIGGERVIEW_SLIDER_CONTAINER_CLASS="swiper",h.TRIGGERVIEW_SLIDES_WRAPPER_CLASS="swiper-wrapper",h.TRIGGERVIEW_SLIDE_CLASS="swiper-slide",h.TRIGGERVIEW_CHILD_SELECTOR="ch5-triggerview-child"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5TriggerView=void 0;var n=i(16),s=i(3),r=i(0),a=i(186),o=i(1),l=i(4),u=i(2),c=document.createElement("template");c.innerHTML='<style>\n/*******************************************************************************\n Host and CSS properties\n*******************************************************************************/\n\n:host {\n    position: relative;\n\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n\n    contain: content;\n\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\n\n    --ch5-triggerview-gap: 16px;\n\n    --ch5-triggerview-background-color: transparent;\n\n    --ch5-triggerview-slide-min-height: 0px;\n    --ch5-triggerview-slide-max-height: none;\n\n    --ch5-triggerview-transition-duration: 0.6s;\n    --ch5-triggerview-transition-timing-function: ease-in-out;\n\n    --ch5-triggerview-fallback-message-color-background: #fff;\n\n    --ch5-triggerview__internal__slides-per-view: 1;\n    \n    overflow: hidden;\n}\n\n:host([hidden]) {\n    display: none\n}\n\n/*******************************************************************************\nSlides wrapper: flexbox container, is the transitioning element when moving the slides.\n*******************************************************************************/\n#slidesWrapper {\n    display: flex;\n    align-items: stretch;\n\n    height: 100%;\n    min-height: var(--ch5-triggerview-slide-min-height);\n    max-height: var(--ch5-triggerview-slide-max-height);\n\n    will-change: transform;\n}\n\n:host([transitioning]) #slidesWrapper {\n    transition-property: transform;\n    transition-duration: var(--ch5-triggerview-transition-duration);\n    transition-timing-function: var(--ch5-triggerview-transition-timing-function);\n}\n\n/*******************************************************************************\nSlides: width is calculated with a css formula\n*******************************************************************************/\n#slidesWrapper ::slotted(*) {\n    flex-grow: 0;\n    flex-shrink: 0;\n    /* (100% - gap * (slidesPerView - 1)) / slidesPerView */\n    flex-basis: calc((100% - (var(--ch5-triggerview__internal__slides-per-view) - 1) *\n        var(--ch5-triggerview-gap)) / var(--ch5-triggerview__internal__slides-per-view));\n\n    min-height: var(--ch5-triggerview-slide-min-height);\n    max-height: var(--ch5-triggerview-slide-max-height);\n\n    margin-right: var(--ch5-triggerview-gap);\n\n    /*\n        * Enforces the slides to keep their size even if the content requires\n        * a bigger slide size.\n        */\n    overflow: hidden;\n\n    outline: 0;\n\n    user-select: auto;\n}\n\n.slidesFallback {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    margin: 0;\n    padding: .5em 1em;\n\n    width: 100%;\n\n    background-color: var(--ch5-triggerview-fallback-message-color-background);\n}\n\n:host([gestureable=true]) #slidesWrapper ::slotted(*) {\n    user-select: none;\n}\n\n/*******************************************************************************\n  aria-live styles\n*******************************************************************************/\n#aria-live ::slotted(*) {\n    position: absolute;\n    height: 1px;\n    width: 1px;\n    margin: -1px;\n    padding: 0;\n    clip: rect(0 0 0 0);\n    overflow: hidden;\n    border: 0;\n}\n\n/*******************************************************************************\n * Print styles:\n * - Show all slides and stack them vertically\n * - Eliminate the slide gap, show an outline\n * - make sure the page doesn\'t break a slide in half\n *******************************************************************************/\n\n@media print {\n    #slidesWrapper ::slotted(*) {\n        margin-right: 0;\n        margin-bottom: .2em;\n        outline: 1px solid #000;\n        color: #000;\n        page-break-inside: avoid;\n    }\n\n    /* Stack the slides */\n    #slidesWrapper {\n        display: block;\n        transform: none !important;\n        transition: 0s;\n    }\n}\n</style> \n  <slot id="slidesSlot">\n    <p class="slidesFallback">No content available</p>\n  </slot>\n  <div id="aria-live">\n    <slot id="ariaSlot" name="ariaSlot"></slot>\n  </div>';var h=function(e){_inherits(i,s.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).primaryCssClass="ch5-triggerview",e.cssClassPrefix="ch5-triggerview",e._activeViewCallback={},e._swipeThreshold=30,e._activeView=0,e._ariaLiveRegion={},e._sendEventShowChildIndexSigName="",e._receiveStateShowChildIndexSigName="",e._subReceiveStateShowChildIndexId="",e._signalIsReceived=!1,e.slidesManager={},e._nested=!1,e.info("Ch5TriggerView.constructor()"),e._listOfAllPossibleComponentCssClasses=e.generateListOfAllPossibleComponentCssClasses(),e.attachShadow({mode:"open"}),e.shadowRoot.appendChild(c.content.cloneNode(!0)),e._slidesSlot=e.shadowRoot.querySelector("#slidesSlot"),e._ariaSlot=e.shadowRoot.querySelector("#ariaSlot"),e.slidesManager=new a.Ch5TriggerViewSlidesManager(_assertThisInitialized(e)),e}return _createClass(i,[{key:"activeViewCallback",get:function(){return this._activeViewCallback},set:function(e){e instanceof Function&&(this._activeViewCallback=e)}},{key:"activeView",get:function(){return(0,n.intGetter)(this,"activeview",0)},set:function(e){if(e=Number(e),isNaN(e)&&(e=0),this.slidesManager.swiperIsActive()){var t=this.computeTransitionByDistance(e);this.slidesManager.swipeTo(this.activeView,this.disableAnimation,t)}else this.slidesManager.ch5SwiperIsActive()&&this.slidesManager.swipeTo(this.activeView,!1,0);if(this.dispatchEvent(new CustomEvent("select",{detail:e,bubbles:!1})),this._sendEventShowChildIndexSigName!==this._receiveStateShowChildIndexSigName){var i=null;""!==this._sendEventShowChildIndexSigName&&void 0!==this._sendEventShowChildIndexSigName&&null!==this._sendEventShowChildIndexSigName&&null!==(i=r.Ch5SignalFactory.getInstance().getNumberSignal(this._sendEventShowChildIndexSigName))&&i.publish(this.activeView)}this._updateAriaLiveDom(),this.activeViewCallback instanceof Function&&this.activeViewCallback(),(0,n.intSetter)(this,"activeview",e),this._activeView=e}},{key:"getSwiperSensitivity",get:function(){return this.swipeThreshold}},{key:"endless",get:function(){return(0,n.booleanGetter)(this,"endless")},set:function(e){(0,n.booleanSetter)(this,"endless",e);var t=this.slidesManager.getSwiperParam("loop"),i=this.getAttribute("endless"),s=this.toBoolean(i,!0);"boolean"==typeof t&&t!==s&&this.slidesManager.reinitializeSwiper()}},{key:"gestureable",get:function(){return(0,n.booleanGetter)(this,"gestureable")},set:function(e){if(this.disableAnimation)this.slidesManager.reinitializeSwiper();else{var t=this.getAttribute("gestureable");this.slidesManager.setAllowTouchMove(this.toBoolean(t,!0)),this.slidesManager.refreshSlideSpeed()}(0,n.booleanSetter)(this,"gestureable",e)}},{key:"disableAnimation",get:function(){return(0,n.booleanGetter)(this,"disableanimation")},set:function(e){(0,n.booleanSetter)(this,"disableanimation",e);var t=this.slidesManager.getSwiperParam("followFinger"),i=(0,n.booleanGetter)(this,"disableanimation");"boolean"==typeof t&&!t!==i&&this.slidesManager.reinitializeSwiper()}},{key:"sendEventShowChildIndex",get:function(){return this._sendEventShowChildIndexSigName},set:function(e){this.info("set _sendEventShowChildIndexSigName('"+e+"')"),""!==e&&this._sendEventShowChildIndexSigName!==e&&(this._sendEventShowChildIndexSigName=e,this.setAttribute("sendeventshowchildindex",e))}},{key:"receiveStateShowChildIndex",get:function(){return this._attributeValueAsString("receivestateshowchildindex")},set:function(e){var t=this;if(this.info("set receiveStateShowChildIndex('"+e+"')"),""!==e&&this._receiveStateShowChildIndexSigName!==e&&null!=e){if(""!==this._receiveStateShowChildIndexSigName&&void 0!==this._receiveStateShowChildIndexSigName&&null!==this._receiveStateShowChildIndexSigName){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowChildIndexSigName),n=r.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==n&&n.unsubscribe(this._subReceiveStateShowChildIndexId)}this._receiveStateShowChildIndexSigName=e,this.setAttribute("receivestateshowchildindex",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowChildIndexSigName),a=r.Ch5SignalFactory.getInstance().getNumberSignal(s);null!==a&&(this._subReceiveStateShowChildIndexId=a.subscribe(function(e){!isNaN(e)&&a.hasChangedSinceInit()?(t._signalIsReceived=!0,t.activeView=e):t.info("Ch5TriggerView receiveStateShowChildIndex signal value for "+t.getAttribute("data-ch5-id")+" is invalid")}))}}},{key:"swipeThreshold",get:function(){return this._swipeThreshold},set:function(e){(0,o.isNil)(e)||isNaN(e)||(this._swipeThreshold=e)}},{key:"nested",get:function(){return this._nested},set:function(e){e!==this._nested&&(this._nested=e,this._nested?this.setAttribute("nested",""):this.removeAttribute("nested"),this.slidesManager.reinitializeSwiper())}},{key:"connectedCallback",value:function(){var e=this,t=function(){e.info("Ch5TriggerView.connectedCallback()"),e.hasAttribute("role")||e.setAttribute("role",l.Ch5RoleAttributeMapping.ch5TriggerView),e.cacheComponentChildrens(),e.initAttributes(),e.updateCssClasses(),e.attachEventListeners(),e._onSlidesSlotChange(),e.id=e.getCrId(),e.slidesManager.prepareSwiperSlides(),e.slidesManager.initSwiper()};this.closest("ch5-modal-dialog")?(0,r.subscribeInViewPortChange)(this,function(){e.info("ch5-triggerview.subscribeInViewPortChange()"),e.elementIsInViewPort&&!e.wasInstantiatedInViewport&&(e._updateSizeStyleProperties(),t(),e.wasInstantiatedInViewport=!0)}):setTimeout(t)}},{key:"disconnectedCallback",value:function(){this.info("Ch5TriggerView.disconnectedCallback()"),this.removeEvents(),this.unsubscribeFromSignals(),this.slidesManager.destroySwiper()}},{key:"handleEvent",value:function(e){"slotchange"===e.type&&e.target===this._slidesSlot&&this._onSlidesSlotChange()}},{key:"previousViewChild",value:function(){this.slidesManager.slidePrevious()}},{key:"nextViewChild",value:function(){this.slidesManager.slideNext()}},{key:"setActiveViewChild",value:function(e){var t=this.slidesManager.getChildElSwipeIndex(e);null!==t&&(this.activeView=t)}},{key:"setActiveView",value:function(e){this.activeView=e}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n){switch(this.info('Ch5TriggerView attributeChangedCallback("'+e+'","'+t+'","'+n+')"'),0===this.slidesManager.getSlidesNumber()&&this._onSlidesSlotChange(),e){case"activeview":if(t!==n){var s=parseInt(n,10);if(this.slidesManager.getSlidesNumber()>=0&&(s>this.slidesManager.getSlidesNumber()||s<0))return void(this.activeView=0);this.activeView=s}break;case"endless":var r=this.getAttribute("endless");this.endless=this.toBoolean(r,!0);break;case"gestureable":var a=this.getAttribute("gestureable");this.gestureable=this.toBoolean(a,!0);break;case"disableanimation":var o=this.getAttribute("disableanimation");this.disableAnimation=this.toBoolean(o,!0);break;case"sendeventshowchildindex":this.hasAttribute("sendeventshowchildindex")?this.sendEventShowChildIndex=n:this.sendEventShowChildIndex="";break;case"receivestateshowchildindex":this.hasAttribute("receivestateshowchildindex")?this.receiveStateShowChildIndex=n:this.receiveStateShowChildIndex="";break;case"nested":var l=this.getAttribute("nested");this.nested=this.toBoolean(l,!0);break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}"dir"===e&&(this.style.setProperty("direction","ltr"),this._updateChildrenDirAttr())}}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this),this.info("Ch5TriggerView.unsubscribeFromSignals()");var e=r.Ch5SignalFactory.getInstance();if(""!==this._subReceiveStateShowChildIndexId&&""!==this._receiveStateShowChildIndexSigName){var t=e.getNumberSignal(this._receiveStateShowChildIndexSigName);null!==t&&(t.unsubscribe(this._subReceiveStateShowChildIndexId),this._receiveStateShowChildIndexSigName="")}}},{key:"getSlidesAsArray",value:function(){return Array.prototype.slice.call(this.slidesManager.getSlidesArray(),0)}},{key:"getCssClassDisabled",value:function(){return this.cssClassPrefix+"--disabled"}},{key:"getPlainActiveView",value:function(){return this._activeView}},{key:"setSwiperSensitivity",value:function(e){this.slidesManager.swiperSensitivity=e}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("activeView")||this.setAttribute("activeView","0"),this.hasAttribute("endless")&&this._upgradeProperty("endless"),this.hasAttribute("gestureable")&&this._upgradeProperty("gestureable"),this.hasAttribute("disableanimation")&&this._upgradeProperty("disableanimation"),this.hasAttribute("receiveStateShowChildIndex")&&this._upgradeProperty("receiveStateShowChildIndex"),this.hasAttribute("sendEventShowChildIndex")&&this._upgradeProperty("sendEventShowChildIndex")}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),this._slidesSlot.addEventListener("slotchange",this)}},{key:"removeEvents",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),this._slidesSlot.removeEventListener("slotchange",this)}},{key:"_updateSizeStyleProperties",value:function(){this.style.width="".concat(this.offsetWidth,"px")}},{key:"updateCssClasses",value:function(){var e=this;_get(_getPrototypeOf(i.prototype),"updateCssClasses",this).call(this);var t=new Set;t.add(this.primaryCssClass);var n=this.getTargetElementForCssClassesAndStyle();void 0!==n.classList&&this._listOfAllPossibleComponentCssClasses.forEach(function(i){t.has(i)?(n.classList.add(i),e.info("add CSS class",i)):(n.classList.remove(i),e.info("remove CSS class",i))})}},{key:"generateListOfAllPossibleComponentCssClasses",value:function(){var e=this._listOfAllPossibleComponentCssClasses;return e.push(this.primaryCssClass),e}},{key:"computeTransitionByDistance",value:function(e){return 300*Math.abs(this._activeView-e)}},{key:"_onSlidesSlotChange",value:function(){this._slidesSlot.assignedNodes({flatten:!0}).forEach(function(e){e.nodeType===Node.TEXT_NODE&&e.parentNode&&e.parentNode.removeChild(e)})}},{key:"_updateAriaLiveDom",value:function(){1!==this._ariaSlot.assignedNodes().length&&(this._ariaLiveRegion=document.createElement("div"),this._ariaLiveRegion.setAttribute("slot","ariaSlot"),this._ariaLiveRegion.setAttribute("aria-live","polite"),this._ariaLiveRegion.setAttribute("aria-atomic","true"),this.appendChild(this._ariaLiveRegion)),this._ariaLiveRegion.textContent="Item ".concat(this.activeView," of ").concat(this.slidesManager.getSlidesNumber()," visible")}},{key:"_updateChildrenDirAttr",value:function(){customElements.whenDefined("ch5-triggerview-child").then(function(){})}},{key:"_upgradeProperty",value:function(e){if(this.constructor.prototype.hasOwnProperty(e)){var t=this[e];delete this[e],this[e]=t}}}],[{key:"observedAttributes",get:function(){return s.Ch5Common.observedAttributes.concat(["activeview","endless","gestureable","disableanimation","sendeventshowchildindex","receivestateshowchildindex","nested"])}},{key:"registerSignalAttributeTypes",value:function(){u.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}}]),i}();t.Ch5TriggerView=h,h.ELEMENT_NAME="ch5-triggerview",h.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateshowchildindex:{direction:"state",numericJoin:1,contractName:!0},sendeventshowchildindex:{direction:"event",numericJoin:1,contractName:!0}}),"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(h.ELEMENT_NAME,h),h.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5TriggerViewChild=void 0;var s=i(3),r=i(0),a=n(i(1)),o=i(4),l=i(2),u=function(e){_inherits(i,s.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).primaryCssClass="ch5-viewchild",e.cssClassPrefix="ch5-viewchild",e._noshowType=i.SHOW_TYPES[0],e._sendEventOnShowSigName="",e._receiveStateShowSigName="",e._subReceiveSignalShowId="",e.info("Ch5TriggerViewChild.constructor()"),e._listOfAllPossibleComponentCssClasses=e._generateListOfAllPossibleComponentCssClasses(),e}return _createClass(i,[{key:"selected",get:function(){return this.info("Ch5TriggerViewChild get selected()"),this.hasAttribute("selected")},set:function(e){this.info("Ch5TriggerViewChild set selected()"),(e=Boolean(e))?(this.setAttribute("selected",""),this.setAttribute("aria-selected","true")):(this.removeAttribute("selected"),this.setAttribute("aria-selected","false"))}},{key:"sendEventOnShow",get:function(){return this._sendEventOnShowSigName},set:function(e){this.info("set sendEventOnShow('"+e+"')"),""!==e&&this._sendEventOnShowSigName!==e&&(this._sendEventOnShowSigName=e,this.setAttribute("sendeventonshow",e))}},{key:"receiveStateShow",get:function(){return this._attributeValueAsString("receivestateshow")},set:function(e){var t=this;if(this.info("set receiveStateShow('"+e+"')"),""!==e&&this._receiveStateShowSigName!==e&&null!=e){if(""!==this._receiveStateShowSigName&&void 0!==this._receiveStateShowSigName&&null!==this._receiveStateShowSigName){var i=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowSigName),n=r.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&n.unsubscribe(this._subReceiveSignalShowId)}this._receiveStateShowSigName=e,this.setAttribute("receivestateshow",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowSigName),a=r.Ch5SignalFactory.getInstance().getBooleanSignal(s);if(null!==a){var o=!1;this._subReceiveSignalShowId=a.subscribe(function(e){if(e&&!0===e&&a.hasChangedSinceInit()){var i=t.getTriggerViewParent();null!==i&&(i.setActiveViewChild(t),o=!0)}e!==t.show&&o&&t.setAttribute("show",""+e)})}}}},{key:"sigNameReceiveShow",set:function(e){}},{key:"connectedCallback",value:function(){this.info("Ch5TriggerViewChild.connectedCallback()"),this.cacheComponentChildrens(),this.setAttribute("noshowtype",i.SHOW_TYPES[0]),this.updateCssClasses(),this.setAttribute("role",o.Ch5RoleAttributeMapping.ch5TriggerViewChild),this.setAttribute("data-ch5-id",this.getCrId()),this.hasAttribute("tabindex")||(this.tabIndex=-1),this.initAttributes(),this.initCommonMutationObserver(this)}},{key:"disconnectedCallback",value:function(){this.info("Ch5TriggerViewChild.disconnectedCallback()"),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(this.info('Ch5TriggerViewChild.attributeChangedCallback("'+e+'","'+t+'","'+n+')"'),e){case"selected":this.hasAttribute("selected")?(this.setAttribute("aria-selected","true"),this._sendSignalValueOnShow()):this.setAttribute("aria-selected","false");break;case"sendeventonshow":this.hasAttribute("sendeventonshow")?this.sendEventOnShow=n:this.sendEventOnShow="";break;case"receivestateshow":this.hasAttribute("receivestateshow")?this.receiveStateShow=n:this.receiveStateShow="";break;case"noshowtype":this.noshowType=i.SHOW_TYPES[0];break;case"show":if(this.hasAttribute("show")){var s=this.getAttribute("show");this.show="false"!==s&&"0"!==s}else this.show=!0;this.noshowType=i.SHOW_TYPES[0],this.updateForChangeInShowStatusOld();break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this);var e=r.Ch5SignalFactory.getInstance();if(""!==this._subReceiveSignalShowId&&""!==this._receiveStateShowSigName){var t=r.Ch5Signal.getSubscriptionSignalName(this._receiveStateShowSigName),n=e.getNumberSignal(t);null!==n&&(n.unsubscribe(this._subReceiveSignalShowId),this._receiveStateShowSigName="")}}},{key:"getCssClassDisabled",value:function(){return this.cssClassPrefix+"--disabled"}},{key:"getTriggerViewParent",value:function(){return a.default.isNil(this.parentElement)?null:function e(t){return a.default.isNil(t)||"CH5-TRIGGERVIEW"===t.nodeName?t:e(t.parentNode)}(this.parentElement)}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this._upgradeProperty("sendEventOnShow"),this._upgradeProperty("receiveStateShow")}},{key:"updateCssClasses",value:function(){var e=this;_get(_getPrototypeOf(i.prototype),"updateCssClasses",this).call(this);var t=new Set;t.add(this.primaryCssClass);var n=this.getTargetElementForCssClassesAndStyle();void 0!==n.classList&&this._listOfAllPossibleComponentCssClasses.forEach(function(i){t.has(i)?(n.classList.add(i),e.info("add CSS class",i)):(n.classList.remove(i),e.info("remove CSS class",i))})}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this)}},{key:"removeEvents",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this)}},{key:"_generateListOfAllPossibleComponentCssClasses",value:function(){var e=this._listOfAllPossibleComponentCssClasses;return e.push(this.primaryCssClass),e}},{key:"_sendSignalValueOnShow",value:function(){this.info("Ch5TriggerViewChild._sendSignalValueOnShow()");var e=null;""!==this._sendEventOnShowSigName&&void 0!==this._sendEventOnShowSigName&&null!==this._sendEventOnShowSigName&&null!==(e=r.Ch5SignalFactory.getInstance().getBooleanSignal(this._sendEventOnShowSigName))&&(e.publish(!0),e.publish(!1))}},{key:"_upgradeProperty",value:function(e){if(this.constructor.prototype.hasOwnProperty(e)){var t=this[e];delete this[e],this[e]=t}}}],[{key:"observedAttributes",get:function(){return s.Ch5Common.observedAttributes.concat(["selected","sendeventonshow","receivestateshow"])}},{key:"registerSignalAttributeTypes",value:function(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}}]),i}();t.Ch5TriggerViewChild=u,u.ELEMENT_NAME="ch5-triggerview-child",u.SHOW_TYPES=["visibility"],"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(u.ELEMENT_NAME,u),u.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(188),t),s(i(187),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCh5SliderHandle=void 0,function(e){e[e.VALUE=0]="VALUE",e[e.HIGHVALUE=1]="HIGHVALUE"}(t.TCh5SliderHandle||(t.TCh5SliderHandle={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(191),t),s(i(190),t)},function(e,t,i){!function(e){"use strict";function t(e){return"object"==_typeof(e)&&"function"==typeof e.to}function i(e){e.parentElement.removeChild(e)}function n(e){return null!=e}function s(e){e.preventDefault()}function r(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function a(e,t,i){i>0&&(c(e,t),setTimeout(function(){h(e,t)},i))}function o(e){return Math.max(Math.min(e,100),0)}function l(e){return Array.isArray(e)?e:[e]}function u(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function c(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function h(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(e){var t=void 0!==window.pageXOffset,i="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:i?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:i?e.documentElement.scrollTop:e.body.scrollTop}}function f(e,t){return 100/(t-e)}function p(e,t,i){return 100*t/(e[i+1]-e[i])}function v(e,t){for(var i=1;e>=t[i];)i+=1;return i}e.PipsMode=void 0,function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"}(e.PipsMode||(e.PipsMode={})),e.PipsType=void 0,function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"}(e.PipsType||(e.PipsType={}));var g=function(){function e(e,t,i){var n;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t;var s=[];for(Object.keys(e).forEach(function(t){s.push([l(e[t]),t])}),s.sort(function(e,t){return e[0][0]-t[0][0]}),n=0;n<s.length;n++)this.handleEntryPoint(s[n][1],s[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return e.prototype.getDistance=function(e){for(var t=[],i=0;i<this.xNumSteps.length-1;i++)t[i]=p(this.xVal,e,i);return t},e.prototype.getAbsoluteDistance=function(e,t,i){var n,s=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[s+1];)s++;else e===this.xPct[this.xPct.length-1]&&(s=this.xPct.length-2);i||e!==this.xPct[s+1]||s++,null===t&&(t=[]);var r=1,a=t[s],o=0,l=0,u=0,c=0;for(n=i?(e-this.xPct[s])/(this.xPct[s+1]-this.xPct[s]):(this.xPct[s+1]-e)/(this.xPct[s+1]-this.xPct[s]);a>0;)o=this.xPct[s+1+c]-this.xPct[s+c],t[s+c]*r+100-100*n>100?(l=o*n,r=(a-100*n)/t[s+c],n=1):(l=t[s+c]*o/100*r,r=0),i?(u-=l,this.xPct.length+c>=1&&c--):(u+=l,this.xPct.length-c>=1&&c++),a=t[s+c]*r;return e+u},e.prototype.toStepping=function(e){return function(e,t,i){if(i>=e.slice(-1)[0])return 100;var n=v(i,e),s=e[n-1],r=e[n],a=t[n-1],o=t[n];return a+function(e,t){return p(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}([s,r],i)/f(a,o)}(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return function(e,t,i){if(i>=100)return e.slice(-1)[0];var n=v(i,t),s=e[n-1],r=e[n],a=t[n-1],o=t[n];return function(e,t){return(i-a)*f(a,o)*(e[1]-e[0])/100+e[0]}([s,r])}(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return function(e,t,i,n){if(100===n)return n;var s=v(n,e),r=e[s-1],a=e[s];return i?n-r>(a-r)/2?a:r:t[s-1]?e[s-1]+function(e,t){return Math.round(e/t)*t}(n-e[s-1],t[s-1]):n}(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,i){var n=v(e,this.xPct);return(100===e||t&&e===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/i},e.prototype.getNearbySteps=function(e){var t=v(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(u);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var i;if(!r(i="min"===e?0:"max"===e?100:parseFloat(e))||!r(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(i),this.xVal.push(t[0]);var n=Number(t[1]);i?this.xSteps.push(!isNaN(n)&&n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=p([this.xVal[e],this.xVal[e+1]],t,0)/f(this.xPct[e],this.xPct[e+1]);var i=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],n=Math.ceil(Number(i.toFixed(3))-1),s=this.xVal[e]+this.xNumSteps[e]*n;this.xHighestCompleteStep[e]=s}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),b={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},m={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},_={tooltips:".__tooltips",aria:".__aria"};function S(e,t){if(!r(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function y(e,t){if(!r(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function C(e,t){if(!r(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function E(e,t){if(!r(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function A(e,t){if("object"!=_typeof(t)||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new g(t,e.snap||!1,e.singleStep)}function T(e,t){if(t=l(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function w(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function k(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function I(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function O(e,t){var i,n=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(i=1;i<e.handles;i++)n.push(t);n.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");n=t}e.connect=n}function P(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function L(e,t){if(!r(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function N(e,t){if(!r(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function x(e,t){var i;if(!r(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!r(t[0])&&!r(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],i=0;i<e.spectrum.xNumSteps.length-1;i++)if(e.padding[0][i]<0||e.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=t[0]+t[1],s=e.spectrum.xVal[0];if(n/(e.spectrum.xVal[e.spectrum.xVal.length-1]-s)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function R(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function M(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=t.indexOf("tap")>=0,n=t.indexOf("drag")>=0,s=t.indexOf("fixed")>=0,r=t.indexOf("snap")>=0,a=t.indexOf("hover")>=0,o=t.indexOf("unconstrained")>=0,l=t.indexOf("drag-all")>=0;if(s){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");L(e,e.start[1]-e.start[0])}if(o&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:i||r,drag:n,dragAll:l,fixed:s,snap:r,hover:a,unconstrained:o}}function V(e,i){if(!1!==i)if(!0===i||t(i)){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(i)}else{if((i=l(i)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");i.forEach(function(e){if("boolean"!=typeof e&&!t(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=i}}function H(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function D(e,i){if(!t(i))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=i}function B(e,i){if(!function(e){return t(e)&&"function"==typeof e.from}(i))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=i}function F(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function U(e,t){e.documentElement=t}function j(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function z(e,t){if("object"!=_typeof(t))throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach(function(i){e.cssClasses[i]=e.cssPrefix+t[i]})):e.cssClasses=t}function Y(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:b,format:b},i={step:{r:!1,t:S},keyboardPageMultiplier:{r:!1,t:y},keyboardMultiplier:{r:!1,t:C},keyboardDefaultStep:{r:!1,t:E},start:{r:!0,t:T},connect:{r:!0,t:O},direction:{r:!0,t:R},snap:{r:!1,t:w},animate:{r:!1,t:k},animationDuration:{r:!1,t:I},range:{r:!0,t:A},orientation:{r:!1,t:P},margin:{r:!1,t:L},limit:{r:!1,t:N},padding:{r:!1,t:x},behaviour:{r:!0,t:M},ariaFormat:{r:!1,t:D},format:{r:!1,t:B},tooltips:{r:!1,t:V},keyboardSupport:{r:!0,t:F},documentElement:{r:!1,t:U},cssPrefix:{r:!0,t:j},cssClasses:{r:!0,t:z},handleAttributes:{r:!1,t:H}},s={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:m,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(i).forEach(function(r){if(n(e[r])||void 0!==s[r])i[r].t(t,n(e[r])?e[r]:s[r]);else if(i[r].r)throw new Error("noUiSlider: '"+r+"' is required.")}),t.pips=e.pips;var r=document.createElement("div"),a=void 0!==r.style.msTransform,o=void 0!==r.style.transform;return t.transformRule=o?"transform":a?"msTransform":"webkitTransform",t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function W(t,r,u){var f,p,v,g,b,m=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},S=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),y=t,C=r.spectrum,E=[],A=[],T=[],w=0,k={},I=t.ownerDocument,O=r.documentElement||I.documentElement,P=I.body,L="rtl"===I.dir||1===r.ort?0:100;function N(e,t){var i=I.createElement("div");return t&&c(i,t),e.appendChild(i),i}function x(e,t){var i=N(e,r.cssClasses.origin),n=N(i,r.cssClasses.handle);if(N(n,r.cssClasses.touchArea),n.setAttribute("data-handle",String(t)),r.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",function(e){return function(e,t){if(V()||H(t))return!1;var i=["Left","Right"],n=["Down","Up"],s=["PageDown","PageUp"],a=["Home","End"];r.dir&&!r.ort?i.reverse():r.ort&&!r.dir&&(n.reverse(),s.reverse());var o,l=e.key.replace("Arrow",""),u=l===s[0],c=l===s[1],h=l===n[0]||l===i[0]||u,d=l===n[1]||l===i[1]||c,f=l===a[1];if(!h&&!d&&l!==a[0]&&!f)return!0;if(e.preventDefault(),d||h){var p=h?0:1,v=pe(t)[p];if(null===v)return!1;!1===v&&(v=C.getDefaultStep(A[t],h,r.keyboardDefaultStep)),v*=c||u?r.keyboardPageMultiplier:r.keyboardMultiplier,v=Math.max(v,1e-7),v*=h?-1:1,o=E[t]+v}else o=f?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return ue(t,C.toStepping(o),!0,!0),ne("slide",t),ne("update",t),ne("change",t),ne("set",t),!1}(e,t)})),void 0!==r.handleAttributes){var s=r.handleAttributes[t];Object.keys(s).forEach(function(e){n.setAttribute(e,s[e])})}return n.setAttribute("role","slider"),n.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===t?c(n,r.cssClasses.handleLower):t===r.handles-1&&c(n,r.cssClasses.handleUpper),i}function R(e,t){return!!t&&N(e,r.cssClasses.connect)}function M(e,t){return!(!r.tooltips||!r.tooltips[t])&&N(e.firstChild,r.cssClasses.tooltip)}function V(){return y.hasAttribute("disabled")}function H(e){return p[e].hasAttribute("disabled")}function D(){b&&(ie("update"+_.tooltips),b.forEach(function(e){e&&i(e)}),b=null)}function B(){D(),b=p.map(M),te("update"+_.tooltips,function(e,t,i){if(b&&r.tooltips&&!1!==b[t]){var n=e[t];!0!==r.tooltips[t]&&(n=r.tooltips[t].to(i[t])),b[t].innerHTML=n}})}function F(e,t){return e.map(function(e){return C.fromStepping(t?C.getStep(e):e)})}function U(t){function i(e,t){return Number((e+t).toFixed(7))}var n=function(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return C.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var i=t.values-1,n=100/i,s=[];i--;)s[i]=i*n;return s.push(100),F(s,t.stepped)}return t.mode===e.PipsMode.Positions?F(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map(function(e){return C.fromStepping(C.getStep(C.toStepping(e)))}):t.values:[]}(t),s={},r=C.xVal[0],a=C.xVal[C.xVal.length-1],o=!1,l=!1,u=0;return(n=function(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}(n.slice().sort(function(e,t){return e-t})))[0]!==r&&(n.unshift(r),o=!0),n[n.length-1]!==a&&(n.push(a),l=!0),n.forEach(function(r,a){var c,h,d,f,p,v,g,b,m,_,S=r,y=n[a+1],E=t.mode===e.PipsMode.Steps;for(E&&(c=C.xNumSteps[a]),c||(c=y-S),void 0===y&&(y=S),c=Math.max(c,1e-7),h=S;h<=y;h=i(h,c)){for(b=(p=(f=C.toStepping(h))-u)/(t.density||1),_=p/(m=Math.round(b)),d=1;d<=m;d+=1)s[(v=u+d*_).toFixed(5)]=[C.fromStepping(v),0];g=n.indexOf(h)>-1?e.PipsType.LargeValue:E?e.PipsType.SmallValue:e.PipsType.NoValue,!a&&o&&h!==y&&(g=0),h===y&&l||(s[f.toFixed(5)]=[h,g]),u=f}}),s}function j(t,i,n){var s,a,o=I.createElement("div"),l=((s={})[e.PipsType.None]="",s[e.PipsType.NoValue]=r.cssClasses.valueNormal,s[e.PipsType.LargeValue]=r.cssClasses.valueLarge,s[e.PipsType.SmallValue]=r.cssClasses.valueSub,s),u=((a={})[e.PipsType.None]="",a[e.PipsType.NoValue]=r.cssClasses.markerNormal,a[e.PipsType.LargeValue]=r.cssClasses.markerLarge,a[e.PipsType.SmallValue]=r.cssClasses.markerSub,a),h=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],d=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function f(e,t){var i=t===r.cssClasses.value,n=i?l:u;return t+" "+(i?h:d)[r.ort]+" "+n[e]}return c(o,r.cssClasses.pips),c(o,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach(function(s){!function(t,s,a){if((a=i?i(s,a):a)!==e.PipsType.None){var l=N(o,!1);l.className=f(a,r.cssClasses.marker),l.style[r.style]=t+"%",a>e.PipsType.NoValue&&((l=N(o,!1)).className=f(a,r.cssClasses.value),l.setAttribute("data-value",String(s)),l.style[r.style]=t+"%",l.innerHTML=String(n.to(s)))}}(s,t[s][0],t[s][1])}),o}function z(){g&&(i(g),g=null)}function W(e){z();var t=U(e),i=e.filter,n=e.format||{to:function(e){return String(Math.round(e))}};return g=y.appendChild(j(t,i,n))}function G(){var e=f.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||f[t]:e.height||f[t]}function q(e,t,i,n){var s=function(s){var a=function(e,t,i){var n=0===e.type.indexOf("touch"),s=0===e.type.indexOf("mouse"),r=0===e.type.indexOf("pointer"),a=0,o=0;if(0===e.type.indexOf("MSPointer")&&(r=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(n){var l=function(t){var n=t.target;return n===i||i.contains(n)||e.composed&&e.composedPath().shift()===i};if("touchstart"===e.type){var u=Array.prototype.filter.call(e.touches,l);if(u.length>1)return!1;a=u[0].pageX,o=u[0].pageY}else{var c=Array.prototype.find.call(e.changedTouches,l);if(!c)return!1;a=c.pageX,o=c.pageY}}return t=t||d(I),(s||r)&&(a=e.clientX+t.x,o=e.clientY+t.y),e.pageOffset=t,e.points=[a,o],e.cursor=s||r,e}(s,n.pageOffset,n.target||t);return!!a&&!(V()&&!n.doNotReject)&&!(function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}(y,r.cssClasses.tap)&&!n.doNotReject)&&!(e===m.start&&void 0!==a.buttons&&a.buttons>1)&&(!n.hover||!a.buttons)&&(S||a.preventDefault(),a.calcPoint=a.points[r.ort],void i(a,n))},a=[];return e.split(" ").forEach(function(e){t.addEventListener(e,s,!!S&&{passive:!0}),a.push([e,s])}),a}function X(e){var t=100*(e-function(e,t){var i=e.getBoundingClientRect(),n=e.ownerDocument,s=n.documentElement,r=d(n);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(r.x=0),t?i.top+r.y-s.clientTop:i.left+r.x-s.clientLeft}(f,r.ort))/G();return t=o(t),r.dir?100-t:t}function K(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&$(e,t)}function J(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return $(e,t);var i=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint);ae(i>0,100*i/t.baseSize,t.locations,t.handleNumbers,t.connect)}function $(e,t){t.handle&&(h(t.handle,r.cssClasses.active),w-=1),t.listeners.forEach(function(e){O.removeEventListener(e[0],e[1])}),0===w&&(h(y,r.cssClasses.drag),le(),e.cursor&&(P.style.cursor="",P.removeEventListener("selectstart",s))),t.handleNumbers.forEach(function(e){ne("change",e),ne("set",e),ne("end",e)})}function Z(e,t){if(!t.handleNumbers.some(H)){var i;if(1===t.handleNumbers.length)i=p[t.handleNumbers[0]].children[0],w+=1,c(i,r.cssClasses.active);e.stopPropagation();var n=[],a=q(m.move,O,J,{target:e.target,handle:i,connect:t.connect,listeners:n,startCalcPoint:e.calcPoint,baseSize:G(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:A.slice()}),o=q(m.end,O,$,{target:e.target,handle:i,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers}),l=q("mouseout",O,K,{target:e.target,handle:i,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers});n.push.apply(n,a.concat(o,l)),e.cursor&&(P.style.cursor=getComputedStyle(e.target).cursor,p.length>1&&c(y,r.cssClasses.drag),P.addEventListener("selectstart",s,!1)),t.handleNumbers.forEach(function(e){ne("start",e)})}}function Q(e){e.stopPropagation();var t=X(e.calcPoint),i=function(e){var t=100,i=!1;return p.forEach(function(n,s){if(!H(s)){var r=A[s],a=Math.abs(r-e);(a<t||a<=t&&e>r||100===a&&100===t)&&(i=s,t=a)}}),i}(t);!1!==i&&(r.events.snap||a(y,r.cssClasses.tap,r.animationDuration),ue(i,t,!0,!0),le(),ne("slide",i,!0),ne("update",i,!0),r.events.snap?Z(e,{handleNumbers:[i]}):(ne("change",i,!0),ne("set",i,!0)))}function ee(e){var t=X(e.calcPoint),i=C.getStep(t),n=C.fromStepping(i);Object.keys(k).forEach(function(e){"hover"===e.split(".")[0]&&k[e].forEach(function(e){e.call(ve,n)})})}function te(e,t){k[e]=k[e]||[],k[e].push(t),"update"===e.split(".")[0]&&p.forEach(function(e,t){ne("update",t)})}function ie(e){var t=e&&e.split(".")[0],i=t?e.substring(t.length):e;Object.keys(k).forEach(function(e){var n=e.split(".")[0],s=e.substring(n.length);t&&t!==n||i&&i!==s||function(e){return e===_.aria||e===_.tooltips}(s)&&i!==s||delete k[e]})}function ne(e,t,i){Object.keys(k).forEach(function(n){var s=n.split(".")[0];e===s&&k[n].forEach(function(e){e.call(ve,E.map(r.format.to),t,E.slice(),i||!1,A.slice(),ve)})})}function se(e,t,i,n,s,a){var l;return p.length>1&&!r.events.unconstrained&&(n&&t>0&&(l=C.getAbsoluteDistance(e[t-1],r.margin,!1),i=Math.max(i,l)),s&&t<p.length-1&&(l=C.getAbsoluteDistance(e[t+1],r.margin,!0),i=Math.min(i,l))),p.length>1&&r.limit&&(n&&t>0&&(l=C.getAbsoluteDistance(e[t-1],r.limit,!1),i=Math.min(i,l)),s&&t<p.length-1&&(l=C.getAbsoluteDistance(e[t+1],r.limit,!0),i=Math.max(i,l))),r.padding&&(0===t&&(l=C.getAbsoluteDistance(0,r.padding[0],!1),i=Math.max(i,l)),t===p.length-1&&(l=C.getAbsoluteDistance(100,r.padding[1],!0),i=Math.min(i,l))),!((i=o(i=C.getStep(i)))===e[t]&&!a)&&i}function re(e,t){var i=r.ort;return(i?t:e)+", "+(i?e:t)}function ae(e,t,i,n,s){var r=i.slice(),a=n[0],o=[!e,e],l=[e,!e];n=n.slice(),e&&n.reverse(),n.length>1?n.forEach(function(e,i){var n=se(r,e,r[e]+t,o[i],l[i],!1);!1===n?t=0:(t=n-r[e],r[e]=n)}):o=l=[!0];var u=!1;n.forEach(function(e,n){u=ue(e,i[e]+t,o[n],l[n])||u}),u&&(n.forEach(function(e){ne("update",e),ne("slide",e)}),null!=s&&ne("drag",a))}function oe(e,t){return r.dir?100-e-t:e}function le(){T.forEach(function(e){var t=A[e]>50?-1:1,i=3+(p.length+t*e);p[e].style.zIndex=String(i)})}function ue(e,t,i,n,s){return s||(t=se(A,e,t,i,n,!1)),!1!==t&&(function(e,t){A[e]=t,E[e]=C.fromStepping(t);var i="translate("+re(oe(t,0)-L+"%","0")+")";p[e].style[r.transformRule]=i,ce(e),ce(e+1)}(e,t),!0)}function ce(e){if(v[e]){var t=0,i=100;0!==e&&(t=A[e-1]),e!==v.length-1&&(i=A[e]);var n=i-t,s="translate("+re(oe(t,n)+"%","0")+")",a="scale("+re(n/100,"1")+")";v[e].style[r.transformRule]=s+" "+a}}function he(e,t){return null===e||!1===e||void 0===e?A[t]:("number"==typeof e&&(e=String(e)),!1!==(e=r.format.from(e))&&(e=C.toStepping(e)),!1===e||isNaN(e)?A[t]:e)}function de(e,t,i){var n=l(e),s=void 0===A[0];t=void 0===t||t,r.animate&&!s&&a(y,r.cssClasses.tap,r.animationDuration),T.forEach(function(e){ue(e,he(n[e],e),!0,!1,i)});var o=1===T.length?0:1;if(s&&C.hasNoSize()&&(i=!0,A[0]=0,T.length>1)){var u=100/(T.length-1);T.forEach(function(e){A[e]=e*u})}for(;o<T.length;++o)T.forEach(function(e){ue(e,A[e],!0,!0,i)});le(),T.forEach(function(e){ne("update",e),null!==n[e]&&t&&ne("set",e)})}function fe(e){if(void 0===e&&(e=!1),e)return 1===E.length?E[0]:E.slice(0);var t=E.map(r.format.to);return 1===t.length?t[0]:t}function pe(e){var t=A[e],i=C.getNearbySteps(t),n=E[e],s=i.thisStep.step,a=null;if(r.snap)return[n-i.stepBefore.startValue||null,i.stepAfter.startValue-n||null];!1!==s&&n+s>i.stepAfter.startValue&&(s=i.stepAfter.startValue-n),a=n>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&n-i.stepBefore.highestStep,100===t?s=null:0===t&&(a=null);var o=C.countStepDecimals();return null!==s&&!1!==s&&(s=Number(s.toFixed(o))),null!==a&&!1!==a&&(a=Number(a.toFixed(o))),[a,s]}f=function(e){return c(e,r.cssClasses.target),0===r.dir?c(e,r.cssClasses.ltr):c(e,r.cssClasses.rtl),0===r.ort?c(e,r.cssClasses.horizontal):c(e,r.cssClasses.vertical),"rtl"===getComputedStyle(e).direction?c(e,r.cssClasses.textDirectionRtl):c(e,r.cssClasses.textDirectionLtr),N(e,r.cssClasses.base)}(y),function(e,t){var i=N(t,r.cssClasses.connects);p=[],(v=[]).push(R(i,e[0]));for(var n=0;n<r.handles;n++)p.push(x(t,n)),T[n]=n,v.push(R(i,e[n+1]))}(r.connect,f),function(e){e.fixed||p.forEach(function(e,t){q(m.start,e.children[0],Z,{handleNumbers:[t]})}),e.tap&&q(m.start,f,Q,{}),e.hover&&q(m.move,f,ee,{hover:!0}),e.drag&&v.forEach(function(t,i){if(!1!==t&&0!==i&&i!==v.length-1){var n=p[i-1],s=p[i],a=[t],o=[n,s],l=[i-1,i];c(t,r.cssClasses.draggable),e.fixed&&(a.push(n.children[0]),a.push(s.children[0])),e.dragAll&&(o=p,l=T),a.forEach(function(e){q(m.start,e,Z,{handles:o,handleNumbers:l,connect:t})})}})}(r.events),de(r.start),r.pips&&W(r.pips),r.tooltips&&B(),ie("update"+_.aria),te("update"+_.aria,function(e,t,i,n,s){T.forEach(function(e){var t=p[e],n=se(A,e,0,!0,!0,!0),a=se(A,e,100,!0,!0,!0),o=s[e],l=String(r.ariaFormat.to(i[e]));n=C.fromStepping(n).toFixed(1),a=C.fromStepping(a).toFixed(1),o=C.fromStepping(o).toFixed(1),t.children[0].setAttribute("aria-valuemin",n),t.children[0].setAttribute("aria-valuemax",a),t.children[0].setAttribute("aria-valuenow",o),t.children[0].setAttribute("aria-valuetext",l)})});var ve={destroy:function(){for(ie(_.aria),ie(_.tooltips),Object.keys(r.cssClasses).forEach(function(e){h(y,r.cssClasses[e])});y.firstChild;)y.removeChild(y.firstChild);delete y.noUiSlider},steps:function(){return T.map(pe)},on:te,off:ie,get:fe,set:de,setHandle:function(e,t,i,n){if(!((e=Number(e))>=0&&e<T.length))throw new Error("noUiSlider: invalid handle number, got: "+e);ue(e,he(t,e),!0,!0,n),ne("update",e),i&&ne("set",e)},reset:function(e){de(r.start,e)},__moveHandles:function(e,t,i){ae(e,t,A,i)},options:u,updateOptions:function(e,t){var i=fe(),s=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];s.forEach(function(t){void 0!==e[t]&&(u[t]=e[t])});var a=Y(u);s.forEach(function(t){void 0!==e[t]&&(r[t]=a[t])}),C=a.spectrum,r.margin=a.margin,r.limit=a.limit,r.padding=a.padding,r.pips?W(r.pips):z(),r.tooltips?B():D(),A=[],de(n(e.start)?e.start:i,t)},target:y,removePips:z,removeTooltips:D,getPositions:function(){return A.slice()},getTooltips:function(){return b},getOrigins:function(){return p},pips:W};return ve}function G(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=W(e,Y(t),t);return e.noUiSlider=i,i}var q={__spectrum:g,cssClasses:m,create:G};e.create=G,e.cssClasses=m,e.default=q,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(35),t)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Slider=void 0;var s=i(3),r=i(194),a=i(0),o=i(193),l=i(21),u=n(i(14)),c=n(i(5)),h=i(4),d=i(192),f=n(i(1)),p=i(2),v=function(t){_inherits(n,r.Ch5CommonInput);var i=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=i.call(this))._elSlider={},e._tgtEls=[],e._tooltip={},e.primaryCssClass="ch5-slider",e.cssClassPrefix="ch5-slider",e._wasRendered=!1,e.isSliderStarted=!1,e.sliderTouch=null,e._handleShape="rounded-rectangle",e._value=n.MIN_VALUE,e._range=!1,e._valueHigh=n.MAX_VALUE,e._max=n.MAX_VALUE,e._min=n.MIN_VALUE,e._orientation="horizontal",e._size="regular",e._handleSize="regular",e._step=n.DEFAULT_STEP,e._stretch=null,e._ticks="",e._showTickValues=!1,e._toolTipShowType="off",e._toolTipDisplayType="%",e._tapSettable=!1,e._direction=n.DIRECTION[0],e._sendEventOnChangeSigName="",e._sendEventOnChangeHighSigName="",e._receiveStateValueSignal="",e._subReceiveValueId="",e._subReceiveAnalogValueId="",e._receiveStateValueSignalHigh="",e._subReceiveValueHighId="",e._subReceiveAnalogValueHighId="",e._noHandle=!1,e._pressable=null,e.sliderEvent={},e.sliderStartEvent={},e.sliderEndEvent={},e.focusEvent={},e.blurEvent={},e.changeEvent={},e.dirtyEvent={},e.cleanEvent={},e._cleanValueHigh="",e._dirtyValueHigh="",e._dirtyTimerHandleHigh=null,e._cleanLow=!0,e._dirtyLow=!1,e._cleanHigh=!0,e._dirtyHigh=!1,e._animationTimer=void 0,e._tooltipValueFromSignal=void 0,e._tooltipHighValueFromSignal=void 0,e._rcbSignalValue=void 0,e._rcbSignalValueHigh=void 0,e._animatingHandle={0:!1,1:!1},e.info("Ch5Slider.constructor()"),e}return _createClass(n,[{key:"handleShape",get:function(){return this._handleShape},set:function(e){this._handleShape!==e&&null!==e&&(n.SHAPES.indexOf(e)>=0?this._handleShape=e:this._handleShape=n.SHAPES[0],this.setAttribute("handleshape",this._handleShape))}},{key:"value",get:function(){return this._value},set:function(e){var t,i;(e=Number(e))===this.value&&this.value===this.min||((isNaN(e)||e>this._max||e<this._min)&&(e=this._min),this._range&&e>=this._valueHigh&&this._valueHigh!==n.MAX_VALUE&&(e=this._valueHigh-1),this._value!==e&&(this._value=e,this.setAttribute("value",e.toString()),null!==this._dirtyTimerHandle&&(clearTimeout(this._dirtyTimerHandle),this._dirtyTimerHandle=null),this._wasRendered&&!(0,c.default)(this._elSlider.noUiSlider)&&(null===(i=null===(t=this._elSlider)||void 0===t?void 0:t.noUiSlider)||void 0===i||i.set(e))))}},{key:"range",get:function(){return this._range},set:function(e){var t=this.toBoolean(e,!0);this._range!==t&&(this._range=t,this.setAttribute("range",t.toString()),this._wasRendered&&this._render())}},{key:"valueHigh",get:function(){return this._valueHigh},set:function(e){var t,i;(e=Number(e))!==this.valueHigh&&((isNaN(e)||e>this._max)&&(e=this._max),e<=this._value&&(e=this._value+1),this._valueHigh!==e&&(this._valueHigh=e,this.setAttribute("valuehigh",e.toString()),null!==this._dirtyTimerHandleHigh&&(clearTimeout(this._dirtyTimerHandleHigh),this._dirtyTimerHandleHigh=null),this._wasRendered&&!(0,c.default)(this._elSlider.noUiSlider)&&(null===(i=null===(t=this._elSlider)||void 0===t?void 0:t.noUiSlider)||void 0===i||i.set([this._value,e]))))}},{key:"noHandle",get:function(){return this._noHandle}},{key:"max",get:function(){return this._max},set:function(e){if((e=Number(e))!==this.max){(isNaN(e)||e>n.MAX_VALUE)&&(e=n.MAX_VALUE),e<=this._min&&(e=this._min+1);var t=(e-this._min)/this._step;0!=(e-this._min)%this._step&&(e=this._min+Math.floor(t)*this._step),e!==this._max&&(this._max=e,this.setAttribute("max",e.toString()),this._wasRendered&&this._render())}}},{key:"min",get:function(){return this._min},set:function(e){(e=Number(e))!==this.min&&((isNaN(e)||e>n.MAX_VALUE)&&(e=n.MIN_VALUE),e>=this._max&&(e=this._max-1),e!==this._min&&(this._min=e,this.setAttribute("min",e.toString()),this._wasRendered&&this._render()))}},{key:"orientation",get:function(){return this._orientation},set:function(e){this._orientation!==e&&(n.ORIENTATIONS.indexOf(e)>=0?this._orientation=e:this._orientation=n.ORIENTATIONS[0],this.setAttribute("orientation",this.orientation),this._wasRendered&&this._render())}},{key:"size",get:function(){return this._size},set:function(e){this._size!==e&&null!==e&&(n.SIZES.indexOf(e)>=0?this._size=e:this._size=n.SIZES[0],this.setAttribute("size",this.size),this._wasRendered&&this._render())}},{key:"handleSize",get:function(){return this._handleSize},set:function(e){this._handleSize!==e&&null!==e&&(n.SIZES.indexOf(e)>=0?this._handleSize=e:this._handleSize=n.SIZES[0],this.setAttribute("handleSize",this.handleSize),this._wasRendered&&this._render())}},{key:"step",get:function(){return this._step},set:function(e){(e=Number(e))!==this.step&&((isNaN(e)||e>n.MAX_VALUE)&&(e=n.DEFAULT_STEP),this._step!==e&&(this._step=e,this.setAttribute("step",e.toString()),this._wasRendered&&this._render()))}},{key:"stretch",get:function(){return this._stretch},set:function(e){null!==e?this._stretch!==e&&(n.STRETCHES.indexOf(e)>=0?(this._stretch=e,this.setAttribute("stretch",this._stretch)):this._stretch=null,this._wasRendered&&this._render()):this._stretch=null}},{key:"ticks",get:function(){return this._ticks},set:function(e){this._ticks!==e&&(null!=e||(e=""),this._ticks=e,this.setAttribute("ticks",e),this._wasRendered&&this._render())}},{key:"showTickValues",get:function(){return this._showTickValues},set:function(e){var t=this.toBoolean(e,!0);this._showTickValues!==t&&(this._showTickValues=t,this.setAttribute("showtickvalues",t.toString()),this._wasRendered&&this._render())}},{key:"toolTipShowType",get:function(){return this._toolTipShowType},set:function(e){this._toolTipShowType!==e&&(n.TOOLTIPS.indexOf(e)>=0?this._toolTipShowType=e:this._toolTipShowType=n.TOOLTIPS[0],this.setAttribute("tooltipshowtype",this.toolTipShowType),this._wasRendered&&this._render()),this.toolTipShowType===n.TOOLTIPS[1]?(this.subscribeToAnalogSignal(),this.subscribeToAnalogHighSignal()):this.unsubscribeFromAnalogSignals()}},{key:"toolTipDisplayType",get:function(){return this._toolTipDisplayType},set:function(e){this._toolTipDisplayType!==e&&(n.TDISPLAY.indexOf(e)>=0?this._toolTipDisplayType=e:this._toolTipDisplayType=n.TDISPLAY[0],this.setAttribute("tooltipdisplaytype",this.toolTipDisplayType),this._wasRendered&&this._render())}},{key:"tapSettable",get:function(){return this._tapSettable},set:function(e){var t=this.toBoolean(e,!0);this._tapSettable!==t&&(this._tapSettable=t,this.setAttribute("tapsettable",t.toString()),this._wasRendered&&this._render())}},{key:"direction",get:function(){return this._direction},set:function(e){null==e&&(e=n.DIRECTION[0]),n.DIRECTION.indexOf(e)>=0?this._direction=e:this._direction=n.DIRECTION[0],this._wasRendered&&this._render()}},{key:"sendEventOnChange",get:function(){return this._sendEventOnChangeSigName},set:function(e){this.info("set sendEventOnChange('"+e+"')"),""!==e&&this._sendEventOnChangeSigName!==e&&(this._sendEventOnChangeSigName=e,this.setAttribute("sendeventonchange",e))}},{key:"sendEventOnChangeHigh",get:function(){return this._sendEventOnChangeHighSigName},set:function(e){this.info("set sendEventOnChangeHigh('"+e+"')"),""!==e&&this._sendEventOnChangeHighSigName!==e&&(this._sendEventOnChangeHighSigName=e,this.setAttribute("sendeventonchangehigh",e))}},{key:"receiveStateValue",get:function(){return this._attributeValueAsString("receivestatevalue")},set:function(e){var t=this;if(""!==e&&this._receiveStateValueSignal!==e&&null!=e){if(""!==this._receiveStateValueSignal&&void 0!==this._receiveStateValueSignal&&null!==this._receiveStateValueSignal){var i=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignal),n=a.Ch5SignalFactory.getInstance().getObjectSignal(i);null!==n&&n.unsubscribe(this._subReceiveValueId)}this._receiveStateValueSignal=e,this.setAttribute("receivestatevalue",e);var s=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignal),r=a.Ch5SignalFactory.getInstance().getObjectSignal(s);null!==r&&(this._subReceiveValueId=r.subscribe(function(e){if(void 0!==e&&e.hasOwnProperty("rcb")&&e.rcb.hasOwnProperty("value")&&r.hasChangedSinceInit()){var i=e.rcb,n=i.time,s=i.value;t._min<0&&s>32767&&(s-=65536),t._rcbSignalValue={rcb:{value:s,time:n,startv:void 0!==i.startv?i.startv:t._value,startt:void 0!==i.startt?i.startt:Date.now()}},t.setCleanValue(s),null===t._dirtyTimerHandle&&(t._wasRendered=!1,t.setAttribute("value",s.toString()),t._wasRendered=!0,t._setSliderValue(s,d.TCh5SliderHandle.VALUE,n),t._setCleanLow(),t.setClean())}}))}}},{key:"receiveStateValueHigh",get:function(){return this._attributeValueAsString("receivestatevaluehigh")},set:function(e){var t=this;if(""!==e&&this._receiveStateValueSignalHigh!==e&&null!=e){if(""!==this._receiveStateValueSignalHigh&&void 0!==this._receiveStateValueSignalHigh&&null!==this._receiveStateValueSignalHigh){var i=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignalHigh),n=a.Ch5SignalFactory.getInstance().getObjectSignal(i);null!==n&&n.unsubscribe(this._subReceiveValueHighId)}this._receiveStateValueSignalHigh=e,this.setAttribute("receivestatevaluehigh",e);var s=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignalHigh),r=a.Ch5SignalFactory.getInstance().getObjectSignal(s);null!==r&&(this._subReceiveValueHighId=r.subscribe(function(e){if(void 0!==e&&e.hasOwnProperty("rcb")&&e.rcb.hasOwnProperty("value")&&r.hasChangedSinceInit()){var i=e.rcb,n=i.time,s=i.value;t._min<0&&s>32767&&(s-=65536),t._rcbSignalValueHigh={rcb:{value:s,time:n,startv:void 0!==i.startv?i.startv:t._valueHigh,startt:void 0!==i.startt?i.startt:Date.now()}},t._cleanValueHigh=s,null===t._dirtyTimerHandleHigh&&(t._wasRendered=!1,t.setAttribute("valueHigh",s.toString()),t._wasRendered=!0,t._setSliderValue(s,d.TCh5SliderHandle.HIGHVALUE,n),t._setCleanHigh(),t.setClean())}}))}}},{key:"connectedCallback",value:function(){var e=this;this.info("Ch5Slider.connectedCallback()"),this._listOfAllPossibleComponentCssClasses=this._generateListOfAllPossibleComponentCssClasses(),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onSliderSlide=this._onSliderSlide.bind(this),this._onSliderStart=this._onSliderStart.bind(this),this._onSliderStop=this._onSliderStop.bind(this),this._onSliderChange=this._onSliderChange.bind(this),this._stopRcbAnimation=this._stopRcbAnimation.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onTouchMoveEnd=this._onTouchMoveEnd.bind(this),this._pressable=new l.Ch5Pressable(this,{cssTargetElement:this.getTargetElementForCssClassesAndStyle(),cssPressedClass:this.cssClassPrefix+"--pressed"}),this._wasInstatiated||this.createInternalHtml(),this._wasInstatiated=!0,this.hasAttribute("role")||this.setAttribute("role",h.Ch5RoleAttributeMapping.ch5Slider),this.setAttribute("data-ch5-id",this.getCrId()),null!==this._pressable&&this._pressable.init(),Promise.all([customElements.whenDefined("ch5-slider")]).then(function(){e.cacheComponentChildrens();var t=e.querySelector(".noUi-target");t instanceof HTMLElement&&t.remove(),e._elSlider.parentElement!==e&&e.appendChild(e._elSlider),e.initAttributes(),e.updateCssClasses(),e._wasRendered&&void 0!==e._elSlider.noUiSlider&&null!==e._elSlider.noUiSlider||e._render().then(function(){e._wasRendered=!0,window.setTimeout(function(){e._applySignalReceivedBeforeRender()},0)}),e.attachEventListeners(),e.initCommonMutationObserver(e),e.setCleanValue(e.value),e._cleanValueHigh=e.valueHigh})}},{key:"setCleanValue",value:function(e){this._cleanValue=e}},{key:"disconnectedCallback",value:function(){var e,t;this.info("Ch5Slider.disconnectedCallback()"),this.removeEvents(),this.unsubscribeFromSignals(),void 0!==this._elSlider.noUiSlider&&(null===(t=null===(e=this._elSlider)||void 0===e?void 0:e.noUiSlider)||void 0===t||t.destroy()),null!==this._pressable&&this._pressable.destroy(),this.disconnectCommonMutationObserver()}},{key:"attributeChangedCallback",value:function(e,t,i){if(t!==i)switch(this.info('attributeChangedCallback("'+e+'","'+t+'","'+i+')"'),e){case"handleshape":this.hasAttribute("handleshape")?this.handleShape=i:this.handleShape=n.SHAPES[0],this.updateCssClasses();break;case"range":this.hasAttribute("range")?this.range=this.toBoolean(i,!0):this.range=!1;break;case"value":this.hasAttribute("value")?this.value=i:this.value=0;break;case"valuehigh":this.hasAttribute("valuehigh")?this.valueHigh=i:this.valueHigh=n.MAX_VALUE;break;case"max":this.hasAttribute("max")?(this.max=i,this.value=this.getAttribute("value"),this.valueHigh=this.getAttribute("valueHigh")):this.max=n.MAX_VALUE;break;case"min":this.hasAttribute("min")?(this.min=i,this.value=this.getAttribute("value"),this.valueHigh=this.getAttribute("valueHigh")):this.min=0;break;case"orientation":this.hasAttribute("orientation")?this.orientation=i:this.orientation=n.ORIENTATIONS[0],this.updateCssClasses();break;case"size":this.hasAttribute("size")?this.size=i:this.size=n.SIZES[0],this.updateCssClasses();break;case"handlesize":this.hasAttribute("handlesize")?this.handleSize=i:this.handleSize=n.SIZES[0],this.updateCssClasses();break;case"step":this.hasAttribute("step")?this.step=i:this.step=n.DEFAULT_STEP;break;case"stretch":this.hasAttribute("stretch")?this.stretch=i:this.stretch=null,this.updateCssClasses();break;case"ticks":this.hasAttribute("ticks")?this.ticks=i:this.ticks="";break;case"showtickvalues":this.hasAttribute("showtickvalues")?this.showTickValues=this.toBoolean(i,!0):this.showTickValues=!1;break;case"tapsettable":this.hasAttribute("tapsettable")?this.tapSettable=this.toBoolean(i,!0):this.tapSettable=!1;break;case"sendeventonchange":this.hasAttribute("sendeventonchange")?this.sendEventOnChange=i:this.sendEventOnChange="";break;case"sendeventonchangehigh":this.hasAttribute("sendeventonchangehigh")?this.sendEventOnChangeHigh=i:this.sendEventOnChangeHigh="";break;case"receivestatevalue":this.hasAttribute("receivestatevalue")?this.receiveStateValue=i:this.receiveStateValue="";break;case"receivestatevaluehigh":this.hasAttribute("receivestatevaluehigh")?this.receiveStateValueHigh=i:this.receiveStateValueHigh="";break;case"tooltipshowtype":this.hasAttribute("tooltipshowtype")?this.toolTipShowType=i:this.toolTipShowType=n.TOOLTIPS[0],this.updateCssClasses();break;case"tooltipdisplaytype":this.hasAttribute("tooltipdisplaytype")?this.toolTipDisplayType=i:this.toolTipDisplayType=n.TDISPLAY[0];break;case"dir":this.hasAttribute("dir")?this.direction=i.toLowerCase():this.direction=n.DIRECTION[0];break;default:_get(_getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,e,t,i)}}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(n.prototype),"unsubscribeFromSignals",this).call(this),this.unsubscribeFromObjectSignals(),this.unsubscribeFromAnalogSignals()}},{key:"getCssClassDisabled",value:function(){return this.cssClassPrefix+"--disabled"}},{key:"submit",value:function(){this.info("Ch5Slider.submit()"),"submit"===this.feedbackMode&&!0===this._dirtyLow&&(this._submitted=!0,this._setDirtyHandler(d.TCh5SliderHandle.VALUE),this._sendValueForChangeSignal(this._value)),"submit"===this.feedbackMode&&!0===this._range&&!0===this._dirtyHigh&&(this._submitted=!0,this._setDirtyHandler(d.TCh5SliderHandle.HIGHVALUE),this._sendHighValueForChangeSignal(this._valueHigh))}},{key:"reset",value:function(){this.info("Ch5Slider.reset()"),this._dirtyLow&&(this._setSliderValue(Number(this._cleanValue),d.TCh5SliderHandle.VALUE),this._value=Number(this._cleanValue),this._setCleanLow()),this._dirtyHigh&&(this._setSliderValue(Number(this._cleanValueHigh),d.TCh5SliderHandle.HIGHVALUE),this._valueHigh=Number(this._cleanValueHigh),this._setCleanHigh()),this.setClean()}},{key:"setClean",value:function(){this._cleanLow&&this._cleanHigh&&(this._clean=!0,this._dirty=!1,this._submitted=!1,"submit"===this.feedbackMode&&(this.dispatchEvent(this.cleanEvent=new CustomEvent("clean",{bubbles:!0,cancelable:!1})),this.onclean instanceof u.default?this.onclean.run({}):this.onclean instanceof Function&&this.onclean()))}},{key:"setDirty",value:function(){_get(_getPrototypeOf(n.prototype),"setDirty",this).call(this),"submit"===this.feedbackMode&&(this.dispatchEvent(this.dirtyEvent=new CustomEvent("dirty",{bubbles:!0,cancelable:!1})),this.ondirty instanceof u.default?this.ondirty.run({}):this.ondirty instanceof Function&&this.ondirty())}},{key:"setDirtyValue",value:function(e,t){switch(e){case d.TCh5SliderHandle.VALUE:this._setDirtyLow(),this._dirtyValue=Number(t[e]);break;case d.TCh5SliderHandle.HIGHVALUE:this._setDirtyHigh(),this._dirtyValueHigh=Number(t[e])}}},{key:"setInputValue",value:function(){}},{key:"updateForChangeInDisabledStatus",value:function(){_get(_getPrototypeOf(n.prototype),"updateForChangeInDisabledStatus",this).call(this),!0===this.disabled?this._elSlider.setAttribute("disabled","true"):this._elSlider.removeAttribute("disabled")}},{key:"createInternalHtml",value:function(){this._elSlider=document.createElement("div")}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(n.prototype),"initAttributes",this).call(this),this._upgradeProperty("handleShape"),this._upgradeProperty("range"),this._upgradeProperty("step"),this._upgradeProperty("min"),this._upgradeProperty("max"),this._upgradeProperty("value"),this._upgradeProperty("valueHigh"),this._upgradeProperty("orientation"),this._upgradeProperty("size"),this._upgradeProperty("handleSize"),this._upgradeProperty("stretch"),this._upgradeProperty("ticks"),this._upgradeProperty("showTickValues"),this._upgradeProperty("toolTipShowType"),this._upgradeProperty("toolTipDisplayType"),this._upgradeProperty("dir"),this._upgradeProperty("_sendEventOnChangeSigName"),this._upgradeProperty("_sendEventOnChangeHighSigName"),this._upgradeProperty("receiveStateValue"),this._upgradeProperty("receiveStateValueHigh")}},{key:"updateCssClasses",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"updateCssClasses",this).call(this);var t=new Set;t.add(this.primaryCssClass),t.add(this.cssClassPrefix+"--shape--"+this.handleShape),t.add(this.cssClassPrefix+"--size--"+this.size),t.add(this.cssClassPrefix+"--handle-size--"+this.handleSize),t.add(this.cssClassPrefix+"--stretch--"+this.stretch),t.add(this.cssClassPrefix+"--orientation--"+this.orientation),t.add(this.cssClassPrefix+"--tooltip--"+this.toolTipShowType);var i=this.getTargetElementForCssClassesAndStyle();void 0!==i.classList&&this._listOfAllPossibleComponentCssClasses.forEach(function(n){t.has(n)?(i.classList.add(n),e.info("add CSS class",n)):(i.classList.remove(n),e.info("remove CSS class",n))})}},{key:"attachEventListeners",value:function(){if(_get(_getPrototypeOf(n.prototype),"attachEventListeners",this).call(this),null!==this._elSlider.querySelector(".noUi-handle")){var e=this._elSlider.querySelector(".noUi-handle");e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur),this._elSlider.addEventListener("mouseleave",this._onMouseLeave),this._elSlider.addEventListener("touchmove",this._onMouseLeave),e.addEventListener("pointermove",function(e){e.stopPropagation()})}}},{key:"removeEvents",value:function(){if(_get(_getPrototypeOf(n.prototype),"removeEventListeners",this).call(this),null!==this._elSlider.querySelector(".noUi-handle")){var e=this._elSlider.querySelector(".noUi-handle");e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur),this._elSlider.removeEventListener("mouseleave",this._onMouseLeave),this._elSlider.removeEventListener("touchmove",this._onMouseLeave),e.removeEventListener("pointermove",function(e){e.stopPropagation()})}}},{key:"getTargetElementForCssClassesAndStyle",value:function(){return this}},{key:"_generateListOfAllPossibleComponentCssClasses",value:function(){var e=this,t=this._listOfAllPossibleComponentCssClasses;return t.push(this.primaryCssClass),n.SHAPES.forEach(function(i){t.push(e.cssClassPrefix+"--shape--"+i)}),n.SIZES.forEach(function(i){t.push(e.cssClassPrefix+"--size--"+i)}),n.SIZES.forEach(function(i){t.push(e.cssClassPrefix+"--handle-size--"+i)}),n.STRETCHES.forEach(function(i){t.push(e.cssClassPrefix+"--stretch--"+i)}),n.ORIENTATIONS.forEach(function(i){t.push(e.cssClassPrefix+"--orientation--"+i)}),n.TOOLTIPS.forEach(function(i){t.push(e.cssClassPrefix+"--tooltip--"+i)}),t}},{key:"_render",value:function(){var e=this;return this.info("Ch5Slider._render()"),new Promise(function(t,i){var n,s,r,a,l,u,h,d;if(null===e._elSlider||void 0===e._elSlider)return i(!1);"vertical"===e._orientation?(e._elSlider.style.width="",e._elSlider.style.height="inherit"):(e._elSlider.style.width="inherit",e._elSlider.style.height="");var f=e._parsedSliderOptions();try{(0,c.default)(e._elSlider.noUiSlider)||null===(s=null===(n=e._elSlider)||void 0===n?void 0:n.noUiSlider)||void 0===s||s.destroy();var p=(0,o.create)(e._elSlider,f);null===(a=null===(r=e._elSlider)||void 0===r?void 0:r.noUiSlider)||void 0===a||a.on("slide",e._onSliderChange),null===(u=null===(l=e._elSlider)||void 0===l?void 0:l.noUiSlider)||void 0===u||u.on("start",e._onSliderStart),null===(d=null===(h=e._elSlider)||void 0===h?void 0:h.noUiSlider)||void 0===d||d.on("end",e._onSliderStop),e._tgtEls=[],e._tgtEls.push(e._elSlider.querySelectorAll(".noUi-connect")),e._tgtEls.push(e._elSlider.querySelectorAll(".noUi-origin")),e._tooltip=e._elSlider.querySelectorAll(".noUi-tooltip"),t(p)}catch(t){i(t)}})}},{key:"_setSliderValue",value:function(e,t,i){var n,s,r,a;if(void 0!==this._elSlider&&void 0!==this._elSlider.noUiSlider){var o=void 0!==i?Math.round(i):0,l=[e,null];t===d.TCh5SliderHandle.HIGHVALUE&&(l=[null,e]),isNaN(o)||o<=0||o>12e4?(this._stopRcbAnimation(t),null===(s=null===(n=this._elSlider)||void 0===n?void 0:n.noUiSlider)||void 0===s||s.set(l)):(null===(a=null===(r=this._elSlider)||void 0===r?void 0:r.noUiSlider)||void 0===a||a.set(l),this._adjustTooltipValue(t),this._startRcbAnimation(o,t))}}},{key:"_onSliderSlide",value:function(e,t){this.info("Ch5Slider._onSliderSlide()"),this.dispatchEvent(this.sliderEvent=new CustomEvent("slider",{bubbles:!0,cancelable:!1,detail:{handle:t,value:e}}))}},{key:"_onSliderStart",value:function(e,t){this.info("Ch5Slider._onSliderStart()"),this._elSlider.removeEventListener("touchmove",this._onTouchMoveEnd),this._elSlider.addEventListener("touchmove",this._onMouseLeave),this.dispatchEvent(this.sliderStartEvent=new CustomEvent("slidestart",{bubbles:!0,cancelable:!1,detail:{handle:t,value:e}})),this.isSliderStarted=!0}},{key:"_onSliderStop",value:function(e,t){this.info("Ch5Slider._onSliderStop()"),this.isSliderStarted=!1,this.sliderTouch=null,this.dispatchEvent(this.sliderEndEvent=new CustomEvent("slideend",{bubbles:!0,cancelable:!1,detail:{handle:t,value:e}}))}},{key:"_onSliderChange",value:function(e,t){this.info("Ch5Slider._onSliderChange()"),this._applyHandleValueToComponent(t,e),void 0!==e&&"direct"===this._feedbackMode&&this._sendHandleValueSignal(t,e),this.dispatchEvent(this.sliderEvent=new CustomEvent("slider",{bubbles:!0,cancelable:!1,detail:{handle:t,value:e}})),this._dirty||this.setDirty(),this._dirty&&this.setDirtyValue(t,e),this._maybeSetComponentClean()}},{key:"_onFocus",value:function(e){this.info("Ch5Slider._onFocus()"),e.preventDefault(),e.stopPropagation(),this.dispatchEvent(this.focusEvent=new CustomEvent("focus",{bubbles:!0,cancelable:!1}))}},{key:"_onTouchMoveEnd",value:function(e){this.isSliderStarted=!1,e.preventDefault(),e.stopPropagation()}},{key:"_onMouseLeave",value:function(e){if(!0===this.isSliderStarted){var t=this._elSlider.querySelector(".noUi-handle"),i=null,s=null;if("touchmove"===e.type){if(f.default.isNil(this.sliderTouch)){var r=e.touches[0]||e.changedTouches[0];this.sliderTouch={clientX:r.clientX,clientY:r.clientY}}var a=e.touches[0]||e.changedTouches[0];i=a.clientX,s=a.clientY;var o=0,l=0;"vertical"===this._orientation?(o=Math.abs(this.sliderTouch.clientX-i),l=this._elSlider.clientWidth+n.OFFSET_THRESHOLD):(o=Math.abs(this.sliderTouch.clientY-s),l=this._elSlider.clientHeight+n.OFFSET_THRESHOLD),l<o&&(this.isSliderStarted=!1,this._elSlider.addEventListener("touchmove",this._onTouchMoveEnd),this.dispatchEvent(this.blurEvent=new CustomEvent("touchend",{bubbles:!1,cancelable:!1})))}else{i=e.clientX,s=e.clientY;var u=0,c=0;"vertical"===this._orientation?(u=Math.abs(this._elSlider.clientLeft-i),c=this._elSlider.clientWidth+n.OFFSET_THRESHOLD):(u=Math.abs(this._elSlider.clientTop-s),c=this._elSlider.clientHeight+n.OFFSET_THRESHOLD),c<u&&(this.isSliderStarted=!1,this.dispatchEvent(this.blurEvent=new CustomEvent("mouseup",{bubbles:!0,cancelable:!1})),t.blur())}}}},{key:"_onBlur",value:function(e){this.info("Ch5Slider._onBlur()"),e.preventDefault(),e.stopPropagation(),this.dispatchEvent(this.blurEvent=new CustomEvent("blur",{bubbles:!0,cancelable:!1}))}},{key:"_applyHandleValueToComponent",value:function(e,t){switch(e){case d.TCh5SliderHandle.VALUE:this._value=Number(t[e]);break;case d.TCh5SliderHandle.HIGHVALUE:this._valueHigh=Number(t[e])}}},{key:"_sendHandleValueSignal",value:function(e,t){var i=Math.round(Number(t[e]));switch(e){case d.TCh5SliderHandle.VALUE:this._setDirtyHandler(e),this._sendValueForChangeSignal(i);break;case d.TCh5SliderHandle.HIGHVALUE:this._setDirtyHandler(e),this._sendHighValueForChangeSignal(i)}}},{key:"_sendValueForChangeSignal",value:function(e){var t=null;""!==this._sendEventOnChangeSigName&&void 0!==this._sendEventOnChangeSigName&&null!==this._sendEventOnChangeSigName&&null!==(t=a.Ch5SignalFactory.getInstance().getNumberSignal(this._sendEventOnChangeSigName))&&t.value!==e&&t.publish(e)}},{key:"_sendHighValueForChangeSignal",value:function(e){var t=null;this._range&&""!==this._sendEventOnChangeHighSigName&&void 0!==this._sendEventOnChangeHighSigName&&null!==this._sendEventOnChangeHighSigName&&null!==(t=a.Ch5SignalFactory.getInstance().getNumberSignal(this._sendEventOnChangeHighSigName))&&t.publish(e)}},{key:"_setDirtyHandler",value:function(e){var t=this;switch(this.info("Ch5Slider._setDirtyHandler"),e){case d.TCh5SliderHandle.VALUE:null!==this._dirtyTimerHandle&&clearTimeout(this._dirtyTimerHandle),this._dirtyTimerHandle=window.setTimeout(function(){return t._onDirtyTimerFinished(e)},this._signalValueSyncTimeout);break;case d.TCh5SliderHandle.HIGHVALUE:null!==this._dirtyTimerHandleHigh&&clearTimeout(this._dirtyTimerHandleHigh),this._dirtyTimerHandleHigh=window.setTimeout(function(){return t._onDirtyTimerFinished(e)},this._signalValueSyncTimeout)}}},{key:"_onDirtyTimerFinished",value:function(e){switch(this.info("Ch5Slider._onDirtyTimerFinished"),e){case d.TCh5SliderHandle.VALUE:if(this._dirtyTimerHandle=null,this._dirtyValue!==this._cleanValue){var t=Number(this._cleanValue);this._setSliderValue(t,d.TCh5SliderHandle.VALUE),this._setCleanLow(),this._applyTooltipValue(this._tooltip[d.TCh5SliderHandle.VALUE],t)}break;case d.TCh5SliderHandle.HIGHVALUE:if(this._dirtyTimerHandleHigh=null,this._dirtyValueHigh!==this._cleanValueHigh){var i=Number(this._cleanValueHigh);this._setSliderValue(i,d.TCh5SliderHandle.HIGHVALUE),this._setCleanHigh(),this._applyTooltipValue(this._tooltip[d.TCh5SliderHandle.HIGHVALUE],i)}}this.setClean()}},{key:"_maybeSetComponentClean",value:function(){this._dirtyValue===this._cleanValue&&this._setCleanLow(),this._dirtyValueHigh===this._cleanValueHigh&&this._setCleanHigh(),this.setClean()}},{key:"_parsedSliderOptions",value:function(){var e=this,t=this._tapSettable?"tap":"none",i="rtl"===this.direction?"ltr":"rtl",n="vertical"===this.orientation?i:this.direction,s=this._connectDisplayFormatter(),r=this._step,a={min:this._min,max:this._max},o=this._parsedTicks(),l={};"object"==_typeof(o)&&(this._maybeSetMinAndMaxFromPips(o),a=this._getRangeFromPips(o),l={mode:"positions",density:100,values:Object.keys(o).map(function(e){return Number(e)}),format:{to:function(t){return e._showTickValues?t:""}}},this.hasAttribute("value")&&(this.value=this.getAttribute("value")),this.hasAttribute("valuehigh")&&(this.valueHigh=this.getAttribute("valuehigh")));var u="off"!==this._toolTipShowType&&(this._range?[{to:this._toolTipDisplayTypeFormatter.bind(this)},{to:this._toolTipDisplayTypeFormatter.bind(this)}]:[{to:this._toolTipDisplayTypeFormatter.bind(this)}]);return{start:this._getStartValue(),animate:!1,step:r,behaviour:t,connect:s,direction:n,range:a,orientation:this.orientation,pips:0!==Object.getOwnPropertyNames(o).length?l:void 0,tooltips:u}}},{key:"_getRangeFromPips",value:function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){if(Object.keys(e)[0]===i){if(0===Number(i)){t.min=Number(this.min);continue}t.min=Number(this.min)}if(Object.keys(e)[Object.keys(e).length-1]===i){if(100===Number(i)){t.max=Number(this.max);continue}t.max=Number(this.max)}t[i+"%"]=Number(e[i])}return t}},{key:"_maybeSetMinAndMaxFromPips",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(Object.keys(e)[0]===t&&0===Number(t)&&(this.min=Number(e[t])),Object.keys(e)[Object.keys(e).length-1]===t&&100===Number(t)&&(this.max=Number(e[t])))}},{key:"_parsedTicks",value:function(){if(""!==this._ticks&&null!==this._ticks&&void 0!==this._ticks)try{var t=JSON.parse(this._ticks);if(t&&"object"==_typeof(t))return t}catch(e){return!1}return!1}},{key:"_setDirtyHigh",value:function(){this._dirtyHigh=!0,this._cleanHigh=!1}},{key:"_setDirtyLow",value:function(){this._dirtyLow=!0,this._cleanLow=!1}},{key:"_setCleanLow",value:function(){this._cleanLow=!0,this._dirtyLow=!1}},{key:"_setCleanHigh",value:function(){this._cleanHigh=!0,this._dirtyHigh=!1}},{key:"_toolTipDisplayTypeFormatter",value:function(e){return"%"===this.toolTipDisplayType?this._tooltipValueToPercent(e):Math.round(e).toString()}},{key:"_tooltipValueToPercent",value:function(e){var t=Math.round(e);return isNaN(t)?e:Math.round(100*(t-this._min)/(this._max-this._min)).toString()+"%"}},{key:"_connectDisplayFormatter",value:function(){return!0===this.range?[!1,!0,!1]:[!0,!1]}},{key:"_startRcbAnimation",value:function(e,t){var i=this,n={transitionProperty:"transform",transitionTimingFunction:"linear"};n.transitionDuration=e.toString()+"ms",this._setStyleParameters(n),void 0!==this._animationTimer&&(clearTimeout(this._animationTimer),this._animationTimer=void 0),this._animatingHandle[t]=!0,this._animationTimer=window.setTimeout(function(){return i._stopRcbAnimation(t)},e)}},{key:"_stopRcbAnimation",value:function(e){void 0!==this._animationTimer&&(this._animatingHandle[e]=!1,clearTimeout(this._animationTimer),this._animationTimer=void 0,this._setStyleParameters({transitionProperty:"none",transitionDuration:"0ms",transitionTimingFunction:"ease"}))}},{key:"_setStyleParameters",value:function(e){var t,i=_createForOfIteratorHelper(this._tgtEls);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,s=0,r=Array.from(n);s<r.length;s++){var a=r[s];for(var o in e)if(e.hasOwnProperty(o)){var l=e[o];a.style[o]=l}}}catch(u){i.e(u)}finally{i.f()}}},{key:"subscribeToAnalogSignal",value:function(){var e=this;if(""===this._subReceiveAnalogValueId&&""!==this._receiveStateValueSignal){var t=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignal),i=a.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==i&&(this._subReceiveAnalogValueId=i.subscribe(function(t){null===e._dirtyTimerHandle&&e._applyTooltipValue(e._tooltip[d.TCh5SliderHandle.VALUE],t),e._tooltipValueFromSignal=t}))}}},{key:"subscribeToAnalogHighSignal",value:function(){var e=this;if(""===this._subReceiveAnalogValueHighId&&""!==this._receiveStateValueSignalHigh&&!1!==this.range){var t=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignalHigh),i=a.Ch5SignalFactory.getInstance().getNumberSignal(t);null!==i&&(this._subReceiveAnalogValueHighId=i.subscribe(function(t){null===e._dirtyTimerHandleHigh&&e._applyTooltipValue(e._tooltip[d.TCh5SliderHandle.HIGHVALUE],t),e._tooltipHighValueFromSignal=t}))}}},{key:"unsubscribeFromAnalogSignals",value:function(){var e=a.Ch5SignalFactory.getInstance();if(""!==this._subReceiveAnalogValueId&&""!==this._receiveStateValueSignal){var t=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignal),i=e.getNumberSignal(t);null!==i&&(i.unsubscribe(this._subReceiveAnalogValueId),this._subReceiveAnalogValueId="")}if(""!==this._subReceiveAnalogValueHighId&&""!==this._receiveStateValueSignalHigh){var n=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignalHigh),s=e.getNumberSignal(n);null!==s&&(s.unsubscribe(this._subReceiveAnalogValueHighId),this._subReceiveAnalogValueHighId="")}}},{key:"unsubscribeFromObjectSignals",value:function(){var e=a.Ch5SignalFactory.getInstance();if(""!==this._subReceiveValueId&&""!==this._receiveStateValueSignal){var t=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignal),i=e.getObjectSignal(t);null!==i&&(i.unsubscribe(this._subReceiveValueId),this._receiveStateValueSignal="")}if(""!==this._subReceiveValueHighId&&""!==this._receiveStateValueSignalHigh){var n=a.Ch5Signal.getSubscriptionSignalName(this._receiveStateValueSignalHigh),s=e.getObjectSignal(n);null!==s&&(s.unsubscribe(this._subReceiveValueHighId),this._receiveStateValueSignalHigh="")}}},{key:"_applyTooltipValue",value:function(e,t){null!=e&&(e.textContent=this._toolTipDisplayTypeFormatter(t))}},{key:"_calculatedValueWhileInRamp",value:function(){var e=this._value;if(void 0!==this._rcbSignalValue&&void 0!==this._rcbSignalValue.rcb.startv&&void 0!==this._rcbSignalValue.rcb.startt){var t=(this._rcbSignalValue.rcb.value-this._rcbSignalValue.rcb.startv)/this._rcbSignalValue.rcb.time,i=Date.now()-this._rcbSignalValue.rcb.startt;e=Math.round(t*i+this._rcbSignalValue.rcb.startv)}return e}},{key:"_calculatedHighValueWhileInRamp",value:function(){var e=this._value;if(void 0!==this._rcbSignalValueHigh&&void 0!==this._rcbSignalValueHigh.rcb.startv&&void 0!==this._rcbSignalValueHigh.rcb.startt){var t=(this._rcbSignalValueHigh.rcb.value-this._rcbSignalValueHigh.rcb.startv)/this._rcbSignalValueHigh.rcb.time,i=Date.now()-this._rcbSignalValueHigh.rcb.startt;e=Math.round(t*i+this._rcbSignalValueHigh.rcb.startv)}return e}},{key:"_isRcbValueReceived",value:function(){return void 0!==this._rcbSignalValue&&void 0!==this._rcbSignalValue.rcb.startv&&void 0!==this._rcbSignalValue.rcb.startt}},{key:"_isRcbHighValueReceived",value:function(){return void 0!==this._rcbSignalValueHigh&&void 0!==this._rcbSignalValueHigh.rcb.startv&&void 0!==this._rcbSignalValueHigh.rcb.startt}},{key:"_applySignalReceivedBeforeRender",value:function(){void 0!==this._rcbSignalValue&&0!==this._rcbSignalValue.rcb.time&&void 0!==this._rcbSignalValue.rcb.startv&&void 0!==this._rcbSignalValue.rcb.startt&&this._setSliderValue(this._rcbSignalValue.rcb.value,d.TCh5SliderHandle.VALUE,this._rcbSignalValue.rcb.time-(Date.now()-this._rcbSignalValue.rcb.startt)),void 0!==this._rcbSignalValueHigh&&0!==this._rcbSignalValueHigh.rcb.time&&void 0!==this._rcbSignalValueHigh.rcb.startv&&void 0!==this._rcbSignalValueHigh.rcb.startt&&this._setSliderValue(this._rcbSignalValueHigh.rcb.value,d.TCh5SliderHandle.HIGHVALUE,this._rcbSignalValueHigh.rcb.time-(Date.now()-this._rcbSignalValueHigh.rcb.startt))}},{key:"_adjustTooltipValue",value:function(e){var t=e===d.TCh5SliderHandle.VALUE?d.TCh5SliderHandle.VALUE:d.TCh5SliderHandle.HIGHVALUE;void 0!==this._tooltipValueFromSignal&&e===d.TCh5SliderHandle.VALUE&&this._applyTooltipValue(this._tooltip[t],this._tooltipValueFromSignal),void 0!==this._tooltipHighValueFromSignal&&e===d.TCh5SliderHandle.HIGHVALUE&&this._applyTooltipValue(this._tooltip[t],this._tooltipHighValueFromSignal)}},{key:"_getStartValue",value:function(){var e=!1===this.range?this._value:[this._value,this._valueHigh];return this._wasRendered||(e=this._getStartValueWhileInRamp()),e}},{key:"_getStartValueWhileInRamp",value:function(){var e,t;return e=void 0!==this._rcbSignalValue&&void 0!==this._rcbSignalValue.rcb.startv&&0!==this._rcbSignalValue.rcb.time?this._calculatedValueWhileInRamp():this._value,t=void 0!==this._rcbSignalValueHigh&&void 0!==this._rcbSignalValueHigh.rcb.startv&&0!==this._rcbSignalValueHigh.rcb.time?this._calculatedHighValueWhileInRamp():this._valueHigh,this.range?[e,t]:e}},{key:"_upgradeProperty",value:function(e){if(this.constructor.prototype.hasOwnProperty(e)){var t=this[e];delete this[e],this[e]=t}}}],[{key:"observedAttributes",get:function(){return s.Ch5Common.observedAttributes.concat(["handleshape","range","value","valuehigh","max","min","orientation","size","handlesize","step","stretch","ticks","showtickvalues","tooltipshowtype","tooltipdisplaytype","tapsettable","feedbackmode","signalvaluesynctimeout","dir","sendeventonchange","sendeventonchangehigh","receivestatevalue","receivestatevaluehigh"])}},{key:"registerSignalAttributeTypes",value:function(){p.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(n.ELEMENT_NAME,n.SIGNAL_ATTRIBUTE_TYPES)}}]),n}();t.Ch5Slider=v,v.ELEMENT_NAME="ch5-slider",v.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatevalue:{direction:"state",numericJoin:1,contractName:!0},receivestatevaluehigh:{direction:"state",numericJoin:1,contractName:!0},sendeventonchange:{direction:"event",numericJoin:1,contractName:!0},sendeventonchangehigh:{direction:"event",numericJoin:1,contractName:!0}}),v.MIN_VALUE=0,v.MAX_VALUE=65535,v.DEFAULT_STEP=1,v.SHAPES=["rounded-rectangle","rectangle","circle","oval"],v.ORIENTATIONS=["horizontal","vertical"],v.SIZES=["regular","x-small","small","large","x-large"],v.STRETCHES=["both","width","height"],v.DIRECTION=["ltr","rtl"],v.TOOLTIPS=["off","on","auto"],v.TDISPLAY=["%","value"],v.COMPONENT_DATA={SHAPES:{default:v.SHAPES[0],values:v.SHAPES,key:"shape",classListPrefix:"ch5-slider--shape--"},ORIENTATIONS:{default:v.ORIENTATIONS[0],values:v.ORIENTATIONS,key:"orientation",classListPrefix:"ch5-slider--orientation"},SIZES:{default:v.SIZES[0],values:v.SIZES,key:"size",classListPrefix:"ch5-slider--size"},HANDLE_SIZE:{default:v.SIZES[0],values:v.SIZES,key:"handle_size",classListPrefix:"ch5-slider--handle-size--"},STRETCH:{default:v.STRETCHES[0],values:v.STRETCHES,key:"stretch",classListPrefix:"ch5-slider--stretch"},DIRECTION:{default:v.DIRECTION[0],values:v.DIRECTION,key:"direction",classListPrefix:"ch5-slider--direction"},TOOLTIPS:{default:v.TOOLTIPS[0],values:v.TOOLTIPS,key:"tooltip",classListPrefix:"ch5-slider--tooltip"},TDISPLAY:{default:v.TDISPLAY[0],values:v.TDISPLAY,key:"tdisplay",classListPrefix:"ch5-slider--"}},v.OFFSET_THRESHOLD=30,"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(v.ELEMENT_NAME,v),v.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(195),t)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Toggle=void 0;var s=i(3),r=i(0),a=i(35),o=n(i(14)),l=i(4),u=i(2),c=function(e){_inherits(i,a.Ch5CommonInput);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._elBody={},e._elContainer={},e._elLabel={},e._elHandle={},e._elOnContainer={},e._elLabelOn={},e._elIconOn={},e._elOffContainer={},e._elLabelOff={},e._elIconOff={},e._elKnob={},e.primaryCssClass="ch5-toggle",e.cssClassPrefix="ch5-toggle",e._label="",e._labelOn="",e._labelOff="",e._iconOn="",e._iconOff="",e._handleShape="circle",e._orientation="horizontal",e._direction=s.Ch5Common.DIRECTION[0],e._value=!1,e._sigNameReceiveValue="",e._subReceiveValueId="",e._sigNameReceiveScriptLabelHtml="",e._subReceiveScriptLabelHtmlId="",e._sigNameSendOnClick="",e._sigNameSendOnTouch="",e.changeEvent={},e.dirtyEvent={},e.cleanEvent={},e._dirty=!1,e._clean=!0,e._submitted=!1,e._dirtyValue="",e._cleanValue="",e._dirtyTimerHandle=null,e._listOfAllPossibleComponentCssClasses=e._generateListOfAllPossibleComponentCssClasses(),e.createInternalHtml(),e._onClick=e._onClick.bind(_assertThisInitialized(e)),e}return _createClass(i,[{key:"label",get:function(){return this._label},set:function(e){if(this.logger.log("set label: ",e),this._label!==e){var t;t=this._getTranslatedValue("label",e),this._elLabel.innerHTML=e,this._elLabel.hidden=!1,this._label=t,t!==e&&this.setAttribute("label",t)}}},{key:"labelOn",get:function(){return this._labelOn},set:function(e){var t;t=null==e?"":this._getTranslatedValue("labelOn",e),this._elLabelOn.innerText=t,this._labelOn=t,t!==e&&this.setAttribute("labelon",t)}},{key:"labelOff",get:function(){return this._labelOff},set:function(e){var t;t=null==e?"":this._getTranslatedValue("labelOff",e),this._elLabelOff.innerText=t,this._labelOff=t,t!==e&&this.setAttribute("labeloff",t)}},{key:"iconOn",get:function(){return this._iconOn},set:function(e){var t=this;this._iconOn!==e&&(""!==this.iconOn&&this._iconOn.split(" ").forEach(function(e){""!==(e=e.trim())&&t._elIconOn.classList.remove(e)}),this._iconOn=e,""!==this.iconOn&&this._iconOn.split(" ").forEach(function(e){""!==(e=e.trim())&&t._elIconOn.classList.add(e)}),this.setAttribute("iconon",e))}},{key:"iconOff",get:function(){return this._iconOff},set:function(e){var t=this;this._iconOff!==e&&(""!==this.iconOff&&this._iconOff.split(" ").forEach(function(e){""!==(e=e.trim())&&t._elIconOff.classList.remove(e)}),this._iconOff=e,""!==this.iconOff&&this._iconOff.split(" ").forEach(function(e){""!==(e=e.trim())&&t._elIconOff.classList.add(e)}),this.setAttribute("iconoff",e))}},{key:"handleShape",get:function(){return this._handleShape},set:function(e){this._handleShape!==e&&null!==e&&(i.SHAPES.indexOf(e)>=0?this._handleShape=e:this._handleShape=i.SHAPES[0],this.setAttribute("handleshape",this._handleShape))}},{key:"orientation",get:function(){return this._orientation},set:function(e){this._orientation!==e&&(i.ORIENTATIONS.indexOf(e)>=0?this._orientation=e:this._orientation=i.ORIENTATIONS[0],this.setAttribute("orientation",this._orientation))}},{key:"value",get:function(){return this._value},set:function(e){var t=this.toBoolean(e);null!==this._dirtyTimerHandle&&clearTimeout(this._dirtyTimerHandle),this._value!==t&&(this._value=t,this.setAttribute("value",this._value.toString()))}},{key:"checked",get:function(){return this.hasAttribute("checked")},set:function(e){this.toBoolean(e)?(this.setAttribute("checked",""),this._elBody.classList.add(this.primaryCssClass+"--on")):(this.removeAttribute("checked"),this._elBody.classList.remove(this.primaryCssClass+"--on"))}},{key:"direction",get:function(){return this._direction},set:function(e){null==e&&(e=s.Ch5Common.DIRECTION[0]),s.Ch5Common.DIRECTION.indexOf(e)>=0?this._direction=e:this._direction=s.Ch5Common.DIRECTION[0]}},{key:"receiveStateValue",get:function(){return this._attributeValueAsString("receivestatevalue")},set:function(e){var t=this;if(this.info("Ch5Toggle receiveStateValue: "+e),""!==e&&this._sigNameReceiveValue!==e&&null!=e){if(""!==this._sigNameReceiveValue&&void 0!==this._sigNameReceiveValue&&null!==this._sigNameReceiveValue){var i=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveValue),n=r.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&n.unsubscribe(this._subReceiveValueId)}this._sigNameReceiveValue=e,this.setAttribute("receivestatevalue",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveValue),a=r.Ch5SignalFactory.getInstance().getBooleanSignal(s);null!==a&&(this._subReceiveValueId=a.subscribe(function(e){t.setAttribute("value",""+e),t._cleanValue=e,t.checked=e,t.setClean()}))}}},{key:"receiveStateScriptLabelHtml",get:function(){return this._attributeValueAsString("receivestatescriptlabelhtml")},set:function(e){var t=this;if(this.info("set receiveStateScriptLabelHtml('"+e+"')"),""!==e&&this._sigNameReceiveScriptLabelHtml!==e&&null!=e){if(""!==this._sigNameReceiveScriptLabelHtml&&void 0!==this._sigNameReceiveScriptLabelHtml&&null!==this._sigNameReceiveScriptLabelHtml){var i=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveScriptLabelHtml),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe(this._subReceiveScriptLabelHtmlId)}this._sigNameReceiveScriptLabelHtml=e,this.setAttribute("receivestatescriptlabelhtml",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveScriptLabelHtml),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);null!==a&&(this._subReceiveScriptLabelHtmlId=a.subscribe(function(e){""!==e&&e!==t._label&&t.setAttribute("label",e)}))}}},{key:"sendEventOnClick",get:function(){return this._sigNameSendOnClick},set:function(e){this.info("set sendEventOnClick('"+e+"')"),""!==e&&this._sigNameSendOnClick!==e&&(this._sigNameSendOnClick=e,this.setAttribute("sendeventonclick",e))}},{key:"sendEventOnTouch",get:function(){return this._sigNameSendOnTouch},set:function(e){this.info("set sendEventOnTouch('"+e+"')"),""!==e&&this._sigNameSendOnTouch!==e&&(this._sigNameSendOnTouch=e,this.setAttribute("sendeventontouch",e))}},{key:"connectedCallback",value:function(){this.contentCleanUp(),this.hasAttribute("role")||this.setAttribute("role",l.Ch5RoleAttributeMapping.ch5Toggle),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.setAttribute("data-ch5-id",this.getCrId()),this.cacheComponentChildrens(),this._elBody.parentElement!==this&&this.appendChild(this._elBody),this.initAttributes(),this.updateCssClasses(),this.attachEventListeners(),this.initCommonMutationObserver(this),this._cleanValue=this.value}},{key:"disconnectedCallback",value:function(){this.removeEvents(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver()}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n){this.info('ch5-toggle attributeChangedCallback("'+e+'","'+t+'","'+n+')"');var r=null!==n;switch(e){case"checked":this.hasAttribute("checked")?this.value=!0:this.value=!1,this.setAttribute("aria-checked",r.toString());break;case"label":this.hasAttribute("label")?this.label=n:this.label="";break;case"labelon":this.hasAttribute("labelon")?this.labelOn=n:this.labelOn="";break;case"labeloff":this.hasAttribute("labeloff")?this.labelOff=n:this.labelOff="";break;case"iconon":this.hasAttribute("iconon")?this.iconOn=n:this.iconOn="";break;case"iconoff":this.hasAttribute("iconoff")?this.iconOff=n:this.iconOff="";break;case"handleshape":this.hasAttribute("handleshape")?this.handleShape=n:this.handleShape=i.SHAPES[0],this.updateCssClasses();break;case"orientation":this.hasAttribute("orientation")?this.orientation=n:this.orientation=i.ORIENTATIONS[0],this.updateCssClasses();break;case"value":this.hasAttribute("value")?(this.value=this.checkIfValueIsTruey(n),this.checked=n):this.value=!1;break;case"signalvaluesynctimeout":this.hasAttribute("signalvaluesynctimeout")?this.signalValueSyncTimeout=n:this.signalValueSyncTimeout="";break;case"receivestatevalue":this.hasAttribute("receivestatevalue")?this.receiveStateValue=n:this.receiveStateValue="";break;case"receivestatescriptlabelhtml":this.hasAttribute("receivestatescriptlabelhtml")?this.receiveStateScriptLabelHtml=n:this.receiveStateScriptLabelHtml="";break;case"sendeventonclick":this.hasAttribute("sendeventonclick")?this.sendEventOnClick=n:this.sendEventOnClick="";break;case"sendeventontouch":this.hasAttribute("sendeventontouch")?this.sendEventOnTouch=n:this.sendEventOnTouch="";break;case"dir":this.hasAttribute("dir")?this.direction=n.toLowerCase():this.direction=s.Ch5Common.DIRECTION[0],this.getTargetElementForCssClassesAndStyle().classList.add(this.cssClassPrefix+"--dir--"+this.direction);break;case"disabled":this.disabled=r,this.setAttribute("aria-disabled",r.toString()),r?(this.removeAttribute("tabindex"),this.blur()):this.setAttribute("tabindex","0"),this.updateForChangeInDisabledStatus();break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this);var e=r.Ch5SignalFactory.getInstance();if(""!==this._subReceiveValueId&&""!==this._sigNameReceiveValue){var t=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveValue),n=e.getBooleanSignal(t);null!==n&&(n.unsubscribe(this._subReceiveValueId),this._sigNameReceiveValue="")}if(""!==this._subReceiveScriptLabelHtmlId&&""!==this._sigNameReceiveScriptLabelHtml){var s=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveScriptLabelHtml),a=e.getStringSignal(s);null!==a&&(a.unsubscribe(this._subReceiveScriptLabelHtmlId),this._sigNameReceiveScriptLabelHtml="")}}},{key:"submit",value:function(){"submit"===this.feedbackMode&&!0===this._dirty&&(this._submitted=!0,this._setDirtyHandler(),this.sendSignalForClickAndTouch())}},{key:"reset",value:function(){this.setClean(),this.value=this._cleanValue,this.checked=this._cleanValue}},{key:"getDirty",value:function(){return"submit"===this.feedbackMode&&this._dirty}},{key:"setDirty",value:function(){if(this._dirty=!0,this._clean=!1,"submit"===this.feedbackMode){var e={value:this.checked};this.dispatchEvent(this.dirtyEvent=new CustomEvent("dirty",{bubbles:!0,cancelable:!1,detail:e})),this.ondirty instanceof o.default?this.ondirty.run({}):this.onclean instanceof Function&&this.onclean()}}},{key:"setClean",value:function(){if(null!==this._dirtyTimerHandle&&clearTimeout(this._dirtyTimerHandle),this._dirty=!1,this._clean=!0,this._submitted=!1,"submit"===this.feedbackMode){var e={value:this.checked};this.dispatchEvent(this.cleanEvent=new CustomEvent("clean",{bubbles:!0,cancelable:!1,detail:e})),this.onclean instanceof o.default?this.onclean.run({}):this.onclean instanceof Function&&this.onclean()}}},{key:"getCssClassDisabled",value:function(){return this.cssClassPrefix+"--disabled"}},{key:"createInternalHtml",value:function(){this._elBody=document.createElement("div"),this._elContainer=document.createElement("div"),this._elLabel=document.createElement("span"),this._elLabel.hidden=!0,this._elLabel.classList.add(this.primaryCssClass+"__label"),this._elHandle=document.createElement("span"),this._elHandle.classList.add(this.primaryCssClass+"__handle"),this._elIconOn=document.createElement("i"),this._elIconOn.classList.add(this.primaryCssClass+"__on-icon"),this._elLabelOn=document.createElement("span"),this._elLabelOn.classList.add(this.primaryCssClass+"__on-label"),this._elOnContainer=document.createElement("div"),this._elOnContainer.appendChild(this._elIconOn),this._elOnContainer.appendChild(this._elLabelOn),this._elIconOff=document.createElement("i"),this._elIconOff.classList.add(this.primaryCssClass+"__off-icon"),this._elLabelOff=document.createElement("span"),this._elLabelOff.classList.add(this.primaryCssClass+"__off-label"),this._elOffContainer=document.createElement("div"),this._elOffContainer.appendChild(this._elIconOff),this._elOffContainer.appendChild(this._elLabelOff),this._elKnob=document.createElement("a"),this._elContainer.appendChild(this._elLabel),this._elContainer.appendChild(this._elHandle),this._elHandle.appendChild(this._elOffContainer),this._elHandle.appendChild(this._elOnContainer),this._elHandle.appendChild(this._elKnob),this._elBody.appendChild(this._elContainer)}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this._upgradeProperty("checked"),this._upgradeProperty("label"),this._upgradeProperty("labelOn"),this._upgradeProperty("labelOff"),this._upgradeProperty("iconOn"),this._upgradeProperty("iconOff"),this._upgradeProperty("handleShape"),this._upgradeProperty("value"),this._upgradeProperty("signalValueSyncTimeout"),this._upgradeProperty("feedbackMode"),this._upgradeProperty("disabled"),this._upgradeProperty("receiveStateValue"),this._upgradeProperty("receiveStateScriptLabelHtml")}},{key:"updateCssClasses",value:function(){var e=this;_get(_getPrototypeOf(i.prototype),"updateCssClasses",this).call(this);var t=new Set;t.add(this.primaryCssClass),t.add(this.cssClassPrefix+"--"+this.handleShape),t.add(this.cssClassPrefix+"--"+this.orientation);var n=this.getTargetElementForCssClassesAndStyle();void 0!==n.classList&&this._listOfAllPossibleComponentCssClasses.forEach(function(i){t.has(i)?(n.classList.add(i),e.info("add CSS class",i)):(n.classList.remove(i),e.info("remove CSS class",i))})}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),this.addEventListener("click",this._onClick)}},{key:"removeEvents",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),this.removeEventListener("click",this._onClick)}},{key:"getTargetElementForCssClassesAndStyle",value:function(){return this._elBody}},{key:"_generateListOfAllPossibleComponentCssClasses",value:function(){var e=this,t=this._listOfAllPossibleComponentCssClasses;return t.push(this.primaryCssClass),i.SHAPES.forEach(function(i){var n=e.cssClassPrefix+"--"+i;t.push(n)}),i.ORIENTATIONS.forEach(function(i){t.push(e.cssClassPrefix+"--"+i)}),t}},{key:"_onClick",value:function(e){this.info("Ch5Toggle._onClick()"),this.disabled||this.toggleChecked()}},{key:"toggleChecked",value:function(){var e;this.checked=!this.checked,e={value:this.checked},this._dirty?this.setClean():(this._dirtyValue=this.checked,this.setDirty()),"submit"!==this._feedbackMode&&(this._setDirtyHandler(),this.sendSignalForClickAndTouch()),this._dispatchEvents(e)}},{key:"_setDirtyHandler",value:function(){var e=this;this.info("Ch5Toggle._setDirtyHandler"),null!==this._dirtyTimerHandle&&clearTimeout(this._dirtyTimerHandle),this._dirtyTimerHandle=window.setTimeout(function(){return e._onDirtyTimerFinished()},this._signalValueSyncTimeout)}},{key:"_onDirtyTimerFinished",value:function(){this.info("Ch5Toggle._onDirtyTimerFinished"),this._dirtyTimerHandle=null,this._dirtyValue!==this._cleanValue&&(this.checked=this._cleanValue,this.setClean())}},{key:"_dispatchEvents",value:function(e){this.dispatchEvent(this.changeEvent=new CustomEvent("change",{detail:e,bubbles:!0}))}},{key:"_upgradeProperty",value:function(e){if(this.constructor.prototype.hasOwnProperty(e)){var t=this[e];delete this[e],this[e]=t}}},{key:"sendSignalForClickAndTouch",value:function(){var e=""!==this._sigNameSendOnClick&&void 0!==this._sigNameSendOnClick&&null!==this._sigNameSendOnClick,t=""!==this._sigNameSendOnTouch&&void 0!==this._sigNameSendOnTouch&&null!==this._sigNameSendOnTouch;(e||t)&&(e&&t&&this._sigNameSendOnClick===this._sigNameSendOnTouch?this._sendValueForClickSignal():t?this._sendValueForTouchSignal():e&&this._sendValueForClickSignal())}},{key:"_sendValueForClickSignal",value:function(){var e=null;""!==this._sigNameSendOnClick&&void 0!==this._sigNameSendOnClick&&null!==this._sigNameSendOnClick&&null!==(e=r.Ch5SignalFactory.getInstance().getBooleanSignal(this._sigNameSendOnClick))&&(e.publish(!0),e.publish(!1))}},{key:"_sendValueForTouchSignal",value:function(){var e=null;""!==this._sigNameSendOnTouch&&void 0!==this._sigNameSendOnTouch&&null!==this._sigNameSendOnTouch&&null!==(e=r.Ch5SignalFactory.getInstance().getBooleanSignal(this._sigNameSendOnTouch))&&(e.publish(!0),e.publish(!1))}}],[{key:"observedAttributes",get:function(){var e=s.Ch5Common.observedAttributes,t=a.Ch5CommonInput.observedAttributes;return e.concat(["checked","label","labelon","labeloff","iconon","iconoff","handleshape","orientation","value","signalvaluesynctimeout","dir","receivestatevalue","receivestatescriptlabelhtml","sendeventonclick","sendeventontouch"],t)}},{key:"registerSignalAttributeTypes",value:function(){u.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}}]),i}();t.Ch5Toggle=c,c.ELEMENT_NAME="ch5-toggle",c.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestatescriptlabelhtml:{direction:"state",stringJoin:1,contractName:!0},receivestatevalue:{direction:"state",booleanJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventontouch:{direction:"event",booleanJoin:1,contractName:!0}}),c.SHAPES=["circle","rectangle"],c.ORIENTATIONS=["horizontal","vertical"],c.MODES=["direct","submit"],c.COMPONENT_DATA={SHAPES:{default:c.SHAPES[0],values:c.SHAPES,key:"shape",classListPrefix:"ch5-toggle--"},ORIENTATIONS:{default:c.ORIENTATIONS[0],values:c.ORIENTATIONS,key:"orientation",classListPrefix:"ch5-toggle--"},MODES:{default:c.MODES[0],values:c.MODES,key:"mode",classListPrefix:"ch5-toggle--"},DIRECTION:{default:s.Ch5Common.DIRECTION[0],values:s.Ch5Common.DIRECTION,key:"mode",classListPrefix:"ch5-toggle--dir--"}},"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(c.ELEMENT_NAME,c),c.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(197),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5SelectOption=void 0,i(37);var n=i(3),s=i(0),r=i(61),a=i(4),o=i(2),l=function(e){_inherits(i,n.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._idx=-1,e.receiveStateSelectedSubscription="",e._iconPosition=i.ICON_POSITION_VALUES[0],e._useDefaultTmpl=!1,e._receiveStateSelected=null,e._receiveStateLabel=null,e._receiveStateLabelSubscription="",e._optLabel="",e._receiveStateUrl=null,e._receiveStateScriptLabelHTML=null,e._sendEventOnClick=null,e._parentCh5Select=null,e._optionHammer=null,e._ch5Toggle=null,e._onClick=e._onClick.bind(_assertThisInitialized(e)),e._onPress=e._onPress.bind(_assertThisInitialized(e)),e._onPressUp=e._onPressUp.bind(_assertThisInitialized(e)),e}return _createClass(i,[{key:"iconPosition",get:function(){return this._iconPosition},set:function(e){e=this._checkAndSetStringValue(e),this._iconPosition!==e&&(this._iconPosition=e,this.setAttribute("iconposition",e))}},{key:"useDefaultTmpl",get:function(){return this._useDefaultTmpl},set:function(e){e=this.checkIfValueIsTruey(e.toString()),this._useDefaultTmpl!==e&&(this._useDefaultTmpl=e)}},{key:"receiveStateSelected",get:function(){return this._attributeValueAsString("receivestateselected")},set:function(e){e=this._checkAndSetStringValue(e),this._receiveStateSelected!==e&&(this._receiveStateSelected=e,this.setAttribute("receivestateselected",e),this._handleReceiveSignalSelected(),null!==this._ch5Toggle&&this.defaultTmplIsUsed()&&this._ch5Toggle.setAttribute("receiveStateSelected",e))}},{key:"receiveStateLabel",get:function(){return this._attributeValueAsString("receivestatelabel")},set:function(e){e=this._checkAndSetStringValue(e),this._receiveStateLabel!==e&&(this._receiveStateLabel=e,this.setAttribute("receivestatelabel",e),this._handleReceiveSignalLabel())}},{key:"receiveStateUrl",get:function(){return this._receiveStateUrl},set:function(e){e=this._checkAndSetStringValue(e),this._receiveStateUrl!==e&&(this._receiveStateUrl=e,this.setAttribute("receivestateurl",e))}},{key:"receiveStateScriptLabelHTML",get:function(){return this._receiveStateScriptLabelHTML},set:function(e){e=this._checkAndSetStringValue(e),this._receiveStateScriptLabelHTML!==e&&(this._receiveStateScriptLabelHTML=e,this.setAttribute("receivestatescriptlabelhtml",e),null!==this._ch5Toggle&&this.defaultTmplIsUsed()&&this._ch5Toggle.setAttribute("receiveStateScriptLabelHTML",e))}},{key:"sendEventOnClick",get:function(){return this._sendEventOnClick},set:function(e){e=this._checkAndSetStringValue(e),this._sendEventOnClick!==e&&(this._sendEventOnClick=e,this.setAttribute("sendeventonclick",e),null!==this._ch5Toggle&&this.defaultTmplIsUsed()&&this._ch5Toggle.setAttribute("sendEventOnClick",e))}},{key:"idx",get:function(){return this._idx},set:function(e){this._idx!==e&&(this._idx=e)}},{key:"optLabel",get:function(){return this._optLabel},set:function(e){if(this._optLabel!==e&&(this._optLabel=e,this.hasAttribute("useDefaultTmpl"))){var t=this.querySelector("#"+this._getDefaultTmplLabelId());t instanceof HTMLElement&&(t.textContent=e)}}},{key:"connectedCallback",value:function(){this._parentCh5Select=this.closest("ch5-select"),this.hasAttribute("role")||this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5SelectOption),this._initDefaultTemplate(),this.intializations(),this.attachEventListeners()}},{key:"disconnectedCallback",value:function(){this.removeEventListeners(),this.unsubscribeFromSignals()}},{key:"unsubscribeFromSignals",value:function(){this.info("unsubscribeFromSignals()"),_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this),this.clearBooleanSignalSubscription(this._receiveStateSelected,this.receiveStateSelectedSubscription),this._receiveStateSelected="",this.clearStringSignalSubscription(this._receiveStateLabel,this._receiveStateLabelSubscription),this._receiveStateLabel=""}},{key:"intializations",value:function(){this.setAttribute("data-ch5-id",this.getCrId()),this.hasAttribute("role")||this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5SelectOption),this.classList.contains(i.ITEM_STYLE_CLASS)||this.classList.add(i.ITEM_STYLE_CLASS),this.initializeAttributes()}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(this.info('ch5-select-option attributeChangedCallback("'+e+'","'+t+'","'+n+")"),e){case"iconposition":this.iconPosition=this.getAttribute("iconPosition")||i.ICON_POSITION_VALUES[0];break;case"receivestateselected":this.receiveStateSelected=this.getAttribute("receiveStateSelected");break;case"receivestatelabel":this.receiveStateLabel=this.getAttribute("receiveStateLabel");break;case"receivestateurl":this.receiveStateUrl=this.getAttribute("receiveStateUrl");break;case"receivestatescriptlabelhtml":this.receiveStateScriptLabelHTML=this.getAttribute("receiveStateScriptLabelHTML");break;case"sendeventonclick":this.sendEventOnClick=this.getAttribute("sendEventOnClick");break;case"data-ch5-opt-idx":this.idx=Number(n);break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"initializeAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.iconPosition=this.getAttribute("iconPosition")||i.ICON_POSITION_VALUES[0],this.receiveStateSelected=this.getAttribute("receiveStateSelected"),this.receiveStateLabel=this.getAttribute("receiveStateLabel"),this.receiveStateUrl=this.getAttribute("receiveStateUrl"),this.receiveStateScriptLabelHTML=this.getAttribute("receiveStateScriptLabelHTML"),this.sendEventOnClick=this.getAttribute("sendEventOnClick"),this.idx=Number(this.getAttribute("data-ch5-opt-idx"))}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),this._optionHammer=new Hammer.Manager(this),this._optionHammer.add(new Hammer.Tap({event:"tap"})),this._optionHammer.on("tap",this._onClick),this._optionHammer.add(new Hammer.Press({time:500})),this._optionHammer.on("press",this._onPress),this._optionHammer.on("pressup",this._onPressUp)}},{key:"removeEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),null!==this._optionHammer&&(this._optionHammer.off("tap",this._onClick),this._optionHammer.off("press",this._onPress),this._optionHammer.off("pressup",this._onPressUp))}},{key:"repaint",value:function(){this.info("<ch5-select-option /> doen't need repaint")}},{key:"_initDefaultTemplate",value:function(){this.hasAttribute("useDefaultTmpl")&&(this.innerHTML=this._getDefaultTemplate(),this.classList.add(i.ITEM_STYLE_DEFAULT_TMPL_CLASS),this._ch5Toggle=this.querySelector("ch5-toggle"))}},{key:"_isParentMultiselect",value:function(){return null!==this._parentCh5Select&&this._parentCh5Select.multiselect}},{key:"_parentHasFeedbackModeSubmit",value:function(){return null!==this._parentCh5Select&&this._parentCh5Select.feedbackMode===r.Ch5Select.FEEDBACK_MODE_VALUES[1]}},{key:"_getParentSyncTimeout",value:function(){return this._parentCh5Select.signalValueSyncTimeout}},{key:"_getDefaultTmplLabelId",value:function(){return this.getCrId()+"-opt-label"}},{key:"_getDefaultTemplate",value:function(){var e='<ch5-image refreshRate="0"';null!==this.receiveStateUrl&&""!==this.receiveStateUrl&&(e+=' receiveStateUrl="'.concat(this.receiveStateUrl,'"')),e+="></ch5-image>";var t='<span id="'.concat(this._getDefaultTmplLabelId(),'">').concat(this.optLabel,"</span>"),n="<ch5-toggle";null!==this.receiveStateScriptLabelHTML&&""!==this.receiveStateScriptLabelHTML&&(n+=' receiveStateScriptLabelHTML="'.concat(this.receiveStateScriptLabelHTML,'"')),null!==this.sendEventOnClick&&""!==this.sendEventOnClick&&(n+=' sendEventOnClick="'.concat(this.sendEventOnClick,'"')),null!==this.receiveStateSelected&&""!==this.receiveStateSelected&&(n+=' receiveStateValue="'.concat(this.receiveStateSelected,'"')),this._parentHasFeedbackModeSubmit()&&(n+=' feedbackMode="submit"'),n+=' signalValueSyncTimeout="'.concat(this._getParentSyncTimeout(),'"></ch5-toggle>');var s="";return this.iconPosition===i.ICON_POSITION_VALUES[0]?s+=e+(this._isParentMultiselect()?n:"")+t:s+=t+(this._isParentMultiselect()?n:"")+e,s+""}},{key:"defaultTmplIsUsed",value:function(){return this.classList.contains(i.ITEM_STYLE_DEFAULT_TMPL_CLASS)}},{key:"triggerToggleClickSignal",value:function(e){null!==this._ch5Toggle&&this._ch5Toggle.value!==e&&this._ch5Toggle.toggleChecked()}},{key:"_clickReceivedFromCh5Toggle",value:function(e){return"ch5-toggle"===e.tagName.toLowerCase()||!!e.closest("ch5-select-option > ch5-toggle")}},{key:"setToggleValue",value:function(e){null!==this._ch5Toggle&&(this._ch5Toggle.setClean(),this._ch5Toggle.value=e,this._ch5Toggle.checked=e)}},{key:"_onClick",value:function(e){if(this.info("Ch5SelectOption._onClick()"),this.defaultTmplIsUsed()&&this._isParentMultiselect()){var t=!this.classList.contains(r.Ch5Select.ITEM_SELECTED_STYLE_CLASS);return this.dispatchEvent(this._getOptionSelectedEvent()),void(this._clickReceivedFromCh5Toggle(e.target)||this.triggerToggleClickSignal(t))}this.dispatchEvent(this._getOptionSelectedEvent(!0)),this._parentHasFeedbackModeSubmit()||this.sendClickSignal()}},{key:"sendClickSignal",value:function(){if("string"==typeof this.sendEventOnClick&&""!==this.sendEventOnClick){var e=s.Ch5SignalFactory.getInstance().getBooleanSignal(this.sendEventOnClick);null!==e&&(e.publish(!0),e.publish(!1))}}},{key:"_getOptionSelectedEvent",value:function(e,t){var i={idx:this.idx,set:"boolean"==typeof e?e:!this.classList.contains(r.Ch5Select.ITEM_SELECTED_STYLE_CLASS)};return t="boolean"==typeof t&&t,this._isParentMultiselect()?i.confirmed=t:i.resetDirty=t,new CustomEvent("option-selected",{detail:i,bubbles:!0,cancelable:!1})}},{key:"applySelectedStyleClass",value:function(){this.classList.add(r.Ch5Select.ITEM_SELECTED_STYLE_CLASS)}},{key:"removeSelectedStyleClass",value:function(){this.classList.remove(r.Ch5Select.ITEM_SELECTED_STYLE_CLASS)}},{key:"_handleReceiveSignalSelected",value:function(){var e=this;if(""!==this.receiveStateSelected&&""!==this.receiveStateSelectedSubscription){var t=s.Ch5Signal.getSubscriptionSignalName(this.receiveStateSelected),i=s.Ch5SignalFactory.getInstance().getBooleanSignal(t);null!==i&&""!==this.receiveStateSelectedSubscription&&(i.unsubscribe(this.receiveStateSelectedSubscription),this.receiveStateSelectedSubscription="")}if(""!==this.receiveStateSelected&&null!==this.receiveStateSelected){var n=s.Ch5Signal.getSubscriptionSignalName(this.receiveStateSelected),r=s.Ch5SignalFactory.getInstance().getBooleanSignal(n);null!==r&&(this.receiveStateSelectedSubscription=r.subscribe(function(t){e.info("Option ".concat(e.idx," received selected signal value: ").concat(t)),e.dispatchEvent(e._getOptionSelectedEvent(t,!0))}))}}},{key:"_handleReceiveSignalLabel",value:function(){var e=this;if(""!==this.receiveStateLabel&&""!==this._receiveStateLabelSubscription){var t=s.Ch5Signal.getSubscriptionSignalName(this.receiveStateLabel),i=s.Ch5SignalFactory.getInstance().getStringSignal(t);null!==i&&""!==this._receiveStateLabelSubscription&&(i.unsubscribe(this._receiveStateLabelSubscription),this._receiveStateLabelSubscription="")}if(""!==this.receiveStateLabel&&null!==this.receiveStateLabel){var n=s.Ch5Signal.getSubscriptionSignalName(this.receiveStateLabel),r=s.Ch5SignalFactory.getInstance().getStringSignal(n);null!==r&&(this._receiveStateLabelSubscription=r.subscribe(function(t){e.optLabel=t}))}}},{key:"getCssClassDisabled",value:function(){return"ch5-select__panel__item--disabled"}},{key:"_onPress",value:function(){null!==this._parentCh5Select&&this._parentCh5Select.classList.add("ch5-select—pressed")}},{key:"_onPressUp",value:function(){null!==this._parentCh5Select&&this._parentCh5Select.classList.remove("ch5-select—pressed")}}],[{key:"observedAttributes",get:function(){return n.Ch5Common.observedAttributes.concat(["iconposition","receivestateselected","receivestatelabel","receivestateurl","receivestatescriptlabelhtml","sendeventonclick","data-ch5-opt-idx"])}},{key:"registerSignalAttributeTypes",value:function(){o.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}}]),i}();t.Ch5SelectOption=l,l.ELEMENT_NAME="ch5-select-option",l.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},n.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateselected:{direction:"state",booleanJoin:1,contractName:!0},receivestatelabel:{direction:"state",stringJoin:1,contractName:!0},receivestateurl:{direction:"state",stringJoin:1,contractName:!0},receivestatescriptlabelhtml:{direction:"state",stringJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0}}),l.ICON_POSITION_VALUES=["first","last"],l.ITEM_STYLE_CLASS="ch5-select__panel__item",l.ITEM_STYLE_DEFAULT_TMPL_CLASS="ch5-select__panel__item__default_tmpl","object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(l.ELEMENT_NAME,l),l.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(199),t)},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(61),t)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ImageMode=void 0;var s=n(i(1)),r=i(26),a=function(e){_inherits(i,r.Ch5Log);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._url="",e.logger.start("constructor()"),e._parentCh5Image=e.getParentImage(),e.logger.stop(),e}return _createClass(i,[{key:"url",get:function(){return this._url},set:function(e){e&&this._url!==e&&(this._url=e,this.setAttribute("url",e),this._parentCh5Image.setImageDisplay())}},{key:"attributeChangedCallback",value:function(e,t,i){if(i!==t)switch(e){case"url":this.url=i}}},{key:"getParentImage",value:function(){return function e(t){return s.default.isNil(t)||"CH5-IMAGE"===t.nodeName.toString().toUpperCase()?t:e(t.parentNode)}(this.parentElement)}}],[{key:"observedAttributes",get:function(){return r.Ch5Log.observedAttributes.concat(["url"])}}]),i}();t.Ch5ImageMode=a,a.ELEMENT_NAME="ch5-image-mode","object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(a.ELEMENT_NAME,a)},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Image=void 0;var s=i(3),r=i(0),a=i(21),o=i(28),l=i(1),u=i(4),c=i(2),h=n(i(1)),d=function(e){_inherits(i,s.Ch5Common);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).MODES={MIN_LENGTH:0,MAX_LENGTH:99},e.primaryCssClass="ch5-image",e.cssClassPrefix="ch5-image",e._img={},e._alt="",e._height="",e._width="",e._refreshRate=0,e._url="",e._direction=s.Ch5Common.DIRECTION[0],e._sigNameReceiveUrl="",e._sigNameReceiveUser="",e._sigNameReceivePassword="",e._sigNameReceiveMode="",e._subReceiveUrl="",e._subReceiveUser="",e._subReceivePassword="",e._subReceiveMode="",e._sigNameSendOnClick="",e._sigNameSendOnError="",e._sigNameSendOnTouch="",e._pressable=null,e._timerIdForTouch=null,e._longTouch=!1,e._intervalIdForOnTouch=null,e._intervalTimeoutForOnTouch=500,e._intervalIdForRefresh=null,e._imageWasLoaded=!1,e._user="",e._password="",e._protocol="",e._isPressedSubscription=null,e._buttonPressedInPressable=!0,e._repeatDigitalInterval=0,e.STATE_CHANGE_TIMEOUTS=500,e._mode=0,e.errorEvent=new CustomEvent("error",{bubbles:!0,cancelable:!1,detail:"ch5-image triggered error CustomEvent"}),e._pressable=new a.Ch5Pressable(_assertThisInitialized(e)),e._onClick=e._onClick.bind(_assertThisInitialized(e)),e._onTouchStart=e._onTouchStart.bind(_assertThisInitialized(e)),e._onTouchEnd=e._onTouchEnd.bind(_assertThisInitialized(e)),e._onTouchCancel=e._onTouchCancel.bind(_assertThisInitialized(e)),e._onTouchMove=e._onTouchMove.bind(_assertThisInitialized(e)),e._onError=e._onError.bind(_assertThisInitialized(e)),void 0===e._img.classList&&(e._img=document.createElement("img")),e._img.classList.add(e.primaryCssClass),e._img.classList.add(e.primaryCssClass+"__img"),e}return _createClass(i,[{key:"alt",get:function(){return this._alt},set:function(e){null!=e||(e="");var t=this._getTranslatedValue("alt",e);this._alt===t&&this._img.alt===t||(this._alt=t,this._img.alt=t,this.setAttribute("alt",t),this._img.setAttribute("alt",t))}},{key:"height",get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e||"",this.style.height=e||"",this.setAttribute("height",this._height))}},{key:"width",get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e||"",this.style.width=e||"",this.setAttribute("width",this._width))}},{key:"refreshRate",get:function(){return this._refreshRate},set:function(e){e=Number(e),isNaN(e)&&(e=0),this._refreshRate!==e&&(this._refreshRate=e)}},{key:"url",get:function(){return this._url},set:function(e){var t;(h.default.isNil(this.receiveStateUrl)||""===this.receiveStateUrl)&&(this._url||null===(t=this._img)||void 0===t||t.removeAttribute("src"),this._url!==e&&this.setImageDisplay(e))}},{key:"direction",get:function(){return this._direction},set:function(e){e!==this._direction&&(null==e&&(e=s.Ch5Common.DIRECTION[0]),s.Ch5Common.DIRECTION.indexOf(e)>=0?this._direction=e:this._direction=s.Ch5Common.DIRECTION[0],this.setAttribute("dir",e))}},{key:"mode",get:function(){return this._mode},set:function(e){if(this.logger.log('set mode("'+e+'")'),this._mode!==e){if(Number.isNaN(e))this._mode=0;else if(e>=this.MODES.MIN_LENGTH&&e<=this.MODES.MAX_LENGTH){var t=this.getElementsByTagName("ch5-image-mode");t&&t.length>0&&e<t.length?this._mode=e:this._mode=0}else this._mode=0;this.setAttribute("mode",String(this._mode)),this.setImageDisplay()}}},{key:"receiveStateUser",get:function(){return this._attributeValueAsString("receiveStateUser")},set:function(e){var t=this;if(this.info("set receiveStateUser('"+e+"')"),""!==e&&this._sigNameReceiveUser!==e&&null!=e){if(this.user="",""!==this._sigNameReceiveUser&&void 0!==this._sigNameReceiveUser&&null!==this._sigNameReceiveUser){var i=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUser),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe(this._subReceiveUser)}this._sigNameReceiveUser=e,this.setAttribute("receiveStateUser",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUser),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);null!==a&&(this._subReceiveUser=a.subscribe(function(e){""!==e&&e!==t._user&&(t.setAttribute("user",e),t.user=e,t._initRefreshRate())}))}}},{key:"receiveStatePassword",get:function(){return this._attributeValueAsString("receiveStatePassword")},set:function(e){var t=this;if(this.info("set receiveStatePassword('"+e+"')"),""!==e&&this._sigNameReceivePassword!==e&&null!=e){if(this.password="",""!==this._sigNameReceivePassword&&void 0!==this._sigNameReceivePassword&&null!==this._sigNameReceivePassword){var i=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceivePassword),n=r.Ch5SignalFactory.getInstance().getStringSignal(i);null!==n&&n.unsubscribe(this._subReceivePassword)}this._sigNameReceivePassword=e,this.setAttribute("receivestatepassword",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceivePassword),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);null!==a&&(this._subReceivePassword=a.subscribe(function(e){""!==e&&e!==t._password&&(t.setAttribute("password",e),t.password=e,t._initRefreshRate())}))}}},{key:"receiveStateUrl",get:function(){return this._attributeValueAsString("receivestateurl")},set:function(e){var t=this;if(this.info("set receiveStateUrl('"+e+"')"),""!==e&&this._sigNameReceiveUrl!==e&&null!=e){if(this.url="",""!==this._sigNameReceiveUrl&&void 0!==this._sigNameReceiveUrl&&null!==this._sigNameReceiveUrl){var i=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUrl),n=r.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==n&&n.unsubscribe(this._subReceiveUrl)}this._sigNameReceiveUrl=e,this.setAttribute("receivestateurl",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveUrl),a=r.Ch5SignalFactory.getInstance().getStringSignal(s);null!==a&&(this._subReceiveUrl=a.subscribe(function(e){e===t._url&&""!==e||(t.logger.log("value from signal is ",e),""===e&&""!==t.sendEventOnError&&(e=t.receiveStateUrl),t.setUrlByInput(e),t.canProcessUri()&&t.processUri())}))}}},{key:"receiveStateMode",get:function(){return this._attributeValueAsString("receivestatemode")},set:function(e){var t=this;if(this.info("set receivestatemode('"+e+"')"),""!==e&&this._sigNameReceiveMode!==e&&null!=e){if(this.mode=0,""!==this._sigNameReceiveMode&&void 0!==this._sigNameReceiveMode&&null!==this._sigNameReceiveMode){var i=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveMode),n=r.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==n&&n.unsubscribe(this._subReceiveMode)}this._sigNameReceiveMode=e,this.setAttribute("receivestatemode",e);var s=r.Ch5Signal.getSubscriptionSignalName(this._sigNameReceiveMode),a=r.Ch5SignalFactory.getInstance().getNumberSignal(s);null!==a&&(this._subReceiveMode=a.subscribe(function(e){e!==t.mode&&(t.mode=Number(e),t._initRefreshRate())}))}}},{key:"sendEventOnClick",get:function(){return this._sigNameSendOnClick},set:function(e){this.info("set sendEventOnClick('"+e+"')"),""!==e&&this._sigNameSendOnClick!==e&&(this._sigNameSendOnClick=e,this.setAttribute("sendeventonclick",e))}},{key:"sendEventOnError",get:function(){return this._sigNameSendOnError},set:function(e){this.info("set sendEventOnError('"+e+"')"),""!==e&&this._sigNameSendOnError!==e&&(this._sigNameSendOnError=e,this.setAttribute("sendeventonerror",e))}},{key:"sendEventOnTouch",get:function(){return this._sigNameSendOnTouch},set:function(e){this.info("set sendEventOnTouch('"+e+"')"),""!==e&&this._sigNameSendOnTouch!==e&&(this._sigNameSendOnTouch=e,this.setAttribute("sendeventontouch",e))}},{key:"user",get:function(){return this._user},set:function(e){(0,l.isNil)(e)||this.user===e||(this._user=e,this.canProcessUri()&&this.processUri())}},{key:"password",get:function(){return this._password},set:function(e){((0,l.isNil)(e)||this.password!==e)&&(this._password=e,this.canProcessUri()&&this.processUri())}},{key:"protocol",get:function(){return this._protocol},set:function(e){(0,l.isNil)(e)||(this._protocol=e)}},{key:"getModeNodes",value:function(){return this.info("getModeNodes got called"),this.querySelectorAll("ch5-image-mode")}},{key:"getModeNode",value:function(e){this.info("getting mode with index "+e);var t=this.getModeNodes();if(!t[e])throw new Error("Mode is not defined");return t[e]}},{key:"connectedCallback",value:function(){var e=this;this.info(" connectedCallback() - start"),this.hasAttribute("role")||this.setAttribute("role",u.Ch5RoleAttributeMapping.ch5Image),this.setAttribute("data-ch5-id",this.getCrId()),null!==this._pressable&&(this._pressable.init(),this._subscribeToPressableIsPressed()),customElements.whenDefined("ch5-image").then(function(){e.cacheComponentChildrens();var t=e.querySelector("img");t&&t.remove(),e._img.parentElement!==e&&e.appendChild(e._img),e.style.overflow="hidden",e.initAttributes(),e.attachEventListeners(),e.updateCssClasses(),e._initRefreshRate(),e.initCommonMutationObserver(e),e.info(" connectedCallback() - end")})}},{key:"disconnectedCallback",value:function(){this.removeEvents(),this.unsubscribeFromSignals(),this.disconnectCommonMutationObserver(),null!==this._intervalIdForRefresh&&(window.clearInterval(this._intervalIdForRefresh),o.Ch5CoreIntersectionObserver.getInstance()instanceof o.Ch5CoreIntersectionObserver&&o.Ch5CoreIntersectionObserver.getInstance().unobserve(this)),null!==this._timerIdForTouch&&(window.clearTimeout(this._timerIdForTouch),this._timerIdForTouch=null),null!==this._intervalIdForOnTouch&&(window.clearInterval(this._intervalIdForOnTouch),this._intervalIdForOnTouch=null)}},{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)switch(this.info('ch5-image attributeChangedCallback("'+e+'","'+t+'","'+n+'")'),e){case"url":this.hasAttribute("url")?this.url=n:this.url="";break;case"alt":this.hasAttribute("alt")?(this.alt=n,this.setAttribute("aria-label",this.alt)):(this.alt="",this.removeAttribute("aria-label"));break;case"width":this.hasAttribute("width")?this.width=n:this.width="";break;case"height":this.hasAttribute("height")?this.height=n:this.height="";break;case"mode":this.mode=parseFloat(n);break;case"refreshrate":this.hasAttribute("refreshrate")?(this.refreshRate=Number(n),null!==this._refreshRate&&0!==this._refreshRate&&o.Ch5CoreIntersectionObserver.getInstance().observe(this,this.updateElementInViewportChange)):this.refreshRate=0,this._initRefreshRate();break;case"receivestateuser":this.hasAttribute("receivestateuser")&&(this.receiveStateUser=n);break;case"receivestatepassword":this.hasAttribute("receivestatepassword")&&(this.receiveStatePassword=n);break;case"receivestateurl":this.hasAttribute("receivestateurl")?this.receiveStateUrl=n:this.receiveStateUrl="";break;case"receivestatemode":this.hasAttribute("receivestatemode")?this.receiveStateMode=n:this.receiveStateMode="";break;case"sendeventonclick":this.hasAttribute("sendeventonclick")?this.sendEventOnClick=n:this.sendEventOnClick="";break;case"sendeventontouch":this.hasAttribute("sendeventontouch")?this.sendEventOnTouch=n:this.sendEventOnTouch="";break;case"sendeventonerror":this.hasAttribute("sendeventonerror")?this.sendEventOnError=n:this.sendEventOnError="";break;case"dir":this.hasAttribute("dir")?this.direction=n.toLowerCase():this.direction=s.Ch5Common.DIRECTION[0],this._img.classList.add(this.cssClassPrefix+"--dir--"+this.direction);break;case"user":this.hasAttribute("user")?this.user=n:this.user="";break;case"password":this.hasAttribute("password")?this.password=n:this.password="";break;default:_get(_getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,n)}}},{key:"unsubscribeFromSignals",value:function(){_get(_getPrototypeOf(i.prototype),"unsubscribeFromSignals",this).call(this);var e=r.Ch5SignalFactory.getInstance();if(""!==this._subReceiveUrl&&""!==this._sigNameReceiveUrl){var t=e.getStringSignal(this._sigNameReceiveUrl);null!==t&&(t.unsubscribe(this._subReceiveUrl),this._sigNameReceiveUrl="")}}},{key:"setImageDisplay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!this.hasAttribute("receivestateurl")){var t=this.getElementsByTagName("ch5-image-mode");if(t&&t.length>0){var i=t[this.mode];if(i){var n=h.default.isNil(i.getAttribute("url"))||""===i.getAttribute("url")?h.default.isNil(e)||""===e?"":e:i.getAttribute("url");this.setUrlByInput(n)}}else{var s=h.default.isNil(e)||""===e?this.getAttribute("url"):e;this.setUrlByInput(s)}this.canProcessUri()&&this.processUri()}}},{key:"setUrlByInput",value:function(e){this.logger.log("setUrlByInput url: ",e),this._url=e,this.setAttribute("url",this._url),this._maybeLoadImage()}},{key:"processUri",value:function(){var e={protocol:this.protocol,user:this.user,password:this.password,url:this._url},t=s.Ch5Common.processUri(e);t&&(this._url=t,this.setAttribute("url",this._url),this._maybeLoadImage())}},{key:"initAttributes",value:function(){_get(_getPrototypeOf(i.prototype),"initAttributes",this).call(this),this.hasAttribute("receiveStateUrl")&&(this.receiveStateUrl=this.getAttribute("receiveStateUrl")),this.hasAttribute("receivestateuser")&&(this.receiveStateUser=this.getAttribute("receivestateuser")),this.hasAttribute("receivestatepassword")&&(this.receiveStatePassword=this.getAttribute("receivestatepassword")),this.hasAttribute("receivestatemode")&&(this.receiveStateMode=this.getAttribute("receivestatemode"))}},{key:"attachEventListeners",value:function(){_get(_getPrototypeOf(i.prototype),"attachEventListeners",this).call(this),this.addEventListener("click",this._onClick),this.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.addEventListener("touchend",this._onTouchEnd),this.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.addEventListener("touchcancel",this._onTouchCancel),this._img.addEventListener("error",this._onError)}},{key:"updateCssClasses",value:function(){_get(_getPrototypeOf(i.prototype),"updateCssClasses",this).call(this)}},{key:"_subscribeToPressableIsPressed",value:function(){var e=this;null===this._isPressedSubscription&&null!==this._pressable&&(this._isPressedSubscription=this._pressable.observablePressed.subscribe(function(t){if(e.info("Ch5Button.pressableSubscriptionCb(".concat(t,")")),t!==e._buttonPressedInPressable)if(e._buttonPressedInPressable=t,!1===t)null!==e._repeatDigitalInterval&&window.clearInterval(e._repeatDigitalInterval),e.sendValueForRepeatDigitalWorking(!1),setTimeout(function(){},e.STATE_CHANGE_TIMEOUTS);else{e.sendValueForRepeatDigitalWorking(!0),null!==e._repeatDigitalInterval&&window.clearInterval(e._repeatDigitalInterval);var i=0;e._repeatDigitalInterval=window.setInterval(function(){e.sendValueForRepeatDigitalWorking(!0),++i>=150&&(console.warn("Ch5Button MAXIMUM Repeat digitals sent"),window.clearInterval(e._repeatDigitalInterval),e.sendValueForRepeatDigitalWorking(!1))},200)}}))}},{key:"sendValueForRepeatDigitalWorking",value:function(e){if(this.info("Ch5Button.sendValueForRepeatDigital(".concat(e,")")),this._sigNameSendOnTouch||this._sigNameSendOnClick){var t=r.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sigNameSendOnTouch),i=r.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sigNameSendOnClick);i&&t&&i.name===t.name?i.publish(_defineProperty({},r.Ch5SignalBridge.REPEAT_DIGITAL_KEY,e)):(t&&t.name&&t.publish(_defineProperty({},r.Ch5SignalBridge.REPEAT_DIGITAL_KEY,e)),i&&i.name&&i.publish(_defineProperty({},r.Ch5SignalBridge.REPEAT_DIGITAL_KEY,e)))}}},{key:"enableImageLoading",value:function(){this.info("enableImageLoading()"),this._imageWasLoaded||(this._img.src="",null===this.refreshRate||0===this.refreshRate?this._maybeLoadImage(!1):this._initRefreshRate())}},{key:"disableImageLoading",value:function(){this.info("disableImageLoading()"),null!==this._intervalIdForRefresh&&(window.clearInterval(this._intervalIdForRefresh),this._imageWasLoaded=!1)}},{key:"getCssClassDisabled",value:function(){return this.cssClassPrefix+"--disabled"}},{key:"canProcessUri",value:function(){return!((0,l.isNil)(this.password)||(0,l.isEmpty)(this.password)||(0,l.isNil)(this.user)||(0,l.isEmpty)(this.user)||(0,l.isNil)(this._url)||(0,l.isEmpty)(this._url))}},{key:"isVisible",value:function(){return function e(t,i,n,s,r,a,o){var l=t.parentNode;return!!function(e){for(;e=e.parentNode;)if(e===document)return!0;return!1}(t)&&(9===l.nodeType||!(!function(e){var t={};return!document||!document.defaultView||"0"!==(t=document.defaultView.getComputedStyle(e)).opacity&&"hidden"!==t.visibility&&"none"!==t.display}(t)||t.hasAttribute("inert"))&&(!l||e(l)))}(this)}},{key:"afterHandlingShow",value:function(){this.info("afterHandlingShow()"),null===this.refreshRate||0===this.refreshRate?this._maybeLoadImage(!1):this._initRefreshRate()}},{key:"afterHandlingHide",value:function(){this.info("afterHandlingHide()"),null!==this._intervalIdForRefresh&&window.clearInterval(this._intervalIdForRefresh),this._img.src=""}},{key:"removeEvents",value:function(){_get(_getPrototypeOf(i.prototype),"removeEventListeners",this).call(this),this.removeEventListener("click",this._onClick),this.removeEventListener("touchstart",this._onTouchStart),this.removeEventListener("touchend",this._onTouchEnd),this.removeEventListener("touchmove",this._onTouchMove),this.removeEventListener("touchcancel",this._onTouchCancel),this._img.removeEventListener("error",this._onError),null!==this._pressable&&this._pressable.destroy()}},{key:"_maybeLoadImage",value:function(e){if(null!==this._url&&""!==this.url&&!0===this.show){var t=e?this._insertParamToUrl("__cr_avoid_cache",(new Date).getTime().toString()):this._url;this._img.src=t,this._imageWasLoaded=!0,this.info("image source ",this._img.src)}}},{key:"_initRefreshRate",value:function(){var e=this;this.info("initRefreshRate"),this._intervalIdForRefresh&&window.clearInterval(this._intervalIdForRefresh),null!==this._url&&""!==this._url&&null!==this._refreshRate&&0!==this._refreshRate&&(this._maybeLoadImage(!0),this._intervalIdForRefresh=window.setInterval(function(){e._maybeLoadImage(!0)},1e3*this._refreshRate))}},{key:"_onTouchStart",value:function(e){this.info("Ch5Image._onTouchStart()"),this._timerIdForTouch&&window.clearTimeout(this._timerIdForTouch),this._onLongTouch()}},{key:"_onTouchEnd",value:function(e){this.info("Ch5Image._onTouchEnd()"),this._stopSendSignalOnTouch()}},{key:"_onTouchMove",value:function(e){this._stopSendSignalOnTouch()}},{key:"_onTouchCancel",value:function(e){this._stopSendSignalOnTouch()}},{key:"_onClick",value:function(e){this.info("Ch5Image._onClick()"),this._sendValueForClickSignal()}},{key:"_onError",value:function(e){this.logger.log("onError called"),this.dispatchEvent(this.errorEvent);var t="Error loading image with src: "+this._url;this._sendValueForErrorSignal(t)}},{key:"_onLongTouch",value:function(){var e=this;this._longTouch||(this._longTouch=!0),this._sendValueForTouchSignal(!0),this._intervalIdForOnTouch&&window.clearInterval(this._intervalIdForOnTouch),this._intervalIdForOnTouch=window.setInterval(function(){return e._sendValueForTouchSignal(!0)},this._intervalTimeoutForOnTouch)}},{key:"_stopSendSignalOnTouch",value:function(){this._longTouch&&(this._sendValueForTouchSignal(!1),this._longTouch=!1),null!==this._timerIdForTouch&&(window.clearTimeout(this._timerIdForTouch),this._timerIdForTouch=null),null!==this._intervalIdForOnTouch&&(window.clearInterval(this._intervalIdForOnTouch),this._intervalIdForOnTouch=null)}},{key:"_sendValueForTouchSignal",value:function(e){if(""!==this._sigNameSendOnTouch&&!(0,l.isNil)(this._sigNameSendOnTouch)){var t=r.Ch5SignalFactory.getInstance().getObjectAsBooleanSignal(this._sigNameSendOnTouch);null!==t&&t.publish(_defineProperty({},r.Ch5SignalBridge.REPEAT_DIGITAL_KEY,e))}}},{key:"_sendValueForClickSignal",value:function(){var e=null;""!==this._sigNameSendOnClick&&void 0!==this._sigNameSendOnClick&&null!==this._sigNameSendOnClick&&null!==(e=r.Ch5SignalFactory.getInstance().getBooleanSignal(this._sigNameSendOnClick))&&(e.publish(!0),e.publish(!1))}},{key:"_sendValueForErrorSignal",value:function(e){var t=null;""!==this._sigNameSendOnError&&void 0!==this._sigNameSendOnError&&null!==this._sigNameSendOnError&&null!==(t=r.Ch5SignalFactory.getInstance().getStringSignal(this._sigNameSendOnError))&&t.publish(e)}},{key:"_insertParamToUrl",value:function(e,t){if(e=encodeURI(e),t=encodeURI(t),0===this._getUrlVars().size)return this._url+"?"+e+"="+t;for(var i,n=this.url.split("&"),s=n.length;s--;)if((i=n[s].split("="))[0]===e){i[1]=t,n[s]=i.join("=");break}return s<0&&(n[n.length]=[e,t].join("=")),n.join("&")}},{key:"_getUrlVars",value:function(){var e,t=new Map,i=this._url.indexOf("?");if(i>1){var n,s=_createForOfIteratorHelper(this._url.slice(i+1).split("&"));try{for(s.s();!(n=s.n()).done;){e=n.value.split("="),t.set(e[0],e[1])}}catch(r){s.e(r)}finally{s.f()}}return t}},{key:"updateElementInViewportChange",value:function(e){e?(this._show=!0,this._maybeLoadImage(!0)):this._show=!1}}],[{key:"observedAttributes",get:function(){return s.Ch5Common.observedAttributes.concat(["alt","width","height","user","password","url","refreshrate","dir","mode","receivestateurl","sendeventonclick","sendeventonerror","sendeventontouch"])}},{key:"registerSignalAttributeTypes",value:function(){c.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,i.SIGNAL_ATTRIBUTE_TYPES)}}]),i}();t.Ch5Image=d,d.ELEMENT_NAME="ch5-image",d.SIGNAL_ATTRIBUTE_TYPES=Object.assign(Object.assign({},s.Ch5Common.SIGNAL_ATTRIBUTE_TYPES),{receivestateurl:{direction:"state",stringJoin:1,contractName:!0},receivestatemode:{direction:"state",numericJoin:1,contractName:!0},sendeventonclick:{direction:"event",booleanJoin:1,contractName:!0},sendeventontouch:{direction:"event",booleanJoin:1,contractName:!0},sendeventonerror:{direction:"event",stringJoin:1,contractName:!0}}),d.COMPONENT_DATA={DIRECTIONS:{default:s.Ch5Common.DIRECTION[0],values:s.Ch5Common.DIRECTION,key:"direction",classListPrefix:"ch5-image--dir--"}},"object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(d.ELEMENT_NAME,d),d.registerSignalAttributeTypes()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(203),t),s(i(202),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomFixedInteger=void 0,t.randomFixedInteger=function(e){return Math.floor(Math.pow(10,e-1)+Math.random()*(Math.pow(10,e)-Math.pow(10,e-1)-1))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CH5_I18N_ATTRIBUTE_CONSTANT=void 0,t.CH5_I18N_ATTRIBUTE_CONSTANT={dataCh5AttrName:"data-ch5-i18n",elementIdPrefix:"ch5_translate_",randomNumberLength:10,subAttributePosition:2,subAttributeType:"inner",defaultIndex:-1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomAttribute=void 0,t.CustomAttribute=function(){function e(){_classCallCheck(this,e),this._type=null}return _createClass(e,[{key:"type",get:function(){if(!this._type)throw new Error("Type is null ");return this._type},set:function(e){this._type=e}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AttrsMutationObserver=void 0;var n=i(7);t.Ch5AttrsMutationObserver=function(){function e(){_classCallCheck(this,e),this._mutationsObserver=null,this._mutationsObserverConfig={},this._skipedNodesNamesPrefix="ch5-",this._skipedNodesNames=["script","link","style"],this._nodeTypesToUse=[0,Node.ELEMENT_NODE]}return _createClass(e,[{key:"_isValidObserver",value:function(e){return e instanceof MutationObserver}},{key:"startBodyMutationsObserver",value:function(){this._mutationsObserver&&this._isValidObserver(this._mutationsObserver)&&this._mutationsObserver.observe(document,this._mutationsObserverConfig)}},{key:"stopBodyMutationsObserver",value:function(){this._mutationsObserver&&this._isValidObserver(this._mutationsObserver)&&this._mutationsObserver.disconnect()}},{key:"_hasCh5Attributes",value:function(e){var t=this,i="function"==typeof e.getAttributeNames?e.getAttributeNames():[];return i.length>0&&i.some(function(e){return t._mutationsObserverConfig.attributeFilter.indexOf(e)>-1})}},{key:"_viableForCh5Attributes",value:function(e){var t=e.nodeName.toLowerCase();return this._nodeTypesToUse.indexOf(e.nodeType)>-1&&-1===this._skipedNodesNames.indexOf(t)&&-1===t.search(this._skipedNodesNamesPrefix)}},{key:"_getNodesViableForCh5Attributes",value:function(e){var t,i=[],n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var s=t.value;this._viableForCh5Attributes(s)&&this._hasCh5Attributes(s)&&i.push(s);var r=this.getChildElementsHavingCh5Attr(s);i=i.concat(r)}}catch(a){n.e(a)}finally{n.f()}return i}},{key:"_childNodesWereAdded",value:function(e){return"childList"===e.type&&e.addedNodes.length>0}},{key:"_childNodesWereRemoved",value:function(e){return"childList"===e.type&&e.removedNodes.length>0}},{key:"getAllRegularElementsHavingCh5Attr",value:function(){return this.getChildElementsHavingCh5Attr(document)}},{key:"getChildElementsHavingCh5Attr",value:function(e){var t=this;if(!e||void 0===e.querySelectorAll)return[];var i=this._mutationsObserverConfig.attributeFilter.map(function(e){return"[".concat(e,"]")}).join(",");return Array.from(e.querySelectorAll(i)).filter(function(e){return t._viableForCh5Attributes(e)})}},{key:"getNewAttributeValue",value:function(e){var t=e.target.getAttribute(e.attributeName),i=e.target.getAttribute("debug");return n.Ch5AttrsLog.info(i,"The ".concat(e.attributeName," attribute was modified to: \n                        ").concat(t," (previous value: ").concat(e.oldValue),e),t}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5CustomAttributes=void 0;var n=i(0),s=i(220),r=i(69),a=i(68),o=i(67),l=i(66),u=i(65),c=i(64),h=i(63),d=i(62),f=function(e){_inherits(i,s.Ch5AttrsMutationObserver);var t=_createSuper(i);function i(){var e;_classCallCheck(this,i),(e=t.call(this))._mutationsObserverConfig={attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:[r.Ch5AttrsShow.DATA_CH5_ATTR_NAME,a.Ch5AttrsShowPulse.DATA_CH5_ATTR_NAME,o.Ch5AttrsHidePulse.DATA_CH5_ATTR_NAME,l.Ch5AttrsTextContent.DATA_CH5_ATTR_NAME,u.Ch5AttrsInnerhtml.DATA_CH5_ATTR_NAME,c.Ch5AttrsAppendstyle.DATA_CH5_ATTR_NAME,h.Ch5AttrsAppendclass.DATA_CH5_ATTR_NAME,d.Ch5AttrsI18n.DATA_CH5_ATTR_NAME]},i.ch5AttrsI18nInstance=new d.Ch5AttrsI18n;var s=n.Ch5SignalFactory.getInstance().getStringSignal(n.languageChangedSignalName);return s&&s.subscribe(function(e){""!==e&&i.ch5AttrsI18nInstance.updateOnChange()}),e}return _createClass(i,[{key:"initCh5Attributes",value:function(){"loading"!==document.readyState?this.initCh5AttributesOnLoad():document.addEventListener("DOMContentLoaded",this.initCh5AttributesOnLoad.bind(i._instance))}},{key:"initCh5AttrsMutationsObserver",value:function(){this._mutationsObserver=new MutationObserver(this._mutationsCallback.bind(i._instance)),this.startBodyMutationsObserver()}},{key:"_mutationsCallback",value:function(e){var t,i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;switch(n.type){case"attributes":this.handleAttributeChanges(n);break;default:if(this._childNodesWereRemoved(n)){var s=this._getNodesViableForCh5Attributes(n.removedNodes);s.length&&this.handleNodesRemovalFromDOM(s)}if(this._childNodesWereAdded(n)){var r=this._getNodesViableForCh5Attributes(n.addedNodes);r.length&&this.handleNodesStampedIntoDOM(r)}}}}catch(a){i.e(a)}finally{i.f()}}},{key:"initCh5AttributesOnLoad",value:function(){var e=this.getAllRegularElementsHavingCh5Attr();if(e.length>0){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var s=t.value;s.hasAttribute(r.Ch5AttrsShow.DATA_CH5_ATTR_NAME)&&r.Ch5AttrsShow.checkAndSubscribeToSignal(s),s.hasAttribute(a.Ch5AttrsShowPulse.DATA_CH5_ATTR_NAME)&&a.Ch5AttrsShowPulse.checkAndSubscribeToSignal(s),s.hasAttribute(o.Ch5AttrsHidePulse.DATA_CH5_ATTR_NAME)&&o.Ch5AttrsHidePulse.checkAndSubscribeToSignal(s),s.hasAttribute(l.Ch5AttrsTextContent.DATA_CH5_ATTR_NAME)&&l.Ch5AttrsTextContent.handleBeingAddedToDom(s),s.hasAttribute(u.Ch5AttrsInnerhtml.DATA_CH5_ATTR_NAME)&&u.Ch5AttrsInnerhtml.handleBeingAddedToDom(s),s.hasAttribute(c.Ch5AttrsAppendstyle.DATA_CH5_ATTR_NAME)&&c.Ch5AttrsAppendstyle.handleBeingAddedToDom(s),s.hasAttribute(h.Ch5AttrsAppendclass.DATA_CH5_ATTR_NAME)&&h.Ch5AttrsAppendclass.handleBeingAddedToDom(s),s.hasAttribute(d.Ch5AttrsI18n.DATA_CH5_ATTR_NAME)&&i.ch5AttrsI18nInstance.handleBeingAddedToDom(s)}}catch(f){n.e(f)}finally{n.f()}}this.initCh5AttrsMutationsObserver()}},{key:"handleNodesStampedIntoDOM",value:function(e){e.forEach(function(e){e.hasAttribute(r.Ch5AttrsShow.DATA_CH5_ATTR_NAME)&&r.Ch5AttrsShow.handleElAddedToDOM(e),e.hasAttribute(a.Ch5AttrsShowPulse.DATA_CH5_ATTR_NAME)&&a.Ch5AttrsShowPulse.handleElAddedToDOM(e),e.hasAttribute(o.Ch5AttrsHidePulse.DATA_CH5_ATTR_NAME)&&o.Ch5AttrsHidePulse.handleElAddedToDOM(e),e.hasAttribute(l.Ch5AttrsTextContent.DATA_CH5_ATTR_NAME)&&l.Ch5AttrsTextContent.handleBeingAddedToDom(e),e.hasAttribute(u.Ch5AttrsInnerhtml.DATA_CH5_ATTR_NAME)&&u.Ch5AttrsInnerhtml.handleBeingAddedToDom(e),e.hasAttribute(c.Ch5AttrsAppendstyle.DATA_CH5_ATTR_NAME)&&c.Ch5AttrsAppendstyle.handleBeingAddedToDom(e),e.hasAttribute(h.Ch5AttrsAppendclass.DATA_CH5_ATTR_NAME)&&h.Ch5AttrsAppendclass.handleBeingAddedToDom(e),e.hasAttribute(d.Ch5AttrsI18n.DATA_CH5_ATTR_NAME)&&i.ch5AttrsI18nInstance.handleBeingAddedToDom(e)})}},{key:"handleNodesRemovalFromDOM",value:function(e){!0!==i.preventUnsubscribe?e.forEach(function(e){r.Ch5AttrsShow.elHasRemovableSigSubscription(e)&&r.Ch5AttrsShow.removeSigSubscription(e),a.Ch5AttrsShowPulse.elHasRemovableSigSubscription(e)&&a.Ch5AttrsShowPulse.removeSigSubscription(e),o.Ch5AttrsHidePulse.elHasRemovableSigSubscription(e)&&o.Ch5AttrsHidePulse.removeSigSubscription(e),e.hasAttribute(l.Ch5AttrsTextContent.DATA_CH5_ATTR_NAME)&&l.Ch5AttrsTextContent.handleBeingRemovedFromDom(e),e.hasAttribute(u.Ch5AttrsInnerhtml.DATA_CH5_ATTR_NAME)&&u.Ch5AttrsInnerhtml.handleBeingRemovedFromDom(e),e.hasAttribute(c.Ch5AttrsAppendstyle.DATA_CH5_ATTR_NAME)&&c.Ch5AttrsAppendstyle.handleBeingRemovedFromDom(e),e.hasAttribute(h.Ch5AttrsAppendclass.DATA_CH5_ATTR_NAME)&&h.Ch5AttrsAppendclass.handleBeingRemovedFromDom(e)}):i.preventUnsubscribe=!0}},{key:"handleAttributeChanges",value:function(e){var t=this.getNewAttributeValue(e);e.attributeName===r.Ch5AttrsShow.DATA_CH5_ATTR_NAME&&r.Ch5AttrsShow.handleCh5ShowAttributeChange(t,e.oldValue,e.target),e.attributeName===a.Ch5AttrsShowPulse.DATA_CH5_ATTR_NAME&&a.Ch5AttrsShowPulse.handleCh5ShowPulseAttributeChange(t,e.oldValue,e.target),e.attributeName===o.Ch5AttrsHidePulse.DATA_CH5_ATTR_NAME&&o.Ch5AttrsHidePulse.handleCh5HidePulseAttributeChange(t,e.oldValue,e.target),e.attributeName===l.Ch5AttrsTextContent.DATA_CH5_ATTR_NAME&&l.Ch5AttrsTextContent.handleCh5TextContentAttrChange(t,e.oldValue,e.target),e.attributeName===u.Ch5AttrsInnerhtml.DATA_CH5_ATTR_NAME&&u.Ch5AttrsInnerhtml.handleCh5InnerhtmlAttrChange(t,e.oldValue,e.target),e.attributeName===c.Ch5AttrsAppendstyle.DATA_CH5_ATTR_NAME&&c.Ch5AttrsAppendstyle.handleCh5AppendstyleAttrChange(t,e.oldValue,e.target),e.attributeName===h.Ch5AttrsAppendclass.DATA_CH5_ATTR_NAME&&h.Ch5AttrsAppendclass.handleCh5AppendclassAttrChange(t,e.oldValue,e.target)}}],[{key:"getInstance",value:function(){return i._instance||(i._instance=new i),i._instance}}]),i}();t.Ch5CustomAttributes=f,f.preventUnsubscribe=!1,f.getInstance().initCh5Attributes()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5StandardAnimation=void 0;var s=i(71),r=n(i(1)),a=i(25);t.Ch5StandardAnimation=function(e){_inherits(i,s.Ch5Animation);var t=_createSuper(i);function i(e,n,s){var r;return _classCallCheck(this,i),(r=t.call(this,e,n,s)).animationTimeWatcher=0,r}return _createClass(i,[{key:"animate",value:function(e,t,i){this.handleTransition(e),i===a.Ch5List.ORIENTATION[1]?e.style.transform="translate3d(".concat(t,"px, 0, 0)"):e.style.transform="translate3d(0, ".concat(t,"px, 0)")}},{key:"handleTransition",value:function(e){(r.default.isEmpty(e.style.transition)||r.default.isNil(e.style.transition))&&(e.style.transition="transform ".concat(this.duration,"ms ").concat(this.easeMode)),"0ms"===e.style.transitionDuration||r.default.isEmpty(e.style.transitionDuration)?e.style.transitionDuration="".concat(this.duration,"ms"):parseFloat(e.style.transitionDuration)!==this.duration&&(e.style.transitionDuration="".concat(this.duration,"ms")),clearTimeout(this.animationTimeWatcher),this.animationTimeWatcher=window.setTimeout(function(){e.style.transitionDuration="0ms"},this.duration)}}]),i}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5AnimationFactory=void 0;var n=i(222);t.Ch5AnimationFactory=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getAnimation",value:function(e,t,i){return new n.Ch5StandardAnimation(e,t,i)}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ListBufferedItems=void 0;var n=i(19);t.Ch5ListBufferedItems=function(e){_inherits(i,n.Ch5ListAbstractHelper);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"bufferItems",value:function(e,t){if("boolean"!=typeof e&&(e=!1),"boolean"!=typeof t&&(t=!1),this._list.bufferedItems.bufferActive){var i=Number(this._list.size);!e&&this._list.bufferedItems.bufferForwardStartIndex<=i&&0===this._list.bufferedItems.forwardBufferedItems.length&&this._list.bufferedItems.bufferForwardStartIndex<=this._list.bufferedItems.bufferBackwardsStartIndex+this._list.getFirstRenderVisibleItemsNr()&&this._bufferItemsForward(),this._list.endless&&!t&&this._list.bufferedItems.bufferBackwardsStartIndex>0&&0===this._list.bufferedItems.backwardsBufferedItems.length&&this._list.bufferedItems.bufferBackwardsStartIndex>this._list.bufferedItems.bufferForwardStartIndex&&this._bufferItemsBackwards(),this._list.bufferedItems.bufferingComplete=this._list.bufferedItems.bufferForwardStartIndex>i||this._list.bufferedItems.bufferForwardStartIndex-1===this._list.bufferedItems.bufferBackwardsStartIndex||0===this._list.bufferedItems.bufferBackwardsStartIndex}}},{key:"_appendForwardBufferedItemsToList",value:function(e,t,i){if(this._list.bufferedItems.forwardBufferedItems.length>0){var n=document.createDocumentFragment();this._list.bufferedItems.forwardBufferedItems=this._list.bufferedItems.forwardBufferedItems.reverse();for(var s=this._list.bufferedItems.forwardBufferedItems.pop();void 0!==s;)n.appendChild(s),s=this._list.bufferedItems.forwardBufferedItems.pop(),this._list.appendPosition++;this._list.divList.insertBefore(n,this._list.divList.children[this._list.appendPosition]),this.bufferItems(!1,!0),this._list.onResizeList()}}},{key:"maybeAddBufferItems",value:function(e){if(null!==this._list.bufferAmount&&this._list.bufferAmount>0){var t=(this._list.items.length-this._list.getItemsPerPage())*this._list.getItemSize(),i=this._list.isLtr();(i&&e<-t||!i&&e<t)&&this._appendForwardBufferedItemsToList(e,!this._list.isHorizontal,this._list.bufferAmount)}}},{key:"_bufferItemsForward",value:function(){var e=Number(this._list.size),t=this._list.divList.id,i=this._list.divList.children.length,n=i+Number(this._list.bufferAmount);n>e&&(n=e);for(var s=i;s<n;s++){var r=this._list.templateHelper.processTemplate(t,s,this._list.templateVars);this._list.bufferedItems.forwardBufferedItems.push(r)}this._list.bufferedItems.bufferForwardStartIndex=n+1}},{key:"_bufferItemsBackwards",value:function(){var e=this._list.divList.id,t=this._list.bufferedItems.bufferBackwardsStartIndex-Number(this._list.bufferAmount);t<this._list.bufferedItems.bufferForwardStartIndex&&(t=this._list.bufferedItems.bufferForwardStartIndex-1),t<0&&(t=0);for(var i=this._list.bufferedItems.bufferBackwardsStartIndex;i>t;i--)this._list.bufferedItems.backwardsBufferedItems.push(this._templateHelper.processTemplate(e,i,this._list.templateVars));this._list.bufferedItems.bufferBackwardsStartIndex=t}},{key:"_appendBackwardsBufferedItemsToList",value:function(e,t,i){if(this._list.bufferedItems.backwardsBufferedItems.length>0){for(var n=document.createDocumentFragment(),s=this._list.bufferedItems.backwardsBufferedItems.pop();void 0!==s;)n.appendChild(s),s=this._list.bufferedItems.backwardsBufferedItems.pop(),t?this._list.divList.scrollTop=i+e:this._list.divList.scrollLeft=i+e;this._list.divList.insertBefore(n,this._list.divList.children[this._list.appendPosition]),this.bufferItems(!0,!1),this._list.onResizeList()}}}]),i}()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ListAnimation=t.EDragDirection=t.defaultTransitionDuration=void 0;var s,r=n(i(5)),a=n(i(85)),o=i(19),l=i(71);t.defaultTransitionDuration=0,function(e){e[e.next=1]="next",e[e.previous=0]="previous"}(s=t.EDragDirection||(t.EDragDirection={}));t.Ch5ListAnimation=function(e){_inherits(i,o.Ch5ListAbstractHelper);var t=_createSuper(i);function i(e,n){var s;return _classCallCheck(this,i),(s=t.call(this,e)).disableAnimation=!1,s.animationAPI={},s.animationFrame=0,s.minOffsetTranslate=0,s.direction=1,n instanceof l.Ch5Animation&&(s.animationAPI=n),s}return _createClass(i,[{key:"stop",value:function(){this._list.pagedSwipe||(this._list.decelerating=!1,cancelAnimationFrame(this.animationFrame))}},{key:"onFinishAnimation",value:function(){this._list.decelerating=!1}},{key:"addAnimationApi",value:function(e){return e instanceof l.Ch5Animation&&(this.animationAPI=e,!0)}},{key:"startDecelerating",value:function(){this._list.info("ch5-list-template - startDecelerating"),this._list.pagedSwipe||this._list.endless||(this.minOffsetTranslate=0),this.listDeceleration()}},{key:"listDeceleration",value:function(){var e=this;if(this.disableAnimation)this._list.decelerating=!1;else{this._list.decelerating=!0;var t,i=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition,n=this._list.pointerEndTime-this._list.pointerStartTime,s=this._list.isHorizontal,r=s?this._list.currentXPosition:this._list.currentYPosition,a=s?this._list.stepOnX:this._list.stepOnY,o=Math.abs(r-a);if(t=25*Math.round(o/n),this._list.endless?this._infiniteLoopManager(i):i=this.fixOffset(i),0!==o){if(t>2e3&&(t=2e3),this._list.pagedSwipe){var l=this._list.viewportClientWidth,u=this._list.viewportClientHeight,c=this._list.isHorizontal?l:u;this._templateHelper.computePage(i,a,r),i=this._list.currentPage*c,this._list.isHorizontal?this._list.currentXPosition=i:this._list.currentYPosition=i,this.updateDragPosition(i,this.animationAPI.animate)}else{cancelAnimationFrame(this.animationFrame);t>0&&function n(){var s=e._list.isLtr(),r=e.minOffsetTranslate||0,a=e.maxOffsetTranslate||0,o=e._list.isHorizontal?e._list.currentXPosition:e._list.currentYPosition;if(t<1||!e._list.endless&&(t<1||s&&(o<=a||o>=0)||!s&&(o<=r||o>=-a)))return cancelAnimationFrame(e.animationFrame),void(e._list.decelerating=!1);t*=.95555,e._list.isHorizontal?(e._list.pointerFirstX<e._list.pointerLastX?e._list.currentXPosition+=t:e._list.currentXPosition-=t,i=e._list.currentXPosition):(e._list.pointerFirstY<e._list.pointerLastY?e._list.currentYPosition+=t:e._list.currentYPosition-=t,i=e._list.currentYPosition),e.updateDragPosition(i),e.animationFrame=requestAnimationFrame(n)}()}this._list.bufferAmount&&this._list.bufferdItemsHelper.maybeAddBufferItems(i)}else this._list.decelerating=!1}}},{key:"fixOffset",value:function(e){this._list.info("ch5-list-animation - fixOffset, coord: ".concat(e));var t=this._list.isLtr(),i=0;return(0,a.default)(this.maxOffsetTranslate)&&(this.maxOffsetTranslate=0),this._list.isHorizontal?(0,r.default)(this._list.itemOffsetWidth)||(i=n(e,this.maxOffsetTranslate,this.minOffsetTranslate)):(0,r.default)(this._list.itemOffsetHeight)||(i=n(e,this.maxOffsetTranslate,this.minOffsetTranslate)),i;function n(e,i,n){var s=i,r=n;if(!t){var a=s;s=r,r=-a}return e<s?s:e>r?r:e}}},{key:"signalScrollTo",value:function(e){this._list.info("ch5-list-animation - signalScrollTo, position: ".concat(e));var t=this._list.isLtr(),i=e>=0;if(this._list.isHorizontal&&!t&&(i=(e=-e)<=0),this._list.divList.childElementCount>0&&i){var n=this._list.divList.firstChild.getBoundingClientRect();if(null!==n){var s=this._list.isHorizontal?n.width:n.height,r=this.animationAPI.animate.bind(this.animationAPI),a=-s*e;this._list.isHorizontal?this._list.currentXPosition=a:this._list.currentYPosition=a,this._list.templateHelper.updateScrollBarPosition(a,r),this.updateDragPosition(a,r)}}}},{key:"slideTo",value:function(e){this._list.isHorizontal?this._templateHelper.setWrapperTranslateX(e):this._templateHelper.setWrapperTranslateY(e)}},{key:"resolveDirection",value:function(e,t){return e>=t?0:1}},{key:"updateDragPosition",value:function(e,t){var i;this._list.endless?this._infiniteLoopManager(e):e=this._computeNewPosition(e),void 0!==t&&(i=t.bind(this.animationAPI)),this._list.isHorizontal?this._templateHelper.setWrapperTranslateX(e,i):this._templateHelper.setWrapperTranslateY(e,i),!0===this._list.scrollbar&&this._templateHelper.updateScrollBarPosition(e,i),this._list.pointerLastX=this._list.pointerCurrentX,this._list.pointerLastY=this._list.pointerCurrentY,this._list.dragTicking=!1,this._list.bufferdItemsHelper.maybeAddBufferItems(e)}},{key:"adjustMaxOffset",value:function(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return-this._list.sizeResolver.hiddenListSize;this._templateHelper.updateViewportSize(this._list.sizeResolver.viewPortSize);var e=this._list.getItemsPerPage(),t=this._list.getItemSize();return-((this._list.size||0)-e)*t}},{key:"resetOffsets",value:function(){this.maxOffsetTranslate=void 0,this.minOffsetTranslate=0}},{key:"_infiniteLoopManager",value:function(e){var t=this._list.items[0],i=this._list.isLtr();if(t){var n,a,o=this._list.isHorizontal?t.element.offsetWidth:t.element.offsetHeight;if(!(0,r.default)(this.maxOffsetTranslate))this._log(e),(this._list.isVertical||i)&&this._arrangementCondition(e)&&(this.direction===s.next?(n=Math.ceil(Math.abs(e-this.maxOffsetTranslate)/o),a=this.stackInfinite):(n=Math.ceil(Math.abs(e-this.minOffsetTranslate)/o),a=this.queueInfinite),this._loop(n,a)),this._list.isHorizontal&&!i&&this._arrangementCondition(e)&&(this.direction===s.next?(n=Math.ceil(Math.abs(e-this.minOffsetTranslate)/o),a=this.queueInfinite):(n=Math.ceil(Math.abs(e-this.minOffsetTranslate)/o)-1,a=this.stackInfinite),this._loop(n,a))}}},{key:"stackInfinite",value:function(){var e=this._list.items.shift(),t=this._list.isLtr();if(e&&!(0,r.default)(this.maxOffsetTranslate)){var i=this._list.sizeResolver.fullListSize,n=e.element.offsetWidth,s=i;if(this._list.isHorizontal&&!t&&(s=-i),this._list.items.push(e),this._list.isHorizontal){var a=e.translateX+s;this._templateHelper.setItemTranslateX(a,e)}else{var o=e.translateY+s;this._templateHelper.setItemTranslateY(o,e),n=e.element.offsetHeight}var l=-n;this._list.isHorizontal&&!t&&(l=n),this.maxOffsetTranslate=this.maxOffsetTranslate+l,this.minOffsetTranslate=this.minOffsetTranslate+l}}},{key:"queueInfinite",value:function(){var e=this._list.items.pop(),t=this._list.isLtr();if(e&&!(0,r.default)(this.maxOffsetTranslate)){var i=this._list.sizeResolver.fullListSize,n=e.element.offsetWidth,s=-i;if(this._list.isHorizontal&&!t&&(s=i),this._list.items.unshift(e),this._list.isHorizontal){var a=e.translateX+s;this._templateHelper.setItemTranslateX(a,e)}else{var o=e.translateY+s;this._templateHelper.setItemTranslateY(o,e),n=e.element.offsetHeight}var l=n;this._list.isHorizontal&&!t&&(l=-n),this.maxOffsetTranslate=this.maxOffsetTranslate+l,this.minOffsetTranslate=this.minOffsetTranslate+l}}},{key:"_calculateNextPosition",value:function(){var e=this._list.getItemSize();return this._list.items.length*e}},{key:"_loop",value:function(e,t){for(var i=0;i<e;)t.apply(this),i>this._list.items.length?(i=0,e-=this._list.items.length):i++}},{key:"_arrangementCondition",value:function(e){var t=this._list.isLtr();if((0,r.default)(this.maxOffsetTranslate))return!1;if(this.direction===s.next){var i=this.maxOffsetTranslate;return this._list.isHorizontal&&!t&&(i=this.minOffsetTranslate),e<i}return e>this.minOffsetTranslate}},{key:"_computeNewPosition",value:function(e){var t=this.maxOffsetTranslate||0,i=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition,n=this._list.isLtr();if(this._list.isHorizontal&&!n){if(i>-t||e>-t)return this._list.currentXPosition=this._list.currentYPosition=-t;if(i<0||e<0)return this._list.currentXPosition=this._list.currentYPosition=0}else{if(i<t||e<t)return this._list.currentXPosition=this._list.currentYPosition=t;if(i>0||e>0)return this._list.currentXPosition=this._list.currentYPosition=0}return e}},{key:"_log",value:function(e){var t,i,n=this._list.isLtr();(0,r.default)(this.maxOffsetTranslate)||(this._list.isHorizontal&&!n?(t=e>this.maxOffsetTranslate,i=e<this.minOffsetTranslate):(t=e<this.maxOffsetTranslate,i=e>this.minOffsetTranslate),this._list.info({dir:this.direction,shouldStack:t,shouldQueue:i,minOffset:this.minOffsetTranslate,maxOffset:this.maxOffsetTranslate,pos:e}))}}]),i}()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ListSignalManager=void 0;var s=n(i(1)),r=i(0),a=i(19);t.Ch5ListSignalManager=function(e){_inherits(i,a.Ch5ListAbstractHelper);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"unsubscribeFromSignals",value:function(e){var t=this._list;this.clearSubscription(e,t.receiveStateScrollToSub,"receiveStateScrollTo"),this.clearSubscription(e,t.receiveStateSize,"receiveStateSize"),this.clearSubscription(e,t.receiveStateTemplateVarsSub,"receiveStateTemplateVars")}},{key:"subscribeToSignal",value:function(e,t,i,n){if(void 0===t||void 0===i)return"";if(void 0!==(t=r.Ch5Signal.getSubscriptionSignalName(t))&&null!==t){var a=this.getStateFromFactory(t,e);null!==a&&a.unsubscribe(i)}var o=this.getStateFromFactory(t,e);return s.default.isNil(o)?"":o.subscribe(n.bind(this._list))}},{key:"getStateFromFactory",value:function(e,t){return r.Ch5SignalFactory.getInstance().getState(e,t)}},{key:"clearSubscription",value:function(e,t,i){var n=Object.assign({},this._list);i in n&&null!==n[i]&&(e(i,t),n[i]="")}}]),i}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCrestronDevice=void 0,t.isCrestronDevice=function(){return window.navigator.userAgent.toLowerCase().includes("crestron")}},function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.getEvtListenerOptions=void 0,t.getEvtListenerOptions=function(e){return!!function(){if(void 0===n){n=!1;try{Object.defineProperty({},"passive",{get:function(){n=!0}})}catch(e){console.log(e)}}return n}()&&{passive:e}}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ListEventManager=t.stepAllowancePx=void 0;var s=n(i(5)),r=i(25),a=i(228),o=i(16),l=i(19),u=i(227);t.stepAllowancePx=50,t.Ch5ListEventManager=function(e){_inherits(i,l.Ch5ListAbstractHelper);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e))._dragAllowanceAngle=45,n._currentDragAngle=0,n._listHasMoved=!1,n._hammer=null,n._updateManager=0,n.onPointerDown=n.onPointerDown.bind(_assertThisInitialized(n)),n.onPointerMove=n.onPointerMove.bind(_assertThisInitialized(n)),n.onPointerEnd=n.onPointerEnd.bind(_assertThisInitialized(n)),n.onWindowResize=n.onWindowResize.bind(_assertThisInitialized(n)),n.onPointerCancel=n.onPointerCancel.bind(_assertThisInitialized(n)),n.onOrientationChange=n.onOrientationChange.bind(_assertThisInitialized(n)),n}return _createClass(i,[{key:"removeEvents",value:function(e){this._list.info("ch5-list-event-manager - removeEvents"),null!==this._hammer&&(this._hammer.destroy(),this._hammer=null),window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("touchcancel",this.onPointerCancel),window.removeEventListener("orientationchange",this.onOrientationChange),e.removeEventListener("touchstart",this.onPointerDown),e.removeEventListener("mousedown",this.onPointerDown),e.removeEventListener("touchmove",this.onPointerMove),e.removeEventListener("mousemove",this.onPointerMove),e.removeEventListener("touchend",this.onPointerEnd),e.removeEventListener("mouseup",this.onPointerEnd)}},{key:"initializeEvents",value:function(e){this._list.info("ch5-list-event-manager - initializeEvents"),window.addEventListener("resize",this.onWindowResize),window.addEventListener("orientationchange",this.onOrientationChange),(0,u.isCrestronDevice)()?this.initializeTouchEvents(e):(this.initializeMouseEvents(e),this.initializeTouchEvents(e)),window.addEventListener("touchmove",function(){})}},{key:"initializeTouchEvents",value:function(e){this._list.info("ch5-list-event-manager - initializeTouchEvents"),window.addEventListener("touchcancel",this.onPointerCancel),e.addEventListener("touchstart",this.onPointerDown,{passive:!0}),e.addEventListener("touchmove",this.onPointerMove,{passive:!0}),e.addEventListener("touchend",this.onPointerEnd,!0)}},{key:"initializeMouseEvents",value:function(e){this._list.info("initializeMouseEvents"),e.addEventListener("mousedown",this.onPointerDown),e.addEventListener("mousemove",this.onPointerMove,(0,a.getEvtListenerOptions)(!1)),e.addEventListener("mouseup",this.onPointerEnd,!0)}},{key:"checkTouchSupport",value:function(){return"ontouchstart"in window&&"ontouchmove"in window&&"ontouchend"in window&&"ontouchcancel"in window||navigator.maxTouchPoints>0}},{key:"onWindowResize",value:function(){this._list.templateHelper.resetListLayout()}},{key:"onPointerDown",value:function(e){this._list.info("ch5-list-event-manager - onPointerDown: ".concat(e));var t=(0,o.normalizeEvent)(e);if(this._list.decelerating&&t.event.stopPropagation(),this._list.endless&&!this._animationHelper.maxOffsetTranslate||!this._list.endless){this._list.sizeResolver.updateViewport(this._list);var i=!(0,s.default)(this._list.bufferAmount)&&this._list.bufferAmount>0,n=this._animationHelper.adjustMaxOffset(i);this._animationHelper.maxOffsetTranslate=n}var a=this._list.getBoundingClientRect(),l=this._list.items[0].element.getBoundingClientRect(),u=a.width,c=l.width*this._list.size;this._templateHelper.resolveEndlessViewportSize(),this._list.isHorizontal||(u=a.height,c=l.height*this._list.size),c>u&&(this._list.decelerating=!1,this._list.isPointerActive=!0,this._list.pointerId=t.id,this._list.pointerFirstX=this._list.pointerLastX=this._list.pointerCurrentX=t.x,this._list.pointerFirstY=this._list.pointerLastY=this._list.pointerCurrentY=t.y,this._list.lastDraggedLayoutIndex=this._list.items[this._list.selected].layoutIndex,this._list.pointerStartTime=this._list.pointerEndTime=Date.now(),this._list.stepOnX=this._list.currentXPosition,this._list.stepOnY=this._list.currentYPosition,this._list.trackingPointsX=[],this._list.trackingPointsY=[],this._addTrackingPoint(this._list.pointerLastX,r.Ch5ListItemAxis.X),this._addTrackingPoint(this._list.pointerLastY,r.Ch5ListItemAxis.Y),this._list.animationHelper.stop(),window.addEventListener("touchcancel",this.onPointerEnd))}},{key:"onPointerMove",value:function(e){var t=this,i=(0,o.normalizeEvent)(e),n=Math.abs(this._list.pointerFirstX-i.x),s=Math.abs(this._list.pointerFirstY-i.y),a=Math.atan2(n,s)*(180/Math.PI);if(this._list.isHorizontal&&(a=Math.atan2(s,n)*(180/Math.PI)),this._currentDragAngle=a,this._currentDragAngle>=0&&this._currentDragAngle<=this._dragAllowanceAngle&&this._list.isPointerActive){this._list.info("ch5-list-event-manager - onPointerMove: ".concat(e)),this._list.pointerCurrentX=i.x,this._list.pointerCurrentY=i.y,this._listHasMoved=!0;var l=this._list.currentXPosition+this._list.pointerCurrentX-this._list.pointerFirstX,u=this._list.currentYPosition+this._list.pointerCurrentY-this._list.pointerFirstY,c=this._list.isHorizontal?l:u,h=this._list.isHorizontal?this._list.stepOnX:this._list.stepOnY;Math.abs(h-c)>1&&(this._list.animationHelper.direction=this._list.animationHelper.resolveDirection(c,h)),clearTimeout(this._updateManager),this._updateManager=window.setTimeout(function(){t._list.stepOnX=l,t._list.stepOnY=u,t._list.pointerStartTime=Date.now()},50);var d=l;this._list.isHorizontal||(d=u),this._templateHelper.computePage(Math.abs(d)),this._addTrackingPoint(this._list.pointerLastX,r.Ch5ListItemAxis.X),this._addTrackingPoint(this._list.pointerLastY,r.Ch5ListItemAxis.Y),null!==this._animationHelper&&this._animationHelper.updateDragPosition(d)}else this._list.isPointerActive=!1}},{key:"onPointerEnd",value:function(e){this._list.info("ch5-list-event-manager - onPointerEnd: ".concat(e)),this._list.pointerEndTime=Date.now(),this._listHasMoved&&(this._list.currentXPosition+=this._list.pointerCurrentX-this._list.pointerFirstX,this._list.currentYPosition+=this._list.pointerCurrentY-this._list.pointerFirstY,this.stopPointerTracking()),clearTimeout(this._updateManager),this._listHasMoved=!1}},{key:"onPointerCancel",value:function(){this._list.info("ch5-list-event-manager - onPointerCancel"),this.stopPointerTracking()}},{key:"updateDragEventListeners",value:function(e){this._list.info("ch5-list-event-manager - updateDragEventListeners"),e.addEventListener("touchstart",this.onPointerDown,(0,a.getEvtListenerOptions)(!0)),e.addEventListener("mousedown",this.onPointerDown,(0,a.getEvtListenerOptions)(!0))}},{key:"onOrientationChange",value:function(){this._templateHelper.customScrollbar(this._list)}},{key:"stopPointerTracking",value:function(){this._list.info("ch5-list-event-manager - stopPointerTracking"),this._list.isPointerActive=!1,this._list.pointerId=0,null!==this._animationHelper&&this._animationHelper.startDecelerating()}},{key:"_addTrackingPoint",value:function(e,t){var i=Date.now();switch(t){case r.Ch5ListItemAxis.X:for(;this._list.trackingPointsX.length>0&&!(i-this._list.trackingPointsX[0].time<=100);)this._list.trackingPointsX.shift();this._list.trackingPointsX.push({num:e,time:i});break;case r.Ch5ListItemAxis.Y:for(;this._list.trackingPointsY.length>0&&!(i-this._list.trackingPointsY[0].time<=100);)this._list.trackingPointsY.shift();this._list.trackingPointsY.push({num:e,time:i})}}}]),i}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ListSizeResolver=void 0,t.Ch5ListSizeResolver=function(){function e(t,i){_classCallCheck(this,e),this.elements=[],this.viewPortSize=0,this.fullListSize=0,this.hiddenListSize=0,this.orientation="horizontal",this.elements=Array.from(t),this.orientation=i,this.init()}return _createClass(e,[{key:"getItemsPerPage",value:function(){var e=this,t=0;return Array.from(this.elements).reduce(function(i,n){return t<=e.viewPortSize?(t+=e.getElementSize(n),++i):i},0)-1}},{key:"getTotalSize",value:function(){var e=this;return Array.from(this.elements).reduce(function(t,i){return t+e.getElementSize(i)},0)}},{key:"getOverflowSize",value:function(){return this.getTotalSize()-this.viewPortSize}},{key:"getFullSize",value:function(){return this.viewPortSize+this.getOverflowSize()}},{key:"updateViewport",value:function(e){var t=e.getBoundingClientRect();"horizontal"===this.orientation?this.viewPortSize=t.width:this.viewPortSize=t.height,this.fullListSize=this.getFullSize(),this.hiddenListSize=this.getOverflowSize()}},{key:"init",value:function(){this.fullListSize=this.getFullSize(),this.hiddenListSize=this.getOverflowSize()}},{key:"getElementSize",value:function(e){return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}}]),e}()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ListTemplate=void 0;var s=n(i(5)),r=i(25),a=i(19),o=i(20),l=i(3),u=i(86),c=i(230);t.Ch5ListTemplate=function(e){_inherits(i,a.Ch5ListAbstractHelper);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.apply(this,arguments)).scrollbarSize=0,e.endless=!1,e._tmplString="",e._scrollbarElement={},e._lastScrollbarPosition=0,e.resizeDebouncer={},e}return _createClass(i,[{key:"scrollbarElement",get:function(){return this._scrollbarElement},set:function(e){void 0===e&&null===e||(this._scrollbarElement=e)}},{key:"checkForTemplate",value:function(){var e,t="";return(e=this._list.templateElement instanceof HTMLTemplateElement?this._list.templateElement:this._list.templateElement=this._list.getElementsByTagName("template")[0])&&e.innerHTML&&e.innerHTML.length>0?(this._list.info("ch5-list-template - tpEL.innerHtml ",e.innerHTML),t=e.innerHTML):e&&e.firstElementChild&&e.firstElementChild.outerHTML&&e.firstElementChild.outerHTML.length>0&&(this._list.info("ch5-list-template - tplEl.firstElementChild.outerHTML ",e.firstElementChild.outerHTML),t=e.firstElementChild.outerHTML),this._tmplString=t,t}},{key:"updateTemplateString",value:function(e){this._tmplString=e}},{key:"processTemplate",value:function(e,t,i){this._list.info("ch5-list-template - processTemplate");var n=document.createElement("div");n.id="".concat(e,"_").concat(t),n.classList.add(r.Ch5List.ITEMCLASS);var s=document.createElement("template");if(s.innerHTML=this._tmplString,null!==this._list.indexId&&(o.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsAttrs(s,t,this._list.indexId),o.Ch5AugmentVarSignalsNames.replaceIndexIdInTmplElemsContent(s,t,this._list.indexId)),n.appendChild(s.content),o.Ch5AugmentVarSignalsNames.differentiateTmplElemsAttrs(n,this._list.getAttribute("contractname")||"",parseInt(this._list.getAttribute("booleanjoinoffset")||"0",10)||0,parseInt(this._list.getAttribute("numericJoinOffset")||"0",10)||0,parseInt(this._list.getAttribute("stringJoinOffset")||"0",10)||0),null!==i&&""!==i){var a=JSON.parse(i);n.innerHTML=this.processTemplateForVars(n.innerHTML,a[t])}return this._list.isDebug()&&this._list.info("after update ".concat(n.innerHTML)),n}},{key:"listItemCSS",value:function(){return this._list.info("ch5-list-template - listItemCSS, process list item CSS"),{display:this._list.orientation===r.Ch5List.ORIENTATION[0]?"":"inline-block",width:null==this._list.itemWidth?"":this._list.itemWidth,height:null==this._list.itemHeight?"":this._list.itemHeight}}},{key:"attachCSS",value:function(){this._list.info("ch5-list-template - attachCSS");var e=this._list.getElementsByTagName("style"),t=0===e.length?document.createElement("style"):e[0];0===e.length&&this._list.appendChild(t),t.innerHTML=this.prepareStyleSheet().toString()}},{key:"updateListMainElStyle",value:function(){this._list.info("ch5-list-template - updateListMainElStyle");var e="";this._list.minWidth&&(e+="min-width: ".concat(this._list.minWidth,";")),this._list.maxWidth&&(e+="max-width: ".concat(this._list.maxWidth,";")),this._list.minHeight&&(e+="min-height: ".concat(this._list.minHeight,";")),this._list.maxHeight&&(e+="max-height: ".concat(this._list.maxHeight,";")),e&&(this._list.style.cssText=e)}},{key:"resizeList",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._list.info("ch5-list-template - resizeList()"),this._list.animationHelper.minOffsetTranslate=0,this._list.isHorizontal&&!isNaN(this._list.currentXPosition)&&this._list.getItemSize()>0?(this._list.currentXPosition=this.computeItemLocation(this._list.currentXPosition),this.setWrapperTranslateX(this._list.currentXPosition),this.updateScrollBarPosition(this._list.currentXPosition)):!this._list.isHorizontal&&!isNaN(this._list.currentYPosition)&&this._list.getItemSize()>0&&(this._list.currentYPosition=this.computeItemLocation(this._list.currentYPosition),this.setWrapperTranslateY(this._list.currentYPosition),this.updateScrollBarPosition(this._list.currentYPosition));var a=this._list.getCrId(),o=this._list.orientation===r.Ch5List.ORIENTATION[0]?"ch5-list-vertical-scrollbar":"ch5-list-horizontal-scrollbar",l=this._list.orientation===r.Ch5List.ORIENTATION[0]?"ch5-list-vertical":"ch5-list-horizontal",u=!0===this._list.scrollbar?o:"";if(e.id=a,e.className="".concat(u," ").concat(l),(0,s.default)(e.parentElement)&&this._list.appendChild(e),0!==this._list.size){if(this.attachCSS(),this.updateListMainElStyle(),this.checkAndSetSizes(),n)this._list.items=this._list.items.map(function(e){return e.element.style.transform="",Object.assign(Object.assign({},e),{translateX:0,translateY:0})});else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(this.processTemplate(a,0,t));var h=this._list.getFirstRenderVisibleItemsNr(!0);this._list._appendPosition=h;for(var d=document.createDocumentFragment(),f=1;f<h;f++)d.appendChild(this.processTemplate(a,f,t));e.appendChild(d),this._list._bufferedItems.bufferActive=this._list._canUseBufferAmount(h),this._list._bufferedItems.bufferActive&&(this._list._bufferedItems.bufferForwardStartIndex=h,null!==this._list.size&&(this._list._bufferedItems.bufferBackwardsStartIndex=Number(this._list.size))),this._list.bufferdItemsHelper.bufferItems()}if(this._list.onResizeList(),!1!==this._list.scrollbar){var p=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition-this.scrollbarSize;this.updateScrollBarPosition(p)}this._list.previousSize=this._list.size;var v=this._list.items.map(function(e){return e.element});this._list.viewportClientWidth,this._list.viewportClientHeight,this._list.sizeResolver=new c.Ch5ListSizeResolver(v,this._list.orientation),clearTimeout(this.initializationTask),this.initializationTask=window.setTimeout(function(){i._list.sizeResolver.updateViewport(i._list),i.customScrollbar(e);var t=i._list.sizeResolver;t.fullListSize,t.viewPortSize;i._list.animationHelper.maxOffsetTranslate=void 0,i._list.endless})}}},{key:"resetListLayout",value:function(){var e=this;clearTimeout(this.resetListLayoutTask),this.resetListLayoutTask=window.setTimeout(function(){if(e._list.sizeResolver instanceof c.Ch5ListSizeResolver){e.checkAndSetSizes(),e._list.sizeResolver.updateViewport(e._list),e.resetItemsTransform(),e._list.items.sort(function(e,t){return e.layoutIndex-t.layoutIndex}),e._list.endless&&e._list.animationHelper.stop(),e._list.animationHelper.minOffsetTranslate=0,e._list.animationHelper.maxOffsetTranslate=-e._list.sizeResolver.hiddenListSize,e._list.isHorizontal?e._list.currentXPosition=e._list.currentXPosition%e._list.sizeResolver.fullListSize:e._list.currentYPosition=e._list.currentYPosition%e._list.sizeResolver.fullListSize,e.isPositionExceedingMaximumBoundary()&&(e._list.isHorizontal?e._list.currentXPosition=e._list.animationHelper.maxOffsetTranslate:e._list.currentYPosition=e._list.animationHelper.maxOffsetTranslate),e._list.sizeResolver.viewPortSize>0&&e._list.templateHelper.customScrollbar(e._list.divList);var t=e._list.isHorizontal?e._list.currentXPosition:e._list.currentYPosition;e._list.templateHelper.updateScrollBarPosition(t),e._list.animationHelper.updateDragPosition(t);var i=e._list.sizeResolver,n=i.fullListSize,r=i.viewPortSize;n>0&&r>0&&n<=r&&e.resetItemsTransform();var a=!(0,s.default)(e._list.bufferAmount);if(n<=r)return e._list.setCurrentPosition(0),e._list.templateHelper.setWrapperTranslateX(0),void e._list.templateHelper.setWrapperTranslateY(0);if(!e._list.endless&&(e._list.animationHelper.maxOffsetTranslate=e._list.animationHelper.adjustMaxOffset(a),e._list.animationHelper.maxOffsetTranslate)){var o=e._list.isHorizontal?e._list.currentXPosition:e._list.currentYPosition;o<e._list.animationHelper.maxOffsetTranslate&&(o=e._list.animationHelper.maxOffsetTranslate,e._list.animationHelper.updateDragPosition(o))}}else clearTimeout(e.resetListLayoutTask)})}},{key:"triggerResizeDueWidthAndHeightUpdates",value:function(){var e=this;(0,u.debounce)(this.resizeDebouncer,function(){e.updateListMainElStyle(),e.checkAndSetSizes(),e.customScrollbar(e._list.divList)})}},{key:"removeScrollbar",value:function(){null!==this._scrollbarElement&&this._scrollbarElement instanceof HTMLElement&&(null!==this._scrollbarElement.parentElement&&this._scrollbarElement.parentElement.remove(),this._scrollbarElement.remove(),this._scrollbarElement=null)}},{key:"customScrollbar",value:function(e){var t=this;if(this.createScrollbar(),this._list.scrollbar&&null!==this._list.size&&void 0!==e&&void 0!==e.children&&this._scrollbarElement&&void 0!==this._scrollbarElement.parentElement){var i=this._list.getLayoutInfo(),n=i.fullListSize,s=this._scrollbarElement.parentElement,r=new Event("scroll"),a=this._scrollbarElement,o=i.viewPortSize;if(null!==s&&i.fullListSize<=i.viewPortSize)return s.remove(),void(this._scrollbarElement=null);var l=Math.ceil(o/n*100);void 0!==a&&(s.addEventListener("scroll",function(){void 0!==a.style&&s&&(s.style.display=100===l?"none":"block",t._list.isHorizontal?a.style.width=l+"%":a.style.height=l+"%")}),this.scrollbarSize=l/100*o,window.addEventListener("resize",s.dispatchEvent.bind(s,r)),s.dispatchEvent(r))}else this.removeScrollbar()}},{key:"updateScrollBarPosition",value:function(e,t){if(null!==this._list.size){var i=this._list.getLayoutInfo(),n=i.viewPortSize,s=i.fullListSize,a=i.viewPortSize;this._list.endless&&(a-=this.scrollbarSize);var o=n,u=this.getRelativeScrollbarPosition(e,s,a),c=-u;if(u<0&&Math.abs(u)>o&&(u=c=0),this.scrollbarElement instanceof HTMLElement)if(void 0===t)this._list.isHorizontal?(this._list.direction===l.Ch5Common.DIRECTION[1]&&(this.scrollbarElement.style.transform="translate3d(".concat(-c,"px, 0, 0)")),this.scrollbarElement.style.transform="translate3d(".concat(c,"px, 0, 0)")):this.scrollbarElement.style.transform="translate3d(0, ".concat(c,"px, 0)");else{var h=this._list.isHorizontal?r.Ch5List.ORIENTATION[1]:r.Ch5List.ORIENTATION[0];t(this.scrollbarElement,c,h,-this._lastScrollbarPosition)}this._lastScrollbarPosition=u}}},{key:"setWrapperTranslateX",value:function(e,t){(0,s.default)(this._list)||(void 0===t?(this._list.divList.style.transform="translate3d(".concat(e,"px, 0, 0)"),this._list.wrapperTranslateX=e):(t(this._list.divList,e,r.Ch5List.ORIENTATION[1],this._list.wrapperTranslateX),this._list.wrapperTranslateX=e))}},{key:"setWrapperTranslateY",value:function(e,t){(0,s.default)(this._list)||(void 0===t?(this._list.wrapperTranslateY=e,this._list.divList.style.transform="translate3d(0, ".concat(e,"px, 0)")):(t(this._list.divList,e,r.Ch5List.ORIENTATION[0],this._list.wrapperTranslateY),this._list.wrapperTranslateY=e))}},{key:"setItemTranslateX",value:function(e,t){(0,s.default)(t)||(t.translateX=e,t.element.style.transform="translateX(".concat(t.translateX,"px)"))}},{key:"setItemTranslateY",value:function(e,t){(0,s.default)(t)||(t.translateY=e,t.element.style.transform="translateY(".concat(t.translateY,"px)"))}},{key:"computePage",value:function(e,t,i){var n=this._list.getItemSize()*this._list.getVisibleItemsPerPage(),r=0,a=this._list.currentPage;return Math.abs(e)<=0?a:((0,s.default)(t)||(0,s.default)(i)||(r=Math.abs(t)-Math.abs(i)),e<0?!(0,s.default)(t)&&!(0,s.default)(i)&&r<0?this._list.currentPage=a=Math.floor(e/n):this._list.currentPage=a=Math.ceil(e/n):!(0,s.default)(t)&&!(0,s.default)(i)&&r<0?this._list.currentPage=a=Math.ceil(e/n):this._list.currentPage=a=Math.floor(e/n),a)}},{key:"checkAndSetSizes",value:function(){var e=this;if(this._list.divList.childElementCount>0){var t=this._list.divList.getBoundingClientRect(),i=this._list.divList.children[0];this._list.divListWidth=t.width,this._list.divListHeight=t.height,this.updateViewportSize(),setTimeout(function(){e._list.itemOffsetHeight=i.offsetHeight,e._list.itemOffsetWidth=i.offsetWidth,e._list.divListWidth=t.width,e._list.divListHeight=t.height,e._list.sizeResolver.fullListSize>e._list.sizeResolver.viewPortSize&&(e._list.style.width="100%"),e.updateViewportSize()}),i instanceof HTMLElement&&(this._list.itemOffsetHeight=i.offsetHeight,this._list.itemOffsetWidth=i.offsetWidth),this._list.storedOffsetWidth=this._list.offsetWidth,this._list.storedOffsetHeight=this._list.offsetHeight}}},{key:"updateViewportSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!e){var t=this._list.getBoundingClientRect();e=this._list.isHorizontal?t.width:t.height}this._list.isHorizontal?this._list.viewportClientWidth=e:this._list.viewportClientHeight=e}},{key:"resolveEndlessViewportSize",value:function(){if(this.endless){var e=this._list.sizeResolver.getItemsPerPage(),t=this._list.size;Math.floor(e)===t?this._list.endless=!1:this._list.endless=!0}}},{key:"resetItemsTransform",value:function(){this._list.items=this._list.items.map(function(e){return e.element.style.transform="translate3d(0,0,0)",Object.assign(Object.assign({},e),{translateX:0,translateY:0})})}},{key:"isPositionExceedingMaximumBoundary",value:function(){if(!this._list.animationHelper)return!1;var e=this._list.animationHelper.maxOffsetTranslate,t=this._list,i=t.currentYPosition,n=t.currentXPosition,s=t.isHorizontal;if(!e)return!1;if(this._list&&this._list.isLtr()){if(s&&n<e||!s&&i<e)return!0}else if(s&&n>e||!s&&i>e)return!0;return!1}},{key:"getRelativeScrollbarPosition",value:function(e,t,i){var n=e/t*100%100,s=1;return(this._list.isVertical||this._list.direction===l.Ch5Common.DIRECTION[0])&&e>0&&(n=100-n,s=-1),this._list.isHorizontal&&this._list.direction===l.Ch5Common.DIRECTION[1]&&e<0&&(n=100+n),Math.round(n/100*i)*s}},{key:"computeItemLocation",value:function(e){var t=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition,i=this._list.previousSize*this._list.getItemSize(),n=t%i;return e>0&&(n=i-t),n<=0?n:-n}},{key:"processTemplateForVars",value:function(e,t){for(var i in t){var n="{{".concat(i,"}}"),s=t[i];e=this.textReplace(e,n,s,!0)}return e}},{key:"textReplace",value:function(e,t,i,n){var s="";return null!=e&&(s=!0===n?e.replace(new RegExp(t,"g"),i):e.replace(new RegExp(t),i)),s}},{key:"createScrollbar",value:function(){this._scrollbarElement instanceof HTMLElement&&this.removeScrollbar();var e=document.createElement("div"),t=this._list.isHorizontal?this._list.currentXPosition:this._list.currentYPosition;this._scrollbarElement=document.createElement("div"),this._scrollbarElement.classList.add("scrollbar"),e.classList.add("scrollbar-container"),e.appendChild(this._scrollbarElement),this._list.appendChild(e),this.updateScrollBarPosition(t)}},{key:"prepareStyleSheet",value:function(){var e,t=(_defineProperty(e={},"#".concat(this._list.getCrId()),{"white-space":this._list.orientation===r.Ch5List.ORIENTATION[0]?"none":"nowrap","will-change":"transform",transition:"height .3s ease-out"}),_defineProperty(e,"#".concat(this._list.getCrId()," .").concat(r.Ch5List.ITEMCLASS),Object.assign({},this.listItemCSS())),e);return{toString:function(){var e="";for(var i in t)if(t.hasOwnProperty(i)){for(var n in e+=" ".concat(i,"{"),t[i])if(t[i].hasOwnProperty(n)){var r=t[i][n];(0,s.default)(r)||""===r||(e+="".concat(n,": ").concat(r=r.trim(),";"))}e+="}"}return e}}}},{key:"initListMaxWidthAndHeight",value:function(){this._list.maxWidth||(this._list.maxWidth="100%"),this._list.maxHeight||(this._list.maxHeight="100%")}}]),i}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(25),t)},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Emulator=void 0;var a=r(i(0)),o=i(0),l=i(1),u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"loadScenario",value:function(t){if(!e._instance)throw new Error("The Ch5Emulator instance is not created");if(e._scenario=t,(0,l.isUndefined)(t.cues))throw new Error("The loaded scenario has no cues");t.cues.forEach(e._instance.processCue)}},{key:"getScenario",value:function(){return e._scenario}},{key:"processCue",value:function(t,i){var n,s,r;if((0,l.isUndefined)(t.event))throw new Error('Property "signal" is not set in cue.');if((0,l.isUndefined)(t.actions)||"function"!=typeof t.actions.forEach)throw new Error('Property "actions" is not set in cue.');switch(r=t.event,t.type){case"b":case"boolean":if(n=o.Ch5SignalFactory.getInstance().getBooleanSignal(r),(0,l.isNull)(n))throw new Error("Error processing boolean type signal named ".concat(r));s=function(i){var s=e.getInstance();!(0,l.isNull)(s)&&s.isTriggered(t.trigger,i,n)&&t.actions.forEach(function(e,t,n){s.processAction(e,t,n,i)})},n.subscribe(s);break;case"s":case"string":if(n=o.Ch5SignalFactory.getInstance().getStringSignal(r),(0,l.isNull)(n))throw new Error("Error processing boolean type signal named ".concat(r));s=function(i){var s=e.getInstance();!(0,l.isNull)(s)&&s.isTriggered(t.trigger,i,n)&&t.actions.forEach(function(e,t,n){s.processAction(e,t,n,i)})},n.subscribe(s);break;case"n":case"numeric":case"number":if(n=o.Ch5SignalFactory.getInstance().getNumberSignal(r),(0,l.isNull)(n))throw new Error("Error processing boolean type signal named ".concat(r));s=function(i){var s=e.getInstance();!(0,l.isNull)(s)&&s.isTriggered(t.trigger,i,n)&&t.actions.forEach(function(e,t,n){s.processAction(e,t,n,i)})},n.subscribe(s);break;case"o":case"object":if(n=o.Ch5SignalFactory.getInstance().getObjectSignal(r),(0,l.isNull)(n))throw new Error("Error processing object type signal named ".concat(r));s=function(i){var s=e.getInstance();!(0,l.isNull)(s)&&s.isTriggered(t.trigger,i,n)&&t.actions.forEach(function(e,t,n){s.processAction(e,t,n,i)})},n.subscribe(s);break;default:throw new Error("Invalid cue type: ".concat(t.type))}}},{key:"isTriggered",value:function(e,t,i){var n=t,s=n[o.Ch5SignalBridge.REPEAT_DIGITAL_KEY];(0,l.isObject)(n)&&!(0,l.isUndefined)(s)&&(n=s);var r=!1;switch(_typeof(e)){case"boolean":r=e===n;break;case"string":r="&change"===e?(0,l.isObject)(n)?!(0,l.isNull)(i)&&JSON.stringify(i.prevValue)!==JSON.stringify(n):!(0,l.isNull)(i)&&i.prevValue!==n:e===n;break;case"number":r=e===n;break;case"object":r=JSON.stringify(e)===JSON.stringify(n)}return r}},{key:"processAction",value:function(e,t,i,n){var s=this;setTimeout(function(){return s.processActionAsync(e,t,i,n)},30)}},{key:"processActionAsync",value:function(e,t,i,n){if((0,l.isUndefined)(e.state))throw new Error('Property "state" is not set in action.');switch(e.type){case"b":case"boolean":this.processBooleanAction(e,n);break;case"s":case"string":this.processStringAction(e,n);break;case"n":case"numeric":case"number":this.processNumberAction(e,n);break;case"o":case"object":this.processObjectAction(e,n);break;default:throw new Error("Invalid cue type: ".concat(e.type))}}},{key:"castToBoolean",value:function(e){var t=!1;if("string"==typeof e)switch(e.toLowerCase().trim()){case"true":case"yes":case"1":t=!0;break;case"false":case"no":case"0":t=!1;break;default:t=Boolean(e)}else t=Boolean(e);return t}},{key:"processBooleanAction",value:function(e,t){var i=o.Ch5Signal.getSubscriptionSignalName(e.state),n=o.Ch5SignalFactory.getInstance().getBooleanSignal(i);if((0,l.isNull)(n))throw new Error("Error processing boolean type signal named ".concat(i));switch(e.logic){case"set":(0,l.isUndefined)(e.value)||a.bridgeReceiveBooleanFromNative(i,e.value);break;case"link":a.bridgeReceiveBooleanFromNative(i,this.castToBoolean(t));break;case"toggle":a.bridgeReceiveBooleanFromNative(i,!n.value);break;case"pulse":a.bridgeReceiveBooleanFromNative(i,!0),a.bridgeReceiveBooleanFromNative(i,!1)}}},{key:"processNumberAction",value:function(e,t){var i=o.Ch5Signal.getSubscriptionSignalName(e.state),n=o.Ch5SignalFactory.getInstance().getNumberSignal(i);if((0,l.isNull)(n))throw new Error("Error processing numeric type signal named ".concat(i));switch(e.logic){case"set":(0,l.isNumber)(e.value)&&a.bridgeReceiveIntegerFromNative(i,e.value);break;case"link":var s=parseInt(""+t,10);isNaN(s)&&(s=0),a.bridgeReceiveIntegerFromNative(i,s);break;case"increment":var r=1;(0,l.isUndefined)(e.offset)||(r=e.offset),a.bridgeReceiveIntegerFromNative(i,+n.value+r);break;case"decrement":var u=1;(0,l.isUndefined)(e.offset)||(u=e.offset),a.bridgeReceiveIntegerFromNative(i,+n.value-u);break;case"rcb":(0,l.isUndefined)(e.value)||(0,l.isUndefined)(e.time)||setTimeout(function(e,t){(0,l.isNull)(e)||a.bridgeReceiveIntegerFromNative(i,t)},e.time,n,e.value)}}},{key:"processStringAction",value:function(e,t){var i=o.Ch5Signal.getSubscriptionSignalName(e.state),n=o.Ch5SignalFactory.getInstance().getStringSignal(i);if((0,l.isNull)(n))throw new Error("Error processing string type signal named ".concat(i));switch(e.logic){case"set":a.bridgeReceiveStringFromNative(i,String(e.value));break;case"link":a.bridgeReceiveStringFromNative(i,String(t))}}},{key:"processObjectAction",value:function(e,t){var i=o.Ch5Signal.getSubscriptionSignalName(e.state),n=o.Ch5SignalFactory.getInstance().getObjectSignal(i);if((0,l.isNull)(n))throw new Error("Error processing object type signal named ".concat(i));switch(e.logic){case"set":(0,l.isUndefined)(e.value)||a.bridgeReceiveObjectFromNative(i,e.value);break;case"link":a.bridgeReceiveObjectFromNative(i,t)}}},{key:"run",value:function(){if((0,l.isUndefined)(e._scenario)||(0,l.isUndefined)(e._scenario.cues))throw new Error("You must load a scenario before trying to run one.");(0,l.isUndefined)(e._scenario.onStart)||(0,l.isUndefined)(e._scenario.onStart.forEach)||e._scenario.onStart.forEach(function(e,t){var i,n=o.Ch5Signal.getSubscriptionSignalName(e.state);switch(e.type){case"b":case"boolean":if(i=o.Ch5SignalFactory.getInstance().getBooleanSignal(n),(0,l.isNull)(i)||!(0,l.isBoolean)(e.value))throw new Error("Error when setting initial value (".concat(e.value,") for state: ").concat(n));a.bridgeReceiveBooleanFromNative(n,e.value);break;case"n":case"numeric":case"number":i=o.Ch5SignalFactory.getInstance().getNumberSignal(n);var s=Number(e.value);if((0,l.isNull)(i)||isNaN(s))throw new Error("Error when setting initial value (".concat(e.value,") for state: ").concat(n));a.bridgeReceiveIntegerFromNative(n,s);break;case"s":case"string":if(i=o.Ch5SignalFactory.getInstance().getStringSignal(n),(0,l.isNull)(i)||!(0,l.isString)(e.value))throw new Error("Error when setting initial value (".concat(e.value,") for state: ").concat(n));a.bridgeReceiveStringFromNative(n,e.value);break;case"o":case"object":if(i=o.Ch5SignalFactory.getInstance().getObjectSignal(n),(0,l.isNull)(i)||!(0,l.isObject)(e.value))throw new Error("Error when setting initial value (".concat(e.value,") for signal: ").concat(n));a.bridgeReceiveObjectFromNative(n,e.value);break;default:throw new Error("Invalid 'onStart' type: ".concat(e.type))}})}}],[{key:"getInstance",value:function(){return(0,l.isUndefined)(e._instance)&&(e._instance=new e),e._instance}},{key:"clear",value:function(){e._instance=void 0,e._scenario={}}}]),e}();t.Ch5Emulator=u,u._scenario={}},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(234),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ButtonLabel=void 0;var n=i(17),s=i(36),r=i(72),a=i(10),o=i(26),l=i(2),u=function(e){_inherits(i,o.Ch5Log);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.call(this)}return _createClass(i,[{key:"connectedCallback",value:function(){if(this.logger.start("connectedCallback"),!(this.parentElement instanceof n.Ch5Button||this.parentElement instanceof s.Ch5ButtonMode||this.parentElement instanceof r.Ch5ButtonModeState))throw new Error("Invalid parent element for ch5-button-label.");this.setAttribute("role",a.Ch5RoleAttributeMapping.ch5ButtonLabel),this.setAttribute("data-ch5-id",this.getCrId()),this.initAttributes(),this.logger.stop()}},{key:"disconnectedCallback",value:function(){this.logger.log("Ch5ButtonLabel.disconnectedCallback()")}}],[{key:"registerSignalAttributeTypes",value:function(){l.Ch5SignalAttributeRegistry.instance.addElementAttributeEntries(i.ELEMENT_NAME,{contractname:{contractName:!0},booleanjoinoffset:{booleanJoin:1},numericjoinoffset:{numericJoin:1},stringjoinoffset:{stringJoin:1}})}}]),i}();t.Ch5ButtonLabel=u,u.ELEMENT_NAME="ch5-button-label","object"==("undefined"==typeof window?"undefined":_typeof(window))&&"object"==_typeof(window.customElements)&&"function"==typeof window.customElements.define&&window.customElements.define(u.ELEMENT_NAME,u),u.registerSignalAttributeTypes()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ButtonSignal=void 0;var n=i(0),s=i(12);t.Ch5ButtonSignal=function(){function e(){_classCallCheck(this,e),this.signals=[];for(var t=0,i=["receiveStateType","receiveStateCustomClass","receiveStateCustomStyle","receiveStateIconClass","receiveStateIconUrl","receiveStateLabel","receiveStateScriptLabelHtml"];t<i.length;t++){var n=i[t];this.signals.push({signalName:n,signalValue:"",signalState:"",currentValue:""})}}return _createClass(e,[{key:"setSignal",value:function(e,t){var i=this.signals.find(function(t){return t.signalName.toLowerCase()===e.toLowerCase()});if(i.signalValue===t||null===t)return null;if(i.signalValue){var r=s.Ch5Signal.getSubscriptionSignalName(i.signalValue),a=n.Ch5SignalFactory.getInstance().getStringSignal(r);null!==a&&a.unsubscribe(i.signalState)}i.signalValue=t;var o=s.Ch5Signal.getSubscriptionSignalName(i.signalValue),l=n.Ch5SignalFactory.getInstance().getStringSignal(o);return null===l?null:l}},{key:"getSignal",value:function(e){return this.signals.find(function(t){return t.signalName.toLowerCase()===e.toLowerCase()})}},{key:"setVariable",value:function(e,t){this.getSignal(e).currentValue=t}},{key:"getVariable",value:function(e){return this.getSignal(e).currentValue}},{key:"unsubscribeAll",value:function(){var e,t=n.Ch5SignalFactory.getInstance(),i=_createForOfIteratorHelper(this.signals);try{for(i.s();!(e=i.n()).done;){var r=e.value;if(""!==r.signalState&&""!==r.signalValue){var a=s.Ch5Signal.getSubscriptionSignalName(r.signalValue),o=t.getStringSignal(a);null!==o&&(o.unsubscribe(r.signalState),r.signalValue="",r.signalState="")}}}catch(l){i.e(l)}finally{i.f()}}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5ButtonUtils=void 0,t.Ch5ButtonUtils=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"checkAttributeValue",value:function(e){return e}},{key:"getProperty",value:function(e,t){return e[t]}},{key:"setProperty",value:function(e,t,i){e[t]=i}},{key:"getVal",value:function(e,t){return e[t]}},{key:"typeAssert",value:function(e){return e}},{key:"setValue",value:function(e,t){return e.indexOf(t)>=0?t:e[0]}}],[{key:"getAttributeValue",value:function(e,t,i,n){return e.hasAttribute(t.toString().toLowerCase())?i:n}},{key:"getValidInputValue",value:function(e,t){return e.indexOf(t)>=0?t:e[0]}}]),e}()},function(e,t,i){(function(e){var n=i(78),s="object"==_typeof(t)&&t&&!t.nodeType&&t,r=s&&"object"==_typeof(e)&&e&&!e.nodeType&&e,a=r&&r.exports===s&&n.process,o=function(){try{return r&&r.require&&r.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o}).call(this,i(42)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,i){var n=i(27),s=i(75),r=i(38),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&s(e.length)&&!!a[n(e)]}},function(e,t,i){var n=i(241),s=i(240),r=i(239),a=r&&r.isTypedArray,o=a?s(a):n;e.exports=o},function(e,t){e.exports=function(){return!1}},function(e,t,i){(function(e){var n=i(11),s=i(243),r="object"==_typeof(t)&&t&&!t.nodeType&&t,a=r&&"object"==_typeof(e)&&e&&!e.nodeType&&e,o=a&&a.exports===r?n.Buffer:void 0,l=(o?o.isBuffer:void 0)||s;e.exports=l}).call(this,i(42)(e))},function(e,t,i){var n=i(80),s=i(75);e.exports=function(e){return null!=e&&s(e.length)&&!n(e)}},function(e,t){var i=Array.isArray;e.exports=i},function(e,t,i){var n=i(27),s=i(38);e.exports=function(e){return s(e)&&"[object Arguments]"==n(e)}},function(e,t,i){var n=i(247),s=i(38),r=Object.prototype,a=r.hasOwnProperty,o=r.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return s(e)&&a.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},function(e,t,i){var n=i(22)(i(11),"WeakMap");e.exports=n},function(e,t,i){var n=i(22)(i(11),"Set");e.exports=n},function(e,t,i){var n=i(22)(i(11),"Promise");e.exports=n},function(e,t,i){var n=i(22)(i(11),"Map");e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,i){var n=i(11)["__core-js_shared__"];e.exports=n},function(e,t,i){var n=i(254),s=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!s&&s in e}},function(e,t){var i=Object.prototype.toString;e.exports=function(e){return i.call(e)}},function(e,t,i){var n=i(79),s=Object.prototype,r=s.hasOwnProperty,a=s.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=r.call(e,o),i=e[o];try{e[o]=void 0;var n=!0}catch(e){}var s=a.call(e);return n&&(t?e[o]=i:delete e[o]),s}},function(e,t,i){var n=i(80),s=i(255),r=i(77),a=i(76),o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,d=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||s(e))&&(n(e)?d:o).test(a(e))}},function(e,t,i){var n=i(22)(i(11),"DataView");e.exports=n},function(e,t,i){var n=i(259),s=i(252),r=i(251),a=i(250),o=i(249),l=i(27),u=i(76),c=u(n),h=u(s),d=u(r),f=u(a),p=u(o),v=l;(n&&"[object DataView]"!=v(new n(new ArrayBuffer(1)))||s&&"[object Map]"!=v(new s)||r&&"[object Promise]"!=v(r.resolve())||a&&"[object Set]"!=v(new a)||o&&"[object WeakMap]"!=v(new o))&&(v=function(e){var t=l(e),i="[object Object]"==t?e.constructor:void 0,n=i?u(i):"";if(n)switch(n){case c:return"[object DataView]";case h:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=v},function(e,t){e.exports=function(e,t){return function(i){return e(t(i))}}},function(e,t,i){var n=i(261)(Object.keys,Object);e.exports=n},function(e,t,i){var n=i(81),s=i(262),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return s(e);var t=[];for(var i in Object(e))r.call(e,i)&&"constructor"!=i&&t.push(i);return t}},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5MutationObserver=void 0;var s=i(3),r=n(i(1));t.Ch5MutationObserver=function(){function e(t){var i=this;_classCallCheck(this,e),this.isConnected=!1,this._element={},this._element=t,this._mutationsObserver=new MutationObserver(function(e){e.forEach(function(e){"attributes"!==e.type||"style"!==e.attributeName&&"inert"!==e.attributeName||i._updateComponentVisibility(e.target)})}),this._mutationsObserverConfig={attributes:!0,attributeOldValue:!0,childList:!1,subtree:!1,attributeFilter:["style","inert"]}}return _createClass(e,[{key:"observe",value:function(e){this._mutationsObserver.observe(e,this._mutationsObserverConfig)}},{key:"disconnectObserver",value:function(){this._mutationsObserver instanceof MutationObserver&&(this.isConnected=!1,this._mutationsObserver.disconnect())}},{key:"_updateComponentVisibility",value:function(e){var t=e;r.default.isNil(t.offsetParent)?this._element.updateElementVisibility(!1):!1===this._shouldUpdateComponentVisibility(e)?this._element.updateElementVisibility(!1):this._element.updateElementVisibility(!0)}},{key:"_shouldUpdateComponentVisibility",value:function(e){var t={};return!document||!document.defaultView||"0"!==(t=document.defaultView.getComputedStyle(e)).opacity&&"hidden"!==t.visibility&&!e.hasAttribute("inert")}}],[{key:"checkElementValidity",value:function(e){return!r.default.isNil(e)&&"BODY"!==e.nodeName&&(void 0===e.classList||e.classList.length<=0||s.Ch5Common.ELEMENTS_MO_EXCEPTION.indexOf(e.classList[0])<0)}}]),e}()},function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),s(i(84),t),s(i(17),t),s(i(236),t),s(i(36),t),s(i(72),t)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Platform=void 0;var n=i(1),s=i(8),r=function(){function e(t){_classCallCheck(this,e),this._ch5PlatformInfoSignal=t.getObjectSignal(e.CSIG_PLATFORM_INFO,!0),this._ch5PlatformInfo={capabilities:{supportsTouchActivity:!0,supportCredentialIntercept:{http:"",https:""}},version:"",name:""},this._updateCallbacks=new Array}return _createClass(e,[{key:"init",value:function(){var e=this;(0,n.isNil)(this._ch5PlatformInfoSignal)||this._ch5PlatformInfoSignal.subscribe(function(t){if(!(0,n.isNil)(t)&&0!==Object.keys(t).length){if(!Object.isFrozen(e._ch5PlatformInfo)){var i=t;e._ch5PlatformInfo=Object.freeze(i)}e._updateCallbacks.forEach(function(t){t(e._ch5PlatformInfo)})}})}},{key:"registerUpdateCallback",value:function(e){e(this._ch5PlatformInfo),this._updateCallbacks.push(e)}},{key:"getPlatformInfo",value:function(){return this._ch5PlatformInfo}}],[{key:"getInstance",value:function(t){return(0,n.isNil)(this._instance)&&((0,n.isNil)(t)&&(t=s.Ch5SignalFactory.getInstance()),this._instance=new e(t)),this._instance}}]),e}();t.Ch5Platform=r,r.CSIG_PLATFORM_INFO="Csig.Platform_Info",r.getInstance().init()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Heartbeats=void 0;var n,s=i(1),r=i(40),a=i(41);!function(e){e.CsigHeatbeatRequest="Csig.HeartbeatRequest",e.CsigHeatbeatResponse="Csig.HeartbeatResponse"}(n||(n={}));var o=function(){function e(){_classCallCheck(this,e),this._heartbeatRequestSub=(0,r.subscribeState)("object",n.CsigHeatbeatRequest,function(e){(0,a.publishEvent)("object",n.CsigHeatbeatResponse,e)})}return _createClass(e,null,[{key:"getInstance",value:function(){return(0,s.isNil)(this._instance)&&(this._instance=new e),this._instance}}]),e}();t.Ch5Heartbeats=o,o.getInstance()},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.signalNameForLibraryBuildDate=t.signalNameForLibraryVersion=t.buildDate=t.version=void 0;var s,r=i(8),a=n(i(85));!function(e){e.versionNotSet="VERSION_NOT_SET",e.invalidDate="BUILD_DATE_INVALID"}(s||(s={})),t.version="2.0.0",t.buildDate="2022-08-19",t.signalNameForLibraryVersion="Csig.library.ver",t.signalNameForLibraryBuildDate="Csig.library.date",function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"init",value:function(){e.displayVersionMessage(),e.initVersionSignals()}},{key:"displayVersionMessage",value:function(){var e="Crestron Component Library version ".concat(t.version," build date ").concat(t.buildDate);console.log(e)}},{key:"initVersionSignals",value:function(){var e=r.Ch5SignalFactory.getInstance(),i=e.getStringSignal(t.signalNameForLibraryVersion),n=e.getStringSignal(t.signalNameForLibraryBuildDate);null===i||(0,a.default)(t.version)?console.log("Error: unable to create signal containing library version"):i.publish(t.version),null===n||(0,a.default)(t.buildDate)?console.log("Error: unable to create signal containing library build date"):n.publish(t.buildDate)}}]),e}().init()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCrestronTouchscreen=void 0,t.isCrestronTouchscreen=function(){return!!window.navigator.userAgent.toLowerCase().includes("crestron")||"undefined"!=typeof JSInterface&&void 0!==JSInterface.bridgeSendBooleanToNative||"undefined"!=typeof webkit&&void 0!==webkit.messageHandlers&&void 0!==webkit.messageHandlers.bridgeSendBooleanToNative||"undefined"!=typeof CommunicationInterface&&void 0!==CommunicationInterface.bridgeSendBooleanToNative}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unSubscribeInViewPortChange=t.subscribeInViewPortChange=void 0;var n=i(28);t.subscribeInViewPortChange=function(e,t){n.Ch5CoreIntersectionObserver.getInstance().observe(e,t)},t.unSubscribeInViewPortChange=function(e){n.Ch5CoreIntersectionObserver.getInstance()instanceof n.Ch5CoreIntersectionObserver&&n.Ch5CoreIntersectionObserver.getInstance().unobserve(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTranslationInterface=void 0;var n=i(29),s=i(94),r=i(23);t.registerTranslationInterface=function(e,t,i){void 0!==t&&void 0!==i&&""!==t.trim()&&""!==i.trim()&&(t=t.trim(),i=i.trim(),s.Ch5TranslationConfiguration.translationTokenStartDelimiter=r.Ch5TranslationUtility.getInstance().translatorBeginKey=t,s.Ch5TranslationConfiguration.translationTokenEndDelimiter=r.Ch5TranslationUtility.getInstance().translatorEndKey=i),n.translationFactory.translator=e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeStateScript=t.unsubscribeStateScript=t.generateSubSigScriptKey=t.subscribeStateScriptSigSubs=void 0;var n=i(40),s=i(88),r=i(87),a=i(12);t.subscribeStateScriptSigSubs={};var o=0;function l(){return"ch5SubSigScript-"+ ++o}function u(e,t,i){for(var n=t,r=e.values(),a=r.next(),o="",l="";void 0!==a.value;){l=a.value.split(".")[0],o=a.value.split(".").slice(1).join(".");var u=(0,s.getState)(l,o);if(null===u){n=i;break}n=n.replace(new RegExp("\\{\\{"+a.value+"\\}\\}","g"),u),a=r.next()}return i!==n&&(n=new Function("return "+n)()),n}t.generateSubSigScriptKey=l,t.unsubscribeStateScript=function(e){t.subscribeStateScriptSigSubs.hasOwnProperty(e)&&t.subscribeStateScriptSigSubs[e].forEach(function(e){(0,r.unsubscribeState)(e.sigType,e.sigName,e.sigSub)})},t.subscribeStateScript=function(e,i,s){var r=new Set;null!=s||(s="undefined"),e.replace(/{{([bns]\.([A-Za-z]|[0-9])([A-Za-z0-9_.])*)}}/g,function(e){return void 0===(arguments.length<=1?void 0:arguments[1])?"":(r.add(arguments.length<=1?void 0:arguments[1]),"")});for(var o="",c="",h=r.values(),d=h.next(),f=[];void 0!==d.value;){c=d.value.split(".")[0],o=d.value.split(".").slice(1).join(".");var p={sigName:o=a.Ch5Signal.getSubscriptionSignalName(o),sigType:c,sigSub:(0,n.subscribeState)(c,o,function(){var t=u(r,e,s);"function"==typeof i&&i.bind(null,t)()})};f.push(p),d=h.next()}var v=l();t.subscribeStateScriptSigSubs[v]=f;var g=u(r,e,s);return"function"==typeof i&&i.bind(null,g)(),v}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textformat=void 0,t.textformat=function(e){for(var t=e,i=0,n=arguments.length<=1?0:arguments.length-1;i<n;i++)t=t.replace(new RegExp("\\{"+(+i+1)+"\\}","g"),i+1<1||arguments.length<=i+1?void 0:arguments[i+1]);return t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.countNumberOfCh5Components=void 0,t.countNumberOfCh5Components=function(e){var t,i={parent:e.tagName,total:0},n=_createForOfIteratorHelper(e.getElementsByTagName("*"));try{for(n.s();!(t=n.n()).done;){var s=t.value,r=s.tagName;if(r.startsWith("CH5-")){i.total++;var a=i[r];i[r]=void 0===a?1:a+1}else if(s.hasAttributes())for(var o=s.attributes,l=o.length-1;l>=0;l--){var u=o[l].name;if(u.startsWith("data-ch5")&&"data-ch5-id"!==u&&!u.endsWith("subs-key")&&!u.endsWith("sub-key")){i.total++;var c=i[u];i[u]=void 0===c?1:c+1}}}}catch(h){n.e(h)}finally{n.f()}return i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubscriptionsCount=void 0;var n=i(8);t.getSubscriptionsCount=function(){return n.Ch5SignalFactory.getInstance().getStates()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bridgeReceiveObjectFromNative=t.bridgeReceiveStringFromNative=t.bridgeReceiveBooleanFromNative=t.bridgeReceiveIntegerFromNative=void 0;var n=i(8),s=i(30),r=i(12),a={},o={};function l(e,t){if(s.Ch5Debug.info("bridge.rcbIntervalTimerCallback"," start ","signalName "+e," rcbObject ",t),0!==t.rcb.time){var i=(t.rcb.value-t.rcb.startv)/t.rcb.time,r=i*(Date.now()-t.rcb.startt)+t.rcb.startv,a=n.Ch5SignalFactory.getInstance().getNumberSignal(e);r=i>0?Math.floor(r):i<0?Math.ceil(r):Math.round(r),null!==a&&a.value!==r&&a.fromSignalBridge(r)}}function u(e,t){s.Ch5Debug.info("bridge.rcbTimerCallback"," start ","signalName "+e," rcbObject ",t);var i=t.rcb.value,r=n.Ch5SignalFactory.getInstance().getNumberSignal(e);null!==r&&r.fromSignalBridge(i);var a=n.Ch5SignalFactory.getInstance().getObjectSignal(e),o={rcb:{value:i,time:0}};null!==a&&a.fromSignalBridge(o),c(e)}function c(e){s.Ch5Debug.info("bridge.clearTimersForSignal"," start ","signalName "+e),a.hasOwnProperty(e)&&(window.clearInterval(a[e]),delete a[e]),o.hasOwnProperty(e)&&(window.clearTimeout(o[e]),delete o[e])}t.bridgeReceiveIntegerFromNative=function(e,t){var i=r.Ch5Signal.getSubscriptionSignalName(e);s.Ch5Debug.info("bridgeReceiveIntegerFromNative",'"'+i+'":'+t),c(i);var a=n.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==a&&a.fromSignalBridge(t);var o=n.Ch5SignalFactory.getInstance().getObjectSignal(i),l={rcb:{value:t,time:0}};null!==o&&o.fromSignalBridge(l)},t.bridgeReceiveBooleanFromNative=function(e,t){var i=r.Ch5Signal.getSubscriptionSignalName(e);s.Ch5Debug.info("bridgeReceiveBooleanFromNative",'"'+i+'":'+t);var a=n.Ch5SignalFactory.getInstance().getBooleanSignal(i);null!==a&&a.fromSignalBridge(t)},t.bridgeReceiveStringFromNative=function(e,t){var i=r.Ch5Signal.getSubscriptionSignalName(e);s.Ch5Debug.info("bridgeReceiveStringFromNative",'"'+i+'":"'+t+'"');var a=n.Ch5SignalFactory.getInstance().getStringSignal(i);null!==a&&a.fromSignalBridge(t)},t.bridgeReceiveObjectFromNative=function(e,t){var i=r.Ch5Signal.getSubscriptionSignalName(e),h="bridgeReceiveObjectFromNative";s.Ch5Debug.shouldDisplay(h)&&s.Ch5Debug.info(h,'"'+i+"\":'"+JSON.stringify(t)+"'");var d=n.Ch5SignalFactory.getInstance().getObjectSignal(i);if(null!==d)if(function(e){return e.hasOwnProperty("rcb")&&e.rcb.hasOwnProperty("value")&&e.rcb.hasOwnProperty("time")}(t)){var f=0,p=n.Ch5SignalFactory.getInstance().getNumberSignal(i);null!==p&&(f=p.value),d.fromSignalBridge(function(e,t,i){s.Ch5Debug.info("bridge.processReceivedRcb"," process rcb ","signalName "+e," rcbObject ",t," current scalar value",i),c(e);var n={rcb:{value:t.rcb.value,time:t.rcb.time,startv:i,startt:Date.now()}},r=window.setTimeout(u,t.rcb.time,e,n);if(o[e]=r,100<t.rcb.time){var h=window.setInterval(l,100,e,n);a[e]=h}return n}(i,t,f))}else d.fromSignalBridge(t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ch5Uid=void 0;var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getUid",value:function(){return e._prefix+ ++e._id}}]),e}();t.Ch5Uid=n,n._id=0,n._prefix="cr-id-"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Core=void 0,t.Core=function(){return _createClass(function e(){_classCallCheck(this,e)})}()},function(e,t,i){e.exports=i(24)}]);
},{}],"NvjX":[function(require,module,exports) {
"use strict";var e=r(require("@crestron/ch5-crcomlib"));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}function r(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var u=a?Object.getOwnPropertyDescriptor(e,c):null;u&&(u.get||u.set)?Object.defineProperty(o,c,u):o[c]=e[c]}return o.default=e,n&&n.set(e,o),o}function n(t){var r=parseInt(t.target.value,10);e.publishEvent("n","1",r);var n=document.getElementsByClassName("demoActive");Array.from(n).forEach(function(e){document.getElementById(e.id).className="demo"}),document.getElementById("source".concat(t.target.value)).className="demoActive"}document.querySelector(".sources").addEventListener("click",function(e){"BUTTON"===e.target.tagName&&(console.log(e.target.id,"button was pressed!",e.target.value),n(e)),e.stopPropagation()});
},{"@crestron/ch5-crcomlib":"YVpR"}]},{},["NvjX"], null)
//# sourceMappingURL=js.7618c660.js.map